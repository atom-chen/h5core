function zeroize(t,e){void 0===e&&(e=2);for(var r=""+t,i="",n=0,o=e-r.length;o>n;n++)i+="0";return i+r}var __reflect=this&&this.__reflect||function(t,e,r){t.__class__=e,r?r.push(e):r=[e],t.__types__=t.__types__?r.concat(t.__types__):r},__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},junyou;!function(t){var e=egret.Texture;t.DATA_FILE="s.json";var r=function(){function r(){this._suiDatas={},this._urlKey={},this.initInlineCreators()}return r.prototype.initInlineCreators=function(){var e={};this._creators=e,this._sharedTFCreator=new t.TextFieldCreator,e[3]=t.ButtonCreator,e[6]=t.ArtTextCreator,e[5]=t.ScaleBitmapCreator,e[7]=t.NumericStepperCreator,e[8]=t.SliderCreator,e[9]=t.ScrollBarCreator,e[10]=t.ProgressBarCreator,e[11]=t.ScaleBitmapCreator,e[12]=t.ShareBitmapCreator,e[13]=t.SlotCreator},r.prototype.getData=function(t){return this._suiDatas[t]},r.prototype.loadData=function(e,r){var i=this._suiDatas[e];i||(i=new t.SuiData,i.key=e,this._suiDatas[e]=i);var n=i.state;if(-1==n)r.suiDataFailed(i);else if(2==n)r.suiDataComplete(i);else{var o=i.callbacks;if(0==n){i.state=1,i.callbacks=o=[];var a=t.ConfigUtils.getSkinFile(e,t.DATA_FILE);i.url=a,this._urlKey[a]=i,RES.getResByUrl(a,this.checkData,this)}o.pushOnce(r)}},r.prototype.setInlineData=function(e,r){var i=t.ConfigUtils.getSkinFile(e,t.DATA_FILE),n=this._urlKey[i];n||(n=new t.SuiData,n.key=e,n.url=i,this._suiDatas[e]=n),this._initSuiData(r,n)},r.prototype._initSuiData=function(t,e){var r=t[0];r&&this.parseTextureData(r,e,!0);var i=t[2];i&&this.parseTextureData(i,e),this.parseComponentData(t[1],e);var n,o=t[4];if(o){var a=t[3];n={};for(var s=0;s<a.length;s++){var u=a[s],h=o[u[0]];n[h]=u.slice(1)}e.panelNames=o}else n=t[3];n&&(e.panelsData=n),e.state=2;var c=e.callbacks;if(c){for(var s=0;s<c.length;s++){var l=c[s];l.suiDataComplete(e)}delete e.callbacks}},r.prototype.checkData=function(t,e){var r=this._urlKey[e];if(t)this._initSuiData(t,r);else{r.state=-1;var i=r.callbacks;if(i){for(var n=0;n<i.length;n++){var o=i[n];o.suiDataFailed(r)}delete r.callbacks}}},r.prototype.parseComponentData=function(e,r){r.sourceComponentData=e;for(var i in e){var n=e[i],o=n[0],a=n[1],s=n[2],u=o.length;if(15==i)for(var h=r.fonts,c=0;u>c;c++){var l=o[c],p=a[c],f=new t.ArtWord(l);f.parseData(p,r),h||(r.fonts=h={}),h[l]=f}else{var d=this._creators[i];if(d)for(var y=r.lib,c=0;u>c;c++){var v=o[c],p=a[c],g=new d;g.parseData(null,r),p&&(g.parseSelfData(p),g.parseSize(s[c])),y[v]=g}}}},r.prototype.parseTextureData=function(r,i,n){if(r){var o=[],a=i.bmplibs;a||(i.bmplibs=a={}),i.createBmpLoader(n,o);for(var s=0,u=r.length;u>s;s++){var h=r[s],c=new e,l=h[0],p=h[1],f=h[2],d=h[3];c.$initData(f,d,l,p,0,0,l,p,l,p),o[s]=c;var y=new t.BitmapCreator(i),v=n?s:-1-s;y.parseSelfData(v),a[v]=y}}},r.prototype.createDisplayObject=function(e,r,i){var n=this._suiDatas[e];if(n){var o=n.lib[r];if(o)return o.setBaseData(i),o.get();t.ThrowError("没有在["+n.key+"]找到对应组件["+r+"]")}},r.prototype.createElement=function(e,r){var i=this._suiDatas[e];if(i){var n=this._creators[+r[0]];if(n){var o=new n;return o.parseData(r,i),o.get()}t.ThrowError("createElement时，没有找到对应组件，索引：["+ +r[0]+"]")}},r.prototype.createBitmap=function(t,e,r){var i=this._suiDatas[t];if(i){var n=i.bmplibs,o=n[e];if(o)return o.setBaseData(r),o.get()}},r.prototype.getArtWord=function(t,e){var r=this._suiDatas[t];if(r){var i=r.fonts;if(i)return i[e]}},r.prototype.getArtWordTexture=function(t,e,r){var i=this.getArtWord(t,e);return i?i.getTexture(r):void 0},r.prototype.createBitmapByData=function(t,e){return this.createBitmap(t,e[2],e[1])},r.prototype.createTextField=function(t,e,r){var i=this._sharedTFCreator;return i.parseSelfData(e),i.setBaseData(r),i.get()},r.prototype.createTextFieldByData=function(t,e){return this.createTextField(t,e[2],e[1])},r.initBaseData=function(t,e,r){e[0]&&(t.name=e[0]);var i=e[1],n=e[2],o=e[3],a=e[4],s=e[5],u=e[6];if(t.suiRawRect=new egret.Rectangle(i,n,o,a),Array.isArray(s)){var h=s[0],c=s[1],l=s[2],p=s[3],f=t.matrix;f.setTo(h,c,l,p,i,n),t.$setMatrix(f,!0)}else t.width=o,t.height=a,t.x=i,t.y=n,s&&(t.rotation=s);void 0!=u&&(t.alpha=u)},r.prototype.createComponents=function(t,e,r){var i=this._suiDatas[t];if(i){var n=i.panelsData;if(n){var o=n[e];if(o){var a=o[0],s=o[1];r.suiRawRect=new egret.Rectangle(a[0],a[1],a[2],a[3]),this._createComponents(i,r,s)}}}},r.prototype._createComponents=function(e,i,n){if(n)for(var o=0;o<n.length;o++){var a=n[o],s=void 0,u=a[1],h=a[0];14==h?s=new egret.Rectangle(u[1],u[2],u[3],u[4]):(2==h?(s=new egret.Sprite,r.initBaseData(s,u),this._createComponents(e,s,a[2])):s=this.getElement(e,a),s?i.addChild(s):t.ThrowError("没有正确创建原件，类型："+h+"，数据："+JSON.stringify(a)));var c=u[0];c&&(i[c]=s)}},r.prototype.getElement=function(e,i){var n=i[0],o=i[1],a=i[2],s=i[3];switch(n){case 1:var u=new t.TextFieldCreator;return u.setBaseData(o),u.parseSelfData(a),u.get();case 0:var h=new t.BitmapCreator(e);return h.parseData(i,e),h.get();case 16:var c=new egret.Sprite;return r.initBaseData(c,o),c;case 17:var l=new t.Image;return r.initBaseData(l,o),l;default:void 0==s&&(s=0);var p=void 0;switch(s){case 0:p=e.key;break;case 1:p="lib";break;default:p=s}if(18==n){var f=e.panelNames[~~a],d=new t.View(p,f);return r.initBaseData(d,o),d}var y=e.sourceComponentData;if(y){var v=y[n];if(v){var g=v[0];if(g){var _=a,m=g[_];if(m)return this.createDisplayObject(p,m,o)}}}return this.createElement(p,i)}},r}();t.SuiResManager=r,__reflect(r.prototype,"junyou.SuiResManager")}(junyou||(junyou={})),Object.defineProperties(Object.prototype,{clone:{value:function(){var t={};for(var e in this)t[e]=this[e];return t},writable:!0},getPropertyDescriptor:{value:function(t){var e=Object.getOwnPropertyDescriptor(this,t);if(e)return e;var r=Object.getPrototypeOf(this);return r?r.getPropertyDescriptor(t):void 0},writable:!0},copyto:{value:function(t){for(var e in this)if(e in t){var r=t.getPropertyDescriptor(e);r&&r.set&&(t[e]=this[e])}else t[e]=this[e]},writable:!0},equals:{value:function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];e.length||(e=Object.getOwnPropertyNames(t));for(var i=0;i<e.length;i++){var n=e[i];if(this[n]!=t[n])return!1}return!0},writable:!0}}),Object.defineProperties(Function.prototype,{isSubClass:{value:function(t){if("function"!=typeof t)return!1;for(var e=this.prototype,r=!1;null!==e&&e!==Object;){if(e===t){r=!0;break}e=e.prototype}return!0},writable:!0}}),Math.DEG_TO_RAD=Math.PI/180,Math.RAD_TO_DEG=180/Math.PI,Math.PI2=2*Math.PI,Math.PI_1_2=.5*Math.PI,Math.clamp=function(t,e,r){return e>t&&(t=e),t>r&&(t=r),t},Math.random2=function(t,e){return t+Math.random()*(e-t)},Number.isSafeInteger||(Number.isSafeInteger=function(t){return 9007199254740991>t&&t>=-9007199254740991}),Object.defineProperties(Number.prototype,{zeroize:{value:function(t){return zeroize(this,t)},writable:!0},between:{value:function(t,e){return this>=t&&e>=this},writable:!0}}),Object.defineProperties(String.prototype,{zeroize:{value:function(t){return zeroize(this,t)},writable:!0},substitute:{value:function(){var t=arguments.length;if(t>0){var e;if(1==t?(e=arguments[0],"object"!=typeof e&&(e=arguments)):e=arguments,e instanceof Object&&!(e instanceof RegExp))return this.replace(/\{(?:%([^{}]+)%)?([^{}]+)\}/g,function(t,r,i){var n=e[i];if(r){var o=String.subHandler[r];o&&(n=o(n))}return void 0!==n?""+n:t})}return this.toString()},writable:!0},hash:{value:function(){for(var t=this.length,e=5381,r=0;t>r;r++)e+=(e<<5)+this.charCodeAt(r);return 2147483647&e},writable:!0},trueLength:{value:function(){var t=this.match(/[\u2E80-\u9FBF]/gi);return this.length+(t?t.length:0)},writable:!0}}),String.zeroize=zeroize,String.regSubHandler=function(t,e){1!=e.length&&junyou.ThrowError("String.regSubHandler注册的函数，参数数量必须为一个，堆栈：\n"+(new Error).stack+"\n函数内容："+e.toString()),t in this.subHandler&&junyou.ThrowError("String.regSubHandler注册的函数，注册了重复的key["+t+"]，堆栈：\n"+(new Error).stack),this.subHandler[t]=e},Object.defineProperties(Date.prototype,{format:{value:function(t,e){function r(){return e?u.getDate():u.getUTCDate()}function i(){return e?u.getMonth():u.getUTCMonth()}function n(){return e?u.getFullYear():u.getUTCFullYear()}function o(){return e?u.getHours():u.getUTCHours()}function a(){return e?u.getMinutes():u.getUTCMinutes()}function s(){return e?u.getSeconds():u.getUTCSeconds()}var u=this;return t.replace(/"[^"]*"|'[^']*'|(?:d{1,2}|m{1,2}|yy(?:yy)?|([hHMs])\1?)/g,function(t){switch(t){case"d":return r();case"dd":return zeroize(r());case"M":return i()+1;case"MM":return zeroize(i()+1);case"yy":return(n()+"").substr(2);case"yyyy":return n();case"h":return o()%12||12;case"hh":return zeroize(o()%12||12);case"H":return o();case"HH":return zeroize(o());case"m":return a();case"mm":return zeroize(a());case"s":return s();case"ss":return zeroize(s());default:return t.substr(1,t.length-2)}})},writable:!0}}),Array.binaryInsert=function(t,e,r){for(var i=[],n=3;n<arguments.length;n++)i[n-3]=arguments[n];for(var o=t.length-1,a=0;o>=a;){var s=a+o>>1,u=t[s];r.apply(void 0,[u].concat(i))?o=s-1:a=s+1}t.splice(a,0,e)},Array.SORT_DEFAULT={number:0,string:"","boolean":!1},Object.freeze(Array.SORT_DEFAULT),Object.defineProperties(Array.prototype,{cloneTo:{value:function(t){t.length=this.length;var e=this.length;t.length=e;for(var r=0;e>r;r++)t[r]=this[r]},writable:!0},appendTo:{value:function(t){for(var e=this.length,r=0;e>r;r++)t.push(this[r])},writable:!0},pushOnce:{value:function(t){var e=this.indexOf(t);return~e||(e=this.length,this[e]=t),e},writable:!0},remove:{value:function(t){var e=this.indexOf(t);return~e?(this.splice(e,1),!0):!1},writable:!0},doSort:{value:function(){var t,e,r=arguments.length;r>2&&junyou.ThrowError("doSort参数不能超过2");for(var i=0;r>i;i++){var n=arguments[i],o=typeof n;"string"===o?t=n:e=!!n}return t?this.sort(function(r,i){return e?i[t]-r[t]:r[t]-i[t]}):this.sort(function(t,r){return e?r-t:t-r})},writable:!0},multiSort:{value:function(t,e){var r=Array.isArray(e);return this.sort(function(i,n){for(var o=Array.SORT_DEFAULT,a=0,s=t.length;s>a;a++){var u=t[a],h=r?!!e[a]:!!e,c=i[u],l=n[u],p=typeof c,f=typeof l;if("object"==p||"object"==f)return junyou.ThrowError("multiSort 比较的类型不应为object,"+p+"    "+f),0;if(p!=f)if("undefined"==p)l=o[f];else{if("undefined"!=f)return junyou.ThrowError("multiSort 比较的类型不一致,"+p+"    "+f),0;c=o[p]}if(l>c)return h?1:-1;if(c>l)return h?-1:1}return 0})},writable:!0}});var junyou;if(function(t){function e(t,e){return egret.is(t,egret.getQualifiedClassName(e))}function r(t){t&&t.parent&&t.parent.removeChild(t)}function i(e,r,i,n,o){void 0===i&&(i=10),void 0===n&&(n=0),void 0===o&&(o=0),t.Layout.layout(e,i,n,o,!0,!0,r),r.addChild(e)}t.is=e,t.removeDisplay=r,t.addTo=i}(junyou||(junyou={})),"undefined"==typeof window.Map||!window.Map){var PolyfillMap=function(){function t(){this._keys=[],this._values=[],this._size=0}return t.prototype.set=function(t,e){var r=this._keys,i=r.indexOf(t);if(~i)this._values[i]=e;else{var n=this._size;r[n]=t,this._values[n]=e,this._size++}return this},t.prototype.get=function(t){var e=this._keys.indexOf(t);return~e?this._values[e]:void 0},t.prototype.has=function(t){return~this._keys.indexOf(t)},t.prototype["delete"]=function(t){var e=this._keys,r=e.indexOf(t);return~r?(e.splice(r,1),this._values.splice(r,1),this._size--,!0):!1},t.prototype.forEach=function(t,e){for(var r=this._keys,i=this._values,n=0,o=this._size;o>n;n++)t(i[n],r[n],e)},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._size=0},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),t}();window.Map=PolyfillMap}var egret;!function(t){!function(){var e=t.Bitmap.prototype;e.refreshBMD=function(){var t=this.texture;null!=t&&(this.texture=null,this.texture=t)};var r=t.Bitmap.prototype.$refreshImageData;e.$refreshImageData=function(){r.call(this);var t=this.$Bitmap,e=t[1];e&&(t[13]=e.width,t[14]=e.height)};var i=new t.HtmlTextParser;t.TextField.prototype.setHtmlText=function(t){"number"==typeof t&&(t+=""),this.textFlow=t?i.parser(t):junyou.Temp.EmptyArray};var n=t.EventDispatcher.prototype;n.removeAllListeners=function(){var t=this.$EventDispatcher;t[1]={},t[2]={}},n.removeListeners=function(t,e){var r=this.$getEventMap(e),i=r[t];i&&(i.length=0)},n.on=n.addEventListener,n.off=n.removeEventListener,n.hasListen=n.hasEventListener,n.dispatch=n.dispatchEventWith;var o=t.DisplayObject.prototype;o.off=o.removeEventListener,o.removeListeners=function(e,r){var i;this.$getEventMap(r);"enterFrame"==e?i=t.DisplayObject.$enterFrameCallBackList:"render"==e&&(i=t.DisplayObject.$renderCallBackList),i&&i.remove(this),n.removeListeners.call(this,e,r)},o.removeAllListeners=function(){var e=this.$EventDispatcher;e[1]={},e[2]={},t.DisplayObject.$enterFrameCallBackList.remove(this),t.DisplayObject.$renderCallBackList.remove(this)},t.Graphics.prototype.drawRectangle=function(t){this.drawRect(t.x,t.y,t.width,t.height)}}()}(egret||(egret={}));var junyou;!function(t){function e(t){return function(e,r){var i=e._injectProxys;i||(e._injectProxys=i={}),i[r]=t}}var r=function(){function e(t){this._name=t,this.checkInject()}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),e.prototype.checkInject=function(){var e=this._injectProxys;if(e){var r=void 0;for(var i in e){var n=e[i];r="object"==typeof n?t.Facade.getNameOfInline(n):n,t.proxyCall(r,this.getProxyCallback,this,i)}}},e.prototype.addReadyExecute=function(e,r){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var o=this._asyncHelper;o||(this._asyncHelper=o=new t.AsyncHelper,o._ready=this.isReady),o.addReadyExecute.apply(o,[e,r].concat(i))},Object.defineProperty(e.prototype,"isReady",{get:function(){return!1},enumerable:!0,configurable:!0}),e.prototype.startSync=function(){},e.prototype.addDepend=function(e){this._dependerHelper||(this._dependerHelper=new t.DependerHelper(this,this.dependerReadyCheck)),this._dependerHelper.addDepend(e)},e.prototype.getProxyCallback=function(t,e){this[e]=t,this.addDepend(t)},e.prototype.dependerReadyCheck=function(){},e.prototype.onRegister=function(){},e.prototype.onRemove=function(){},e.prototype.afterAllReady=function(){},e}();t.FHost=r,__reflect(r.prototype,"junyou.FHost",["junyou.IDepender","junyou.IAsync"]),t.__dependProxy=e}(junyou||(junyou={})),function(t){t.d_dependProxy=t.__dependProxy}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(){return e.call(this)||this}return __extends(r,e),Object.defineProperty(r.prototype,"guid",{get:function(){return this._guid},enumerable:!0,configurable:!0}),r.prototype.init=function(t){this._creator=t,this.enabled=!0,this.stageEvent(),this.bindChildren()},r.prototype.stageEvent=function(t){var e=egret.Event,r=t?this.off:this.on;r.call(this,e.ADDED_TO_STAGE,this.awake,this),r.call(this,e.REMOVED_FROM_STAGE,this.sleep,this)},r.prototype.awake=function(){},r.prototype.sleep=function(){},r.prototype.dispose=function(){this.removeAllListeners()},r.prototype.bindChildren=function(){},r.prototype.drawDele=function(){if(this._creator){var t=this._creator.size,e=this.graphics;e.lineStyle(2,65280),e.beginFill(255,.3),e.drawRect(t.x,t.y,t.width,t.height)}},r.prototype.setLayoutBoundsSize=function(t,e){},r.prototype.getPreferredBounds=function(t){},r.prototype.setLayoutBoundsPosition=function(t,e){},r.prototype.getLayoutBounds=function(t){},Object.defineProperty(r.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled!=t&&this.$setEnabled(t)},enumerable:!0,configurable:!0}),r.prototype.$setEnabled=function(e){this._enabled=e,this.touchEnabled=e,this.touchChildren=e,this._useDisableFilter&&(e?this.filters=void 0:this.filters=t.FilterUtils.gray)},Object.defineProperty(r.prototype,"view",{get:function(){return this},enumerable:!0,configurable:!0}),r}(egret.Sprite);t.Component=e,__reflect(e.prototype,"junyou.Component")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){}return Object.defineProperty(e.prototype,"suiData",{get:function(){return this._suiData},enumerable:!0,configurable:!0}),e.prototype.bindSuiData=function(t){this._suiData=t},e.prototype.parseData=function(t,e){this._parsed||(this._parsed=!0,this.bindSuiData(e),t&&(this.setBaseData(t[1]),this.parseSelfData(t[2])))},e.prototype.parseSize=function(t){t&&(this.size=new egret.Rectangle(t[0],t[1],t[2],t[3]))},e.prototype.createElement=function(e){return t.singleton(t.SuiResManager).getElement(this._suiData,e)},e.prototype.setBaseData=function(t){this._baseData=t},e.prototype.parseSelfData=function(t){},e.prototype.get=function(){var e=this._createT();return e.suiRawRect=this.size,e instanceof t.Component&&e.init(this),this._baseData&&t.SuiResManager.initBaseData(e,this._baseData),e},e}();t.BaseCreator=e,__reflect(e.prototype,"junyou.BaseCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(e){var r=t.call(this,e)||this;return r._selfReady=!0,r._readyState=0,r}return __extends(e,t),Object.defineProperty(e.prototype,"isReady",{get:function(){return 2==this._readyState&&this._selfReady},enumerable:!0,configurable:!0}),e.prototype.startSync=function(){return 2==this._readyState?this.selfReady():0==this._readyState&&(this._readyState=1,this._startSync()),!1},e.prototype._startSync=function(){},e.prototype.selfReady=function(){this.parseSelfData(),this._selfReady=!0,this._dependerHelper?this._dependerHelper.check():this.allReadyHandler()},e.prototype.parseSelfData=function(){},e.prototype.dependerReadyCheck=function(){this._selfReady&&this.allReadyHandler()},e.prototype.allReadyHandler=function(){2!=this._readyState&&(this.afterAllReady(),this._readyState=2,this._asyncHelper&&this._asyncHelper.readyNow())},e}(t.FHost);t.Proxy=e,__reflect(e.prototype,"junyou.Proxy")}(junyou||(junyou={}));var junyou;!function(t){t.Temp={SharedArray1:[],SharedArray2:[],SharedArray3:[],EgretPoint:new egret.Point,EgretRectangle:new egret.Rectangle,SharedPoint1:{x:0,y:0,z:0},SharedPoint2:{x:0,y:0,z:0},voidFunction:function(){},willReplacedFunction:function(){t.ThrowError("需要被替换的方法，没有被替换，堆栈信息："+(new Error).stack)},EmptyObject:{},EmptyArray:[],pipeFunction:function(t){return t}},Object.freeze(t.Temp.EmptyObject),Object.freeze(t.Temp.EmptyArray)}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this.d=0,this.f=0,this.idx=0,this.nextRenderTime=0,this.renderedTime=0,this._playSpeed=1}return e.onSlowRender=function(){t.dispatch(-1996)},Object.defineProperty(e.prototype,"playSpeed",{get:function(){return this._playSpeed},set:function(t){0>t&&(t=0),t!=this._playSpeed&&(this._playSpeed=t)},enumerable:!0,configurable:!0}),e.prototype.onData=function(r,i){var n=this.nextRenderTime;if(i>n){var o=this.renderedTime,a=i-n;a>2e3&&(n=i,o=i,console.log("Render上次执行时间和当前时间差值过长["+a+"]，可以执行["+a/r.totalTime+"次总序列]"),e.dispatchSlowRender&&t.Global.callLater(e.onSlowRender));var s=r.frames,u=this.idx,h=s.length-1,c=this.playSpeed*e.globalPlaySpeed,l=void 0;if(c>0)for(c=1/c,.01>c&&(c=.01);;){if(l=s[u],!l){if(this.idx=0,this.isComplete(r))return void this.doComplete(i);u=0,l=s[0];break}var p=l.t*c;if(0>=p){p=i-o;break}if(n=o+p,!(i>n))break;l.e&&this.dispatchEvent(l.e,i),o=n,u++}else l=s[u];if(this.idx=u,this.renderedTime=o,this.nextRenderTime=n,this.willRenderFrame=l,u>h&&(this.idx=0,this.isComplete(r)))return void this.doComplete(i)}},e.prototype.isComplete=function(t){return!t.isCircle},e.prototype.doRender=function(t){this.willRenderFrame&&(this.clearRes(),this.renderFrame(this.willRenderFrame,t)),this.willRenderFrame=void 0},e.prototype.renderFrame=function(t,e){this.f=t.f},e.prototype.clearRes=function(){},e.prototype.dispatchEvent=function(t,e){},e.prototype.doComplete=function(t){},e}();e.globalPlaySpeed=1,t.BaseRender=e,__reflect(e.prototype,"junyou.BaseRender",["junyou.IDrawInfo"])}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){}return e.prototype.getCastPoint=function(e,r){if(this.castPoints){var i=this.castPoints[t.PstUtils.getADKey(e,r)];if(i)return i}},e.prototype.init=function(e,r){this.key=e,this._resources={};var i=new n(e);this.splitInfo=i,i.parseSplitInfo(r[1]),this.frames=i.parseFrameData(r[2]);var o=r[3];if(o){this.headY=+o[0],this.hurtY=+o[1];var a=o[2];if(a){var s={};this.castPoints=s;for(var u in a)for(var h=a[u],c=0;8>c;c++){var l=h[c>4?8-c:c];if(l){var p=new egret.Point;s[t.PstUtils.getADKey(+u,c)]=p,p.x=+l[0],p.y=+l[1]}}}}},e.prototype.decodeImageDatas=function(t){for(var e in t){var r=this.getResource(e);r.decodeData(t[e])}},e.prototype.getResource=function(e){var r=this._resources[e];return r||(r=new t.UnitResource(e,this.splitInfo),this._resources[e]=r),r},e.prototype.getUnitResource=function(t){var e=this.getResource(t);return e.loadData(),e},e}();t.PstInfo=e,__reflect(e.prototype,"junyou.PstInfo");var r=function(){function e(t){this._key=t}return e.prototype.parseFrameData=function(e){var r={};for(var i in e){var n=+i;r[n]=t.getActionInfo(e[n],n)}return r},e}();t.SplitInfo=r,__reflect(r.prototype,"junyou.SplitInfo"),t.PstUtils={getADKey:function(t,e){return t<<8|e},getAFromADKey:function(t){return t>>8},getDFromADKey:function(t){return 255&t}};var i=function(){function t(t,r){for(var i=t;r>=i;i++)e.push(String.fromCharCode(i))}var e=[];return t(97,122),t(65,90),e}(),n=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return __extends(r,e),r.prototype.parseFrameData=function(e){this._resDict={};var r={};this.adDict=r;var i={};for(var n in e){var o=+n;i[o]=t.getActionInfo(e[o],o);for(var a=0;5>a;a++){var s=this.getResource(a,o);r[s]=[t.PstUtils.getADKey(o,a)]}}return i},r.prototype.parseSplitInfo=function(t){this._n=t.n||"{a}{d}",this._a=t.a||i,this._d=t.d},r.prototype.getResource=function(e,r){function i(t,e){var r=t+"";return e&&t in e&&(r=e[t]),r}var n=t.PstUtils.getADKey(r,e),o=this._resDict[n];return o||(this._resDict[n]=o=this._n.substitute({f:this._key,a:i(r,this._a),d:i(e,this._d)})),o},r}(r);t.OneADSInfo=n,__reflect(n.prototype,"junyou.OneADSInfo")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(){}return Object.defineProperty(t.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"total",{get:function(){return this._total},enumerable:!0,configurable:!0}),t.prototype.setShakeTarget=function(t){return this._target=t,this},t.prototype.setTargetPos=function(t,e){var r=this._target;void 0===t&&(t=r?r.x:0),void 0===e&&(e=r?r.y:0),this._cx=t,this._cy=e},t.prototype.start=function(){this._target&&(this._shaking=!0)},t.prototype.end=function(){if(this._shaking){var t=this._target;t.x=this._cx,t.y=this._cy,this._shaking=!1}},t.prototype.dispose=function(){this._target=void 0},t}();t.BaseShake=e,__reflect(e.prototype,"junyou.BaseShake",["junyou.Shake"])}(junyou||(junyou={}));var junyou;!function(t){var e=egret.TouchEvent,r=function(r){function i(){var t=null!==r&&r.apply(this,arguments)||this;return t._list=[],t._selectedIndex=-1,t}return __extends(i,r),i.prototype.addItem=function(t){t&&(this._list.pushOnce(t),t.on(e.TOUCH_TAP,this.touchHandler,this))},i.prototype.touchHandler=function(t){this.$setSelectedItem(t.target)},i.prototype.removeItem=function(t){t&&(this._selectedItem==t&&this.$setSelectedItem(),this._list.remove(t),t.off(e.TOUCH_TAP,this.touchHandler,this))},i.prototype.addItems=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0;r<t.length;r++){var i=t[r];this.addItem(i)}},Object.defineProperty(i.prototype,"selectedItem",{get:function(){return this._selectedItem},set:function(t){this.$setSelectedItem(t)},enumerable:!0,configurable:!0}),i.prototype.$setSelectedItem=function(e){var r=this._selectedItem;if(r!=e){r&&(r.selected=!1);var i=-1;return e&&(i=this._list.indexOf(e),~i?e.selected=!0:(e=void 0,t.ThrowError("Group 设置的组件未添加到该组"))),this._selectedItem=e,this._selectedIndex=i,this.dispatch(-1020)}},Object.defineProperty(i.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(t){this.$setSelectedIndex(t)},enumerable:!0,configurable:!0}),i.prototype.$setSelectedIndex=function(t){if(this._selectedIndex!=t){var e=t>=0?this._list[t]:void 0;this.$setSelectedItem(e)}},i.prototype.clear=function(){for(var t=this._list,r=0;r<t.length;r++){var i=t[r];i.off(e.TOUCH_TAP,this.touchHandler,this)}t.length=0,this._selectedIndex=-1},i.prototype.onRecycle=function(){this.clear()},i}(egret.EventDispatcher);t.Group=r,__reflect(r.prototype,"junyou.Group")}(junyou||(junyou={}));var junyou;!function(t){function e(t,e,r){return function(i,n,o){var a=i._interests;a||(i._interests=a={});var s={};s.handler=o.value,s.priority=r||0,s.trigger=e,a[t]=s}}var r=egret.Event,i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.prototype.removeSkinListener=function(t){t&&(t.off(r.REMOVED_FROM_STAGE,this.stageHandler,this),t.off(r.ADDED_TO_STAGE,this.stageHandler,this))},i.prototype.addSkinListener=function(t){t&&(t.on(r.REMOVED_FROM_STAGE,this.stageHandler,this),t.on(r.ADDED_TO_STAGE,this.stageHandler,this))},Object.defineProperty(i.prototype,"isReady",{get:function(){return this._ready},enumerable:!0,configurable:!0}),i.prototype.stageHandler=function(e){var i,n,o=this._interests;if(e.type==r.ADDED_TO_STAGE){for(i in o)n=o[i],t.on(i,n.handler,this,n.priority),n.trigger&&n.handler.call(this);this.awake&&this.awake()}else{for(i in o)n=o[i],t.off(i,n.handler,this);this.sleep&&this.sleep()}},i}(t.FHost);t.ViewController=i,__reflect(i.prototype,"junyou.ViewController"),t.interest=e}(junyou||(junyou={})),function(t){t.d_interest=t.interest}(junyou||(junyou={}));var junyou;!function(t){var e=egret.TouchEvent,r=function(r){function i(){var e=r.call(this)||this;return e._label="",t.TouchDown.bindItem(e),e}return __extends(i,r),i.prototype.useDisableFilter=function(t){this._useDisableFilter=t},i.prototype.bindChildren=function(){this.txtLabel&&this.addChild(this.txtLabel),this.refresh(!0)},Object.defineProperty(i.prototype,"label",{get:function(){return this._label},set:function(t){this.txtLabel&&this._label!=t&&(this.txtLabel.text=t)},enumerable:!0,configurable:!0}),i.prototype.$setEnabled=function(t){r.prototype.$setEnabled.call(this,t),this.refresh()},Object.defineProperty(i.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected!=t&&this.$setSelected(t)},enumerable:!0,configurable:!0}),i.prototype.$setSelected=function(t){this._selected=t,this.refresh()},i.prototype.refresh=function(e){var i=+!this._enabled<<1|+this._selected,n=this.bitmaps[i],o=this._currentBmp;n||(n=this.bitmaps[0]),o!=n&&(e=!0,t.removeDisplay(o),this._currentBmp=n),e&&(this.floor&&r.prototype.addChild.call(this,this.floor),n&&r.prototype.addChild.call(this,n),this.txtLabel&&r.prototype.addChild.call(this,this.txtLabel),this.ceil&&r.prototype.addChild.call(this,this.ceil),this._children&&r.prototype.addChild.call(this,this._children))},i.prototype.bindTouch=function(t,r,i,n){this.on(e.TOUCH_TAP,t,r,n,i)},i.prototype.looseTouch=function(t,r,i){this.off(e.TOUCH_TAP,t,r,i)},i.prototype.addChild=function(t){var e=this._children;return e||(this._children=e=new egret.DisplayObjectContainer,this.refresh(!0)),e.addChild(t),t},i.prototype.dispose=function(){r.prototype.dispose.call(this),t.TouchDown.looseItem(this)},i}(t.Component);t.Button=r,__reflect(r.prototype,"junyou.Button",["junyou.IGroupItem","egret.EventDispatcher"])}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(t,r,i,n,o,a,s){void 0===o&&(o=1);var u=e.call(this)||this;return u._childSizeChanged=!1,u._selectedIndex=-1,u.scroller=null,u._waitForSetIndex=!1,u.renderChange=!1,u._dataLen=0,u._renderFactory=t,u._columncount=o,u._hgap=~~r,u._viewCount=~~n,u._vgap=~~i,u.itemWidth=a,u.itemHeight=s,u._renderList=[],u._scrollType=9999>o?0:1,u}return __extends(r,e),Object.defineProperty(r.prototype,"dataLen",{get:function(){return this._dataLen},enumerable:!0,configurable:!0}),r.prototype.displayList=function(t){this._selectedIndex=-1,this._data!=t&&(this.rawDataChanged=!0);var e=t?t.length:0;if(this._data){var r=this._renderList,i=r.length;if(i>e){for(var n=e;n<r.length;n++){var o=r[n];this._remoreRender(o)}r.length=e}}return this._data=t,this._lastRect=void 0,e?(this._dataLen=e,this.initItems(),this.scroller&&this.scroller.scrollToHead(),void(this.rawDataChanged=!1)):(this.dispose(),this._dataLen=0,void(this.rawDataChanged=!1))},Object.defineProperty(r.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),r.prototype.validateItemByIdx=function(t,e){var r=this.getOrCreateItemRenderAt(t);(e||r.view.stage)&&(r.data=this._data[t],"function"==typeof r.handleView&&r.handleView(),r.dataChange&&(r.dataChange=!1))},r.prototype.validateAll=function(){if(this._data)for(var t=this._data.length,e=0;t>e;e++)this.validateItemByIdx(e)},r.prototype.initItems=function(){var t=this._data.length;this.doRenderListItem(0,t-1),this._childSizeChanged=!0,this.reCalc(),this.checkViewRect()},r.prototype.doRenderListItem=function(t,e){var r,i=this._data;void 0==e&&(e=t);for(var n=t;e>=n;n++){r=this.getOrCreateItemRenderAt(n),r.inited===!1&&("function"==typeof r.bindComponent&&r.bindComponent(),r.inited=!0);var o=r.data;(!o||o!=i[n]||r.dataChange)&&(r.data=i[n],"function"==typeof r.handleView&&r.handleView(),r.dataChange&&(r.dataChange=!1))}},r.prototype.changeRender=function(t,e){var r=this._selectedItem;r!=t&&(void 0==e&&(e=this._renderList.indexOf(t)),r&&(r.selected=!1),this._selectedItem=t,this._selectedIndex=e,t.selected=!0,this.itemWidth&&this.itemHeight||(this._childSizeChanged=!0,this.reCalc()),this.dispatch(-1052))},r.prototype.touchItemrender=function(t){var e=t.target;this.changeRender(e)},r.prototype.getOrCreateItemRenderAt=function(t){var e=this._renderList,r=e[t];return r||(r=this._renderFactory.get(),e[t]=r,r.on(-1999,this.childSizeChange,this),r.on(-1001,this.touchItemrender,this)),r.index=t,r},r.prototype.childSizeChange=function(){this._childSizeChanged||(this._childSizeChanged=!0,this.once(egret.Event.ENTER_FRAME,this.reCalc,this))},r.prototype.reCalc=function(){if(this._childSizeChanged){this._childSizeChanged=!1;for(var t=this._renderList,e=t.length,r=e-1,i=this,n=i.itemWidth,o=i.itemHeight,a=i._columncount,s=i._hgap,u=i._vgap,h=e/a,c=0,l=0,p=0,f=0,d=0,y=0;h>=y;y++){for(var v=0,g=0;a>g&&!(d>r);g++){var _=t[d++],m=_.view,b=0;if(m){m.x=l,m.y=c,b=m.width;var w=m.x+b,x=m.height;w>p&&(p=w),x>v&&(v=x)}l+=s+(n||b)}var S=c+v;if(S>f&&(f=S),d>r)break;l=0,c+=u+(o||v)}if(p!=this._w||f!=this._h){this._w=p,this._h=f;var j=this.graphics;j.clear(),j.beginFill(0,0),j.drawRect(0,0,p,f),j.endFill(),this.dispatch(-1999)}}},Object.defineProperty(r.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(t){if(this._selectedIndex!=t){if(0>t)return this._selectedItem&&(this._selectedItem.selected=!1,this._selectedItem=void 0),void(this._selectedIndex=t);if(this._waitIndex=t,!this._data)return void(this._waitForSetIndex=!0);var e,r=this._renderList,i=r.length-1;t>i&&(t=i),e=this._renderList[t],this.changeRender(e,t);var n=e.view;n&&n.stage?(this._waitForSetIndex=!1,this.moveScroll(e)):this._waitForSetIndex=!0,this._waitForSetIndex&&this.moveScroll(e)}},enumerable:!0,configurable:!0}),r.prototype.moveScroll=function(e){var r=this.scrollRect;if(r){var i=e.view;if(!i)return void t.ThrowError("render["+egret.getQualifiedClassName(e)+"]没有renderView");var n,o,a;0==this._scrollType?(n=r.y,o=i.y,a=this._h-i.height):(n=r.x,o=i.x,a=this._w-i.width),o>a&&(o=a),r&&(o-=0==this._scrollType?r.height:r.width,0>o&&(o=0));var s=this.scroller;if(s&&s.stopTouchTween(),this.useTweenIndex){var u=t.Global.getTween(this,null,null,!0),h=1==this._scrollType?{tweenX:o}:{tweenY:o};u.to(h,500,t.Ease.quadOut),s&&(s.showBar(),u.call(s.hideBar,s))}else s&&s.doMoveScrollBar(n-o),0==this._scrollType?r.y=o:r.x=o,this.scrollRect=r
}},Object.defineProperty(r.prototype,"tweenX",{get:function(){var t=this.scrollRect;return t?t.x:0},set:function(t){var e=this.scrollRect||new egret.Rectangle(0/0);if(t!=e.x){var r=t-e.x;e.x=t;var i=this.scroller;i&&i.doMoveScrollBar(r),this.scrollRect=e}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tweenY",{get:function(){var t=this.scrollRect;return t?t.y:0},set:function(t){var e=this.scrollRect||new egret.Rectangle(0,0/0);if(t!=e.y){var r=t-e.y;e.y=t;var i=this.scroller;i&&i.doMoveScrollBar(r),this.scrollRect=e}},enumerable:!0,configurable:!0}),r.prototype.tweenToIndex=function(t){this.useTweenIndex=!0,this.selectedIndex=t},r.prototype.selectItemByData=function(t,e,r){void 0===r&&(r=!1);for(var i=this._data,n=i.length,o=0;n>o;o++)if(t in i[o]&&i[o][t]==e){r?this.tweenToIndex(o):this.selectedIndex=o;break}},Object.defineProperty(r.prototype,"selectedItem",{get:function(){return this._selectedItem},enumerable:!0,configurable:!0}),r.prototype.updateItembyIndex=function(t,e){var r=this.getItemRenderAt(t);r&&(this._data[t]=e,t>=this._showStart&&t<=this._showEnd&&this.doRenderListItem(t))},r.prototype.updateItemByKey=function(t,e,r){var i=this.getItemRenderData(t,e),n=i[0],o=i[1];n&&this.updateItembyIndex(o,r)},r.prototype.getItemRenderAt=function(t){return this._renderList[t]},r.prototype.getItemRenderData=function(t,e){for(var r,i=this._data,n=i.length,o=0;n>o;o++){var a=i[o];if(t in a&&a[t]===e){r=this.getItemRenderAt(o);break}}return[r,o]},r.prototype.insertItem=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r]},r.prototype.deleteItemByIndex=function(t){},r.prototype.deleteItemByData=function(t,e){},r.prototype.removeItem=function(t){var e=this._renderList.indexOf(t);-1!=e&&(this._renderList.splice(e,1),this._data.splice(e,1),this._remoreRender(t))},r.prototype._remoreRender=function(e){t.removeDisplay(e.view),e.dispose(),this.renderChange||(this.renderChange=!0,this.once(egret.Event.ENTER_FRAME,this.refreshByRemoveItem,this))},r.prototype.refreshByRemoveItem=function(){this.renderChange&&(this.renderChange=!1,this._childSizeChanged=!0,this.reCalc(),this.checkViewRect())},r.prototype.getAllItems=function(){return this._renderList},r.prototype.dispose=function(){this.recycle()},r.prototype.recycle=function(){this.graphics.clear(),this._selectedIndex=-1,this._data=void 0;for(var e=this._renderList,r=0,i=e;r<i.length;r++){var n=i[r];n.data=void 0,t.removeDisplay(n.view),n.dispose()}e.length=0,this._selectedItem=void 0,this._waitForSetIndex=!1,this._waitIndex=-1},r.prototype.checkViewRect=function(){function e(e){var n=i[e],o=n.view;if(o)if(t.intersects(o,r))g||(g=n,m=e),w.push(o);else if(g)return _=n,b=e,!0}var r=this.$scrollRect,i=this._renderList,n=i.length,o=n-1;if(!r){for(var a=0;n>a;a++){var s=i[a],u=s.view;u&&this.addChild(u)}return this._showStart=0,void(this._showEnd=n-1)}var h,c,l=this._lastRect;if(l){var p="x",f="width";0==this._scrollType&&(p="y",f="height");var d=r[p]-l[p];if(0==d&&r[f]==l[f]&&!this.rawDataChanged)return;for(var y=this._showStart,v=this._showEnd,a=y;v>=a;a++){var s=i[a];s&&t.removeDisplay(s.view)}d>0?(h=y,c=!0):(h=v,c=!1),l[p]=r[p],l[f]=r[f]}else{if(!n)return;l=r.clone(),this._lastRect=l,h=0,c=!0}var g,_,m,b,w=t.Temp.SharedArray3;if(w.length=0,c){m=0,b=o;for(var a=h;n>a&&!e(a);a++);for(var a=0,x=w.length;x>a;a++){var u=w[a];this.addChild(u)}this._showStart=m,this._showEnd=b}else{m=o,b=0;for(var a=h;a>=0&&!e(a);a--);for(var a=w.length-1;a>=0;a--){var u=w[a];this.addChild(u)}this._showStart=b,this._showEnd=m}w.length=0},Object.defineProperty(r.prototype,"scrollRect",{get:function(){return this.$scrollRect},set:function(t){e.prototype.$setScrollRect.call(this,t),this.checkViewRect()},enumerable:!0,configurable:!0}),r}(egret.Sprite);t.PageList=e,__reflect(e.prototype,"junyou.PageList")}(junyou||(junyou={}));var junyou;!function(t){var e=egret.TouchEvent,r=egret.Event,i=function(i){function n(){var t=i.call(this)||this;return t._scrollType=0,t.globalspeed=1,t.minEndSpeed=1e-4,t.blockSpeed=.98,t._deriction=1,t._moveSpeed=0,t}return __extends(n,i),Object.defineProperty(n.prototype,"scrollType",{get:function(){return this._scrollType},set:function(t){this._scrollType=t,this.checkScrollBarView()},enumerable:!0,configurable:!0}),n.prototype.checkScrollBarView=function(){var t=this._content;if(t){var e=this._scrollbar;if(e){var r=this._scrollType;e.scrollType=r;var i=t.scrollRect;0==r?(e.bgSize=i.height,e.y=t.y):(e.bgSize=i.width,e.x=t.x)}}},n.prototype.onScrollBarAdded=function(){this.alwaysShowBar?this._scrollbar.alpha=1:this._scrollbar.alpha=0},n.prototype.bindObj=function(t,i,n){t.scrollRect=i;var o=this._content;o!=t&&o&&(o.off(e.TOUCH_BEGIN,this.onTargetTouchBegin,this),o.off(-1999,this.contentSizeChange,this),t.stage.off(e.TOUCH_MOVE,this.moveOnContent,this),t.off(e.TOUCH_END,this.endTouchContent,this),t.off(e.TOUCH_RELEASE_OUTSIDE,this.endTouchContent,this)),this._content=t,"scroller"in t&&(t.scroller=this),t.touchEnabled=!0,t.on(e.TOUCH_BEGIN,this.onTargetTouchBegin,this),t.on(-1999,this.contentSizeChange,this),n?(this._scrollbar=n,this._useScrollBar=!0,this.checkScrollBarView(),this.scaleBar(),n.stage?this.onScrollBarAdded():n.on(r.ADDED_TO_STAGE,this.onScrollBarAdded,this)):this._useScrollBar=!1,this.scrollToHead()},n.prototype.drawTouchArea=function(e){if(e=e||this._content){var r=e.graphics;if(r){r.clear(),r.beginFill(0,0);var i=t.Temp.EgretRectangle;e.getBounds(i),r.drawRect(i.x,i.y,i.width,i.height),r.endFill()}}},n.prototype.bindObj2=function(t,e,r){t.x=e.x,t.y=e.y,e.x=0,e.y=0,this.bindObj(t,e,r)},n.prototype.contentSizeChange=function(){this._useScrollBar&&this.scaleBar()},n.prototype.onTargetTouchBegin=function(r){var i=this._content;if(i){var n,o=i.scrollRect;if(0==this._scrollType){if(i.measuredHeight<o.height)return;n=r.stageY}else{if(i.measuredWidth<o.width)return;n=r.stageX}this._lastMoveTime=t.Global.now,this._lastTargetPos=n,i.stage.on(e.TOUCH_MOVE,this.moveOnContent,this),i.on(e.TOUCH_END,this.endTouchContent,this),i.on(e.TOUCH_RELEASE_OUTSIDE,this.endTouchContent,this),this.showBar()}},n.prototype.moveOnContent=function(e){var r;r=0==this._scrollType?e.stageY:e.stageX;var i=r-this._lastTargetPos;this._deriction=i>0?1:-1,i=Math.abs(i);var n=t.Global.now,o=n-this._lastMoveTime;this._lastMoveTime=n,this._lastTargetPos=r,this._moveSpeed=o>0?i/o:0,i=i*this.globalspeed*this._deriction,this.doScrollContent(i)},n.prototype.stopTouchTween=function(){this._moveSpeed=0,this._content.off(r.ENTER_FRAME,this.onEnterFrame,this)},n.prototype.onEnterFrame=function(){var e=this._content;if(e){if(0==this._moveSpeed)return e.off(r.ENTER_FRAME,this.onEnterFrame,this),void this.hideBar();var i=t.Global.now,n=i-this._lastFrameTime,o=this._moveSpeed,a=o*this._deriction*n*this.globalspeed;this.doScrollContent(a),this._lastFrameTime=i,o*=this.blockSpeed,o<this.minEndSpeed&&(o=0),this._moveSpeed=o}},n.prototype.endTouchContent=function(i){var n=this._content;if(n){n.stage.off(e.TOUCH_MOVE,this.moveOnContent,this),n.off(e.TOUCH_END,this.endTouchContent,this),n.off(e.TOUCH_RELEASE_OUTSIDE,this.endTouchContent,this);var o=t.Global.now;o-this._lastMoveTime<150?(n.on(r.ENTER_FRAME,this.onEnterFrame,this),this._lastFrameTime=this._lastMoveTime):this.hideBar()}},n.prototype.showBar=function(){if(this._useScrollBar&&!this.alwaysShowBar){var e=t.Global.getTween(this._scrollbar,void 0,void 0,!0);e.to({alpha:1},500)}},n.prototype.hideBar=function(){if(this._useScrollBar&&!this.alwaysShowBar){var e=t.Global.getTween(this._scrollbar,void 0,void 0,!0);e.to({alpha:0},1e3)}},n.prototype.doScrollContent=function(t){var e=this._content;if(e){var r=e.scrollRect,i=r.x,n=r.y,o=this.scrollEndPos;0==this._scrollType?(r.y-=t,r.y<=0&&(r.y=0,this._moveSpeed=0),r.y>=o&&(r.y=o,this._moveSpeed=0)):(r.x-=t,r.x<=0&&(r.x=0,this._moveSpeed=0),r.x>=o&&(r.x=o,this._moveSpeed=0)),e.scrollRect=r,(i!=r.x||n!=r.y)&&e.dispatch(-1051),this.doMoveScrollBar(t)}},n.prototype.doMoveScrollBar=function(t){var e=this._scrollbar;if(e){var r,i=e.bar,n=t/this._piexlDistance,o=0==this._scrollType;if(r=o?i.y:i.x,r-=n,0>=r)r=0;else{var a=e.bgSize-e.barSize;r>=a&&(r=a)}o?i.y=r:i.x=r}},n.prototype.scrollTo=function(t){if(0>=t)this.scrollToHead();else if(t>=this.scrollEndPos)this.scrollToEnd();else{var e=this._content.scrollRect,r=void 0;r=0==this._scrollType?e.y:e.x,this.doScrollContent(t-r)}},n.prototype.scrollToHead=function(){var t=this._content;if(t){this._moveSpeed>0&&(this._moveSpeed=0,this._content.off(r.ENTER_FRAME,this.onEnterFrame,this));var e,i=t.scrollRect,n=this._scrollbar;n&&(e=n.bar),0==this._scrollType?(i.y=0,e&&(e.y=0)):(i.x=0,e&&(e.x=0)),t.scrollRect=i}},n.prototype.scrollToEnd=function(){var t=this._content;if(t){var e,r,i=t.scrollRect,n=this.scrollEndPos,o=this._scrollbar;o&&(r=o.bgSize-o.barSize,e=o.bar),0==this._scrollType?(i.y=n,e&&(e.y=r)):(i.x=n,e&&(e.x=r)),t.scrollRect=i}},n.prototype.scaleBar=function(){var t=this._content;if(t){var e;e=0==this._scrollType?t.measuredHeight:t.measuredWidth;var r=this._scrollbar,i=r.bgSize,n=i/e;n>=1&&(n=1),r.barSize=i*n,this._piexlDistance=e/i,this.checkAndResetBarPos()}},Object.defineProperty(n.prototype,"scrollEndPos",{get:function(){var t=this._content;if(!t)return 0;var e,r,i=t.scrollRect;return 0==this._scrollType?(e=t.measuredHeight,r=i.height):(e=t.measuredWidth,r=i.width),e-r},enumerable:!0,configurable:!0}),n.prototype.checkAndResetBarPos=function(){var t=this._content.scrollRect,e=this._scrollbar,r=e.bar,i=this.scrollEndPos;if(0==this._scrollType){var n=t.y/i;0>=n?r.y=0:r.y=e.bgSize*n-e.barSize}else{var n=t.x/i;0>=n?r.x=0:r.x=e.bgSize*n-e.barSize}},n}(egret.EventDispatcher);t.Scroller=i,__reflect(i.prototype,"junyou.Scroller")}(junyou||(junyou={}));var junyou;!function(t){function e(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];for(var n=e.prototype,o=0,a=Object.getOwnPropertyNames(n);o<a.length;o++){var s=a[o];if(!r||~r.indexOf(s)){var u=n.getPropertyDescriptor(s);u?Object.defineProperty(t,s,u):t[s]=n[s]}}return t}function r(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];for(var n=t.prototype,o=e.prototype,a=0,s=Object.getOwnPropertyNames(o);a<s.length;a++){var u=s[a];(!r||~r.indexOf(u))&&(u in n||(n[u]=o[u]))}return t}function i(t,e){var i=function(){};return void 0!=typeof Object.assign?Object.assign(i.prototype,t.prototype,e.prototype):(i=r(i,t),i=r(i,e)),i}t.expandInstance=e,t.expand=r,t.getMixin=i}(junyou||(junyou={}));var $gm=$gm||{};$gm.__getNSFilter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r={};if(t.length){var i=t[0];if(void 0!=i){var n=typeof i;"function"===n?(r.filter=i,r.filterParams=t.slice(1)):"boolean"===n?(r.isWhite=i,r.cmds=t.slice(1)):"number"===n&&(r.cmds=t)}}return r},$gm.print=function(){$gm.printSend(),$gm.printReceive()},$gm.printSend=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];0==arguments.length&&$gm.printSendFilter?$gm.printSendFilter=void 0:$gm.printSendFilter=$gm.__getNSFilter.apply($gm,[t].concat(e))},$gm.printReceive=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];0==arguments.length&&$gm.printReceiveFilter?$gm.printReceiveFilter=void 0:$gm.printReceiveFilter=$gm.__getNSFilter.apply($gm,[t].concat(e))},$gm.showNSLog=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var i=$gm.__getNSFilter.apply($gm,[t].concat(e)),n=[];return $gm.nsLogs.forEach(function(t){$gm.__nsLogCheck(t,i)&&n.push({type:t.type,time:t.time,cmd:t.cmd,data:t.data,json:JSON.stringify(t.data)})}),console.table(n),n},$gm.__nsLogCheck=function(t,e){var r=t.cmd;if(e){var i=e.filter,n=e.cmds,o=e.filterParams,a=e.isWhite;if(!n)return i?i.apply(void 0,[t].concat(o)):!0;var s=n.indexOf(r);if(a&&~s||!a&&!~s)return!0}},$gm.maxNSLogCount=1e3,$gm.nsLogs=[],$gm.route=function(t,e){junyou.NetService.get().route(t,e)},$gm.batchRoute=function(t){if(t=t.filter(function(t){return"send"!=t.type}),t.length){var e=0|t[0].time;t.forEach(function(t){setTimeout($gm.route,(0|t.time)-e,t.cmd,t.data)})}};var junyou;!function(t){var e={0:0,1:1,5:8,6:4,7:4,8:8},r=function(){function r(){var e=this;this.netChange=function(){navigator.onLine?(t.dispatch(-192),e.showReconnect()):t.dispatch(-191)},this.baseConTime=1e4,this.maxConTime=6e4,this._reconCount=0,this._nextAutoTime=0,this._router=new t.NetRouter,this._pcmdList=[],this._tmpList=[],this._readBuffer=new t.ByteArray,this._sendBuffer=new t.ByteArray,this._tempBytes=new t.ByteArray,this._receiveMSG={},this.$writeNSLog=function(t,e,r,i){function n(t){if("object"==typeof t&&t)for(var e=[t];e.length;){var r=e.pop();Object.freeze(r);for(var i in r){var n=r[i];"object"==typeof n&&n&&e.push(n)}}return t}i=void 0==i?void 0:JSON.parse(JSON.stringify(i));for(var o=n({time:t,type:e,cmd:r,data:i}),a=$gm.nsLogs;a.length>$gm.maxNSLogCount;)a.shift();a.push(o);var s="send"==e?$gm.printSendFilter:$gm.printReceiveFilter;$gm.__nsLogCheck(o,s)&&console.log(e,t,r,i)},window.addEventListener&&(addEventListener("online",this.netChange),addEventListener("offline",this.netChange)),t.on(-190,this.onawake,this)}return r.get=function(){return this._ins},r.prototype.showReconnect=function(){this._reconCount+=1;var e=this._reconCount*this.baseConTime,r=this.maxConTime;e>r&&(e=r),this._nextAutoTime=t.Global.now+e,t.dispatch(-194,this._reconCount)},r.prototype.onawake=function(){this._reconCount=0,this._nextAutoTime=t.Global.now+this._autoTimeDelay},r.prototype.regReceiveMSGRef=function(t,e){this._receiveMSG[t]=e},r.prototype.register=function(t,e,r){return void 0===r&&(r=0),this._register(t,e,r,!1)},r.prototype.regOnce=function(t,e,r){return void 0===r&&(r=0),this._register(t,e,r,!0)},r.prototype.remove=function(t,e){this._router.remove(t,e)},r.prototype._register=function(e,r,i,n){return e>32767||-32768>e?(t.ThrowError("协议号的范围必须是-32768~32767之间，当前cmd:"+e),!1):(this._router.register(e,r,i,n),!0)},r.prototype.send=function(e,r,i,n){t.RequestLimit.check(e,n)&&this._send(e,r,i)},r.prototype.disconnect=function(){},r.prototype.sendPassive=function(e,r,i){for(var n=this._pcmdList,o=n.length,a=0,s=n;a<s.length;a++){var u=s[a];if(u.cmd==e)return void(u.data=r)}var h=t.recyclable(t.NetSendData);h.cmd=e,h.data=r,h.msgType=i,this._pcmdList[o]=h},r.prototype.writeToBuffer=function(r,i){var n=i.cmd,o=i.data,a=i.msgType;if(r.writeShort(n),void 0==o){r.writeUnsignedShort(0);var s=void 0}else switch(a in e&&r.writeUnsignedShort(e[a]),s=o,a){case 0:s=void 0;break;case 1:r.writeBoolean(o);break;case 5:r.writeDouble(o);break;case 6:r.writeInt(o);break;case 7:r.writeUnsignedInt(o);break;case 8:r.writeInt64(o);break;case 2:r.writeUTF(o);break;case 4:var u=o;r.writeUnsignedShort(u.length),r.writeBytes(u),s=Uint8Array.from(u.bytes);break;default:var h=this._tempBytes;h.clear(),s={},t.PBMessageUtils.writeTo(o,i.msgType,h,s),r.writeUnsignedShort(h.length),r.writeBytes(h)}this.$writeNSLog(t.Global.now,"send",n,s)},r.prototype.decodeBytes=function(r){for(var i=this._receiveMSG,n=this._tmpList,o=0;;){if(r.readAvailable<4)break;var a=r.readShort(),s=r.readUnsignedShort();if(r.readAvailable<s){r.position-=4;break}var u=r.position+s,h=i[a];if(void 0!==h){var c=!0,l=void 0;if(s>0){if(h in e){var p=e[h];p!=s&&t.ThrowError("解析指令时，类型["+h+"]的指令长度["+s+"]和预设的长度["+p+"]不匹配"),p>s&&(c=!1)}if(c)switch(h){case 0:break;case 1:l=r.readBoolean();break;case 5:l=r.readDouble();break;case 6:l=r.readInt();break;case 7:l=r.readUnsignedInt();break;case 8:l=r.readInt64();break;case 2:l=r.readUTFBytes(s);break;case 4:l=r.readByteArray(s);break;default:l=t.PBMessageUtils.readFrom(h,r,s)}}if(c){var f=t.recyclable(t.NetData);f.cmd=a,f.data=l,n[o++]=f}}else t.ThrowError("通信消息解析时cmd["+a+"]，出现未注册的类型");r.position=u}for(var d=t.Global.now,y=0;o>y;y++){var v=n[y];this.$writeNSLog(d,"receive",v.cmd,v.data)}for(var g=this._router,y=0;o>y;y++){var f=n[y];g.dispatch(f)}},r.prototype.route=function(e,r){var i=t.recyclable(t.NetData);i.cmd=e,i.data=r,this._router.dispatch(i)},r}();t.NetService=r,__reflect(r.prototype,"junyou.NetService")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(){this._queue=[]}return Object.defineProperty(t.prototype,"listener",{get:function(){return this._listener},set:function(t){this._listener=t},enumerable:!0,configurable:!0}),t.prototype.addLimiter=function(t){var e=this._queue;return-1!=e.indexOf(t)?!1:(t.setState(this._current),e.push(t),!0)},t.prototype.setState=function(t){this._current=t;var e=this._queue;if(e)for(var r=0;r<e.length;r++){var i=e[r];i.setState(t)}var n=this._listener;n&&n.setState(t)},t.prototype.removeLimiter=function(t){return this._queue.remove(t)},t.prototype.clear=function(){this._queue.length=0},t.prototype.check=function(t){var e=this._queue;if(e)for(var r=0;r<e.length;r++){var i=e[r];if(i&&i.check(t))return!0}return!1},t}();t.LimitQueue=e,__reflect(e.prototype,"junyou.LimitQueue",["junyou.ILimit"])}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(t){var r=e.call(this)||this;return r._suiData=t,r}return __extends(r,e),r.prototype.parseSelfData=function(t){var e=this;"number"==typeof t&&(0>t&&(this.isjpg=!0),this._createT=function(){var r=new egret.Bitmap;return r.texture=e._suiData.getTexture(t),e.bindEvent(r),r})},r.prototype.bindEvent=function(t){t.on(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this),t.on(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)},r.prototype.onAddedToStage=function(t){var e=this._suiData;if(e){var r=t.currentTarget;e.checkRefreshBmp(r,this.isjpg)}},r.prototype.onRemoveFromStage=function(e){var r=this._suiData;if(r){var i=this.isjpg?r.jpgbmd:r.pngbmd;i.using--,i.lastUseTime=t.Global.now}},r}(t.BaseCreator);t.BitmapCreator=e,__reflect(e.prototype,"junyou.BitmapCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=egret.Event,r=function(){function r(r,i){this.$layoutBins=new t.ArraySet,i=i||new egret.Sprite,this._host=i,this._basis=r,t.on(-1998,this.onResize,this),i.on(e.REMOVED_FROM_STAGE,this.offStage,this),i.on(e.ADDED_TO_STAGE,this.onStage,this),i.stage&&this.onStage()}return r.prototype.resetBasis=function(t){this._basis=t},r.prototype.getFixedNarrow=function(t,e,r,i,n){var o=t,a=e,s=t/r,u=e/i,h=r,c=i;u>s==!n?(a=t*i/r,c=i*e/a):(o=e*r/i,h=r*t/o);var l=o/r;return{dw:o,dh:a,scale:l,lw:h,lh:c}},r.prototype.onStage=function(){this._host.stage.on(e.RESIZE,this.onResize,this),this.onResize()},r.prototype.offStage=function(){egret.sys.$TempStage.off(e.RESIZE,this.onResize,this)},Object.defineProperty(r.prototype,"view",{get:function(){return this._host},enumerable:!0,configurable:!0}),r.prototype.addLayout=function(t,e,r,i,n,o,a){void 0===e&&(e=5),void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=!0),void 0===a&&(a=!0);var s=this.$layoutBins;r=r||t;var u=t.hashCode;if(!s.get(u)){this._host.addChild(t);var h={dis:t,type:e,hoffset:i,voffset:n,innerV:o,innerH:a,size:r};s.set(u,h);var c=t.stage;c?this.binLayout(h):t.on(egret.Event.ADDED_TO_STAGE,this.onAdded,this)}},r.prototype.onAdded=function(t){var e=t.currentTarget,r=e.$layoutHost;if(r){var i=r.$layoutBins;if(i){var n=i.get(e.$hashCode);n&&this.binLayout(n)}}},r.prototype.binLayout=function(e){var r=e.dis,i=e.type,n=e.hoffset,o=e.voffset,a=e.innerV,s=e.innerH,u=e.size,h=t.Temp.SharedPoint1;t.Layout.getLayoutPos(u.width,u.height,this._lw,this._lh,i,h,n,o,a,s),r.x=h.x,r.y=h.y},r.prototype.$doLayout=function(){t.Global.callLater(this.layoutAll,0,this)},r.prototype.layoutAll=function(){var t=this.$layoutBins;if(t)for(var e=t.rawList,r=0,i=e.length;i>r;)this.binLayout(e[r++])},r}();r.MIN=Object.freeze({width:0,height:0}),t.LayoutContainer=r,__reflect(r.prototype,"junyou.LayoutContainer")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){}return e.prototype.itemClick=function(){var e=this._data;if(e){var r=e.callBack;r&&r.call(t.Menu.currentShow,e)}},e.prototype.getSize=function(){return this._size},Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this.$setData(t)},enumerable:!0,configurable:!0}),e.prototype.$setData=function(t){this._data=t},Object.defineProperty(e.prototype,"skin",{get:function(){return this._skin},set:function(t){t!=this._skin&&this.$setSkin(t)},enumerable:!0,configurable:!0}),e.prototype.$setSkin=function(t){this._skin=t,this._size=t.getBounds(),t.on(egret.TouchEvent.TOUCH_TAP,this.itemClick,this),this.bindComponent()},e.prototype.bindComponent=function(){},Object.defineProperty(e.prototype,"view",{get:function(){return this._skin},enumerable:!0,configurable:!0}),e}();t.MenuBaseRender=e,__reflect(e.prototype,"junyou.MenuBaseRender")}(junyou||(junyou={}));var junyou;!function(t){function e(t){return(r in t||"function"!=typeof t[i])&&i in t&&"function"==typeof t[i]&&0==t[i].length?!0:!1}var r="addReadyExecute",i="startSync";t.isIAsync=e}(junyou||(junyou={}));var junyou;!function(t){t.sendToUrl=function(){function e(e){return function(){return o=e,console.log(n,"callBack:",e),r.length>0?t.sendToUrl(r.shift()):void 0}}var r=[],i=new egret.HttpRequest;i.on(egret.Event.COMPLETE,e(2)),i.on(egret.IOErrorEvent.IO_ERROR,e(-1));var n,o=0;return function(t,e){return 1==o?void(e?r.push(t):r.pushOnce(t)):(o=1,i.open(t,"GET"),i.send(),n=t,console.log(n,"send"),void 0)}}()}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(){var r=e.call(this)||this;return r.onOpen=function(){r._ws.onopen=null,console.log("webSocket连接成功"),t.dispatch(-197)},r.onError=function(e){t.ThrowError("socket发生错误",e.error),t.dispatch(-196)},r.onClose=function(e){console.log("socket断开连接"),t.dispatch(-195)},r.onData=function(t){var e,i=r._readBuffer,n=new Uint8Array(t.data),o=i.position,a=i.buffer,s=a.byteLength;if(s>o){var u=new Uint8Array(a),h=s-o,c=n.length;e=new Uint8Array(h+c);var l=0,p=void 0;for(p=0;h>p;p++)e[l++]=u[o+p];for(p=0;c>p;p++)e[l++]=n[p]}else e=n;i.replaceBuffer(e.buffer),i.position=0,r.decodeBytes(i)},t.NetService._ins=r,r}return __extends(r,e),r.prototype.setUrl=function(t){if(this._actionUrl!=t){this._actionUrl=t;var e=this._ws;e&&e.readyState<=WebSocket.OPEN&&this.connect()}},r.prototype.connect=function(){var t=this._ws;t&&(t.onclose=null,t.onerror=null,t.onmessage=null,t.onopen=null),this._ws=t=new WebSocket(this._actionUrl),t.binaryType="arraybuffer",t.onclose=this.onClose,t.onerror=this.onError,t.onmessage=this.onData,t.onopen=this.onOpen},r.prototype._send=function(e,r,i){var n=this._ws;if(n.readyState==WebSocket.OPEN){var o=t.recyclable(t.NetSendData);o.cmd=e,o.data=r,o.msgType=i;var a=this._sendBuffer;a.clear(),this.writeToBuffer(a,o),o.recycle();for(var s=this._pcmdList,u=0,h=s;u<h.length;u++){var c=h[u];this.writeToBuffer(a,c),c.recycle()}s.length=0,n.send(a.buffer)}},r}(t.NetService);t.WSNetService=e,__reflect(e.prototype,"junyou.WSNetService")}(junyou||(junyou={}));var junyou;!function(t){function e(t){var e=t._pool;if(!e){e=new r(t),Object.defineProperty(t,"_pool",{value:e});var i=t.prototype;void 0==i.recycle&&(i.recycle=function(){e.recycle(this)})}return e.get()}var r=function(){function t(t,e){void 0===e&&(e=100),this._pool=[],this._max=e,this._TCreator=t}return t.prototype.get=function(){var t,e=this._pool;return t=e.length?e.pop():new this._TCreator,"function"==typeof t.onSpawn&&t.onSpawn(),t._insid=n++,t},t.prototype.recycle=function(t){var e=this._pool,r=e.indexOf(t);~r||("function"==typeof t.onRecycle&&t.onRecycle(),e.length<this._max&&e.push(t))},t}();t.RecyclablePool=r,__reflect(r.prototype,"junyou.RecyclablePool");var i=r.prototype;i.getInstance=i.get;var n=0;t.recyclable=e}(junyou||(junyou={}));var junyou;!function(t){function e(e){if(void 0===e&&(e=1),"Unknown"==egret.Capabilities.supportVersion){var r=window;if(r.indexedDB=r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,r.indexedDB){r.IDBTransaction=r.IDBTransaction||r.webkitIDBTransaction||r.msIDBTransaction,r.IDBKeyRange=r.IDBKeyRange||r.webkitIDBKeyRange||r.msIDBKeyRange,r.URL=window.URL||r.webkitURL;var i="iOS"==egret.Capabilities.os?!1:!(!window.Blob||!window.URL),n=function(e){function r(r,i){try{var a=indexedDB.open(u,e)}catch(s){return t.ThrowError("indexedDB error",s),i&&i(s)}a.onerror=function(t){i&&i(t.error),n(t)},a.onupgradeneeded=function(t){var e=t.target.result,r=e.objectStoreNames;r.contains(u)||e.createObjectStore(u,{keyPath:o})},a.onsuccess=function(t){var e=a.result;e.onerror=n,r(e)}}function i(t,e){return t.transaction(u,e).objectStore(u)}function n(e){t.ThrowError("indexedDB error",e.error)}var o="url",a="readwrite",s="readonly",u="res";return{save:function(t,e){r(function(r){var n=i(r,a),o=t.url?n.put(t):n.add(t);o.onsuccess=e})},get:function(t,e){r(function(r){var n=i(r,s),o=n.get(t);o.onsuccess=function(t){e(t.target.result)}},function(t){e(null)})},"delete":function(t,e){r(function(r){var n=i(r,a),o=n["delete"](t);o.onsuccess=e})},clear:function(t){r(function(e){var r=i(e,a),n=r.clear();n.onsuccess=t})}}}(e),o=document.createElement("canvas"),a=o.getContext("2d"),s=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return __extends(r,e),r.prototype.loadFile=function(e,r,i){var o=this;if(this.fileDic[e.name])return void r.call(i,e);var a=RES.$getVirtualUrl(e.url);n.get(a,function(n){var s=o.getLoader();if(o.resItemDic[s.$hashCode]={item:e,func:r,thisObject:i},n){var u=n.local;u instanceof Blob?a=URL.createObjectURL(u):"string"==typeof u?a=u:t.ThrowError("出现ImageAnalyzer本地缓存不支持的情况"),e.local=u}s.load(a)})},r.prototype.onLoadFinish=function(t){var e=t.$target,r=this.resItemDic[e.$hashCode];delete this.resItemDic[e.$hashCode];var s=r.item,u=s.local;if(!u){var h=s.url,c=e.request;if(c&&c._url==h){var l=c.responseType;"blob"==l&&(u=c.response)}else{var p=e.data;if(p instanceof egret.BitmapData){var f=p.source,d=f.width,y=f.height,l="image/"+h.substring(h.lastIndexOf(".")+1);o.width=d,o.height=y,a.clearRect(0,0,d,y),a.drawImage(f,0,0);try{i&&0!=h.indexOf("wxLocalResource:")?o.toBlob(function(t){s.local=t,n.save(s)},l):u=o.toDataURL(l)}catch(v){}}}if(u)if(i||"string"==typeof u)s.local=u,n.save(s);else{var g=new FileReader;g.onload=function(t){s.local=this.result,n.save(s)},g.readAsDataURL(u)}}if(s.loaded=t.$type==egret.Event.COMPLETE,s.loaded){var _=new egret.Texture;_._setBitmapData(e.data),this.analyzeData(s,_)}return delete e.request,this.recycler.push(e),r.func.call(r.thisObject,s)},r}(RES.ImageAnalyzer);return RES.registerAnalyzer(RES.ResourceItem.TYPE_IMAGE,s),n}}}t.tryLocalRes=e}(junyou||(junyou={}));var junyou;!function(t){t.ResourceManager=function(){function e(t){return i[t]}function r(t,e){var r=i;return t in r?r[t]===e:(r[t]=e,!0)}var i={};return{get:function(t,i,n){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var s=e(t);return s||(s=i.apply(n,o),r(t,s)),s},getTextureRes:function(e,r){var n=i,o=n[e];return o&&(o instanceof t.TextureResource||(t.ThrowError("["+e+"]资源有误，不是TextureResource"),o=void 0)),o||(o=new t.TextureResource,o.resID=e,o.url=t.ConfigUtils.getResUrl(e+(r?"":t.Global.webp)),n[e]=o),o},getResource:e,init:function(){var e=[];t.TimerUtil.addCallback(3e4,function(){var r=t.Global.now-3e5,n=i,o=0;for(var a in n){var s=n[a];!s.isStatic&&s.lastUseTime<r&&(e[o++]=a)}for(var u=0;o>u;u++){var a=e[u],s=n[a];s&&(s.dispose(),RES.destroyRes(s.url),delete n[a])}})}}}()}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this._list=[]}return Object.defineProperty(e.prototype,"isStatic",{get:function(){return this._list.length>0},enumerable:!0,configurable:!0}),e.prototype.bind=function(e){this._tex&&(e.texture=this._tex,e.dispatch(-193)),this._list.pushOnce(e),this.lastUseTime=t.Global.now},e.prototype.loose=function(e){this._list.remove(e),this.lastUseTime=t.Global.now},e.prototype.load=function(){RES.getResByUrl(this.url,this.loadComplete,this,RES.ResourceItem.TYPE_IMAGE)},e.prototype.loadComplete=function(t,e){if(e==this.url){this._tex=t;for(var r=0,i=this._list;r<i.length;r++){var n=i[r];n.texture=this._tex,n.dispatch(-193)}}},e.prototype.dispose=function(){this._tex&&(this._tex.dispose(),this._tex=void 0),this._list.length=0},e}();t.TextureResource=e,__reflect(e.prototype,"junyou.TextureResource",["junyou.IResource"])}(junyou||(junyou={}));var junyou;!function(t){t.DataParseUtil={parseDatas:function(t,e,r,i,n,o,a){for(var s,u=r;i>=u;u++){var h=n+u;h in e&&(s||(s=[]),s[u]=e[h])}s||o in e&&(s=[],t[o]=e[o]),s&&(t[a]=s)},parseDatas2:function(t,e,r,i,n,o,a,s){for(var u,h=i;n>=h;h++){var c=o+h,l=r.indexOf(c);~l&&(u||(u=[]),u[h]=e[l])}if(!u){var l=r.indexOf(a);~l&&(u=[],t[a]=e[l])}u&&(t[s]=u)},getData:function(t,e,r){r=r||{};for(var i=0,n=e.length;n>i;i++){var o=e[i],a=t[i];void 0!=a&&(r[o]=t[i])}return r},getDataList:function(t,e){var r=[];if(t)for(var i=0,n=t.length;n>i;i++){var o=t[i];r.push(this.getData(o,e))}return r},parseDataList:function(t,e,r,i){for(var n=[],o=4;o<arguments.length;o++)n[o-4]=arguments[o];if(t)for(var a=0,s=t.length;s>a;a++){var u=t[a],h=this.getData(u,e);r.call(i,h,n,a)}},copyData:function(t,e,r){for(var i=0,n=r.length;n>i;i++){var o=r[i];t[o]=e[i]}},copyDataList:function(t,e,r,i,n){for(var o=[],a=5;a<arguments.length;a++)o[a-5]=arguments[a];if(e)for(var s=0,u=e.length;u>s;s++){var h=e[s],c=new t;this.copyData(c,h,r),i.call(n,c,o,s)}}}}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this.states={},this.aways=[]}return e.prototype.add=function(e){e||t.ThrowError("addStateListener没有设置正确!"),this.aways.pushOnce(e)},e.prototype.remove=function(t){this.aways.remove(t)},e.prototype.addToStates=function(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];e||t.ThrowError("addToStateList没有设置正确!");for(var n in r)this.addToState(n,e)},e.prototype.removeAllState=function(t){if(t){var e=this.states;if(e)for(var r in e)this.removeFromState(+r,t)}},e.prototype.removeFromState=function(t,e){var r=this.states[t];return r?r.remove(e):!1},e.prototype.addToState=function(e,r){r||t.ThrowError("addToState没有设置正确!");var i=this.states[e];if(i){if(~i.indexOf(r))return}else this.states[e]=i=[];i.push(r),this._current==e&&r.awakeBy(this._current)},e.prototype.clear=function(){this.states={},this.aways.length=0,this._current=void 0},e.prototype.setState=function(t){var e=this._current;if(e!=t){this._current=t;var r=this.states[e],i=this.states[t];if(r)for(var n=0;n<r.length;n++){var o=r[n];i&&~i.indexOf(o)||o.sleepBy(t)}if(i)for(var n=0;n<i.length;n++){var o=i[n];o.awakeBy(t)}var a=this.aways;if(a)for(var n=0;n<a.length;n++)a[n].setState(t)}},e.prototype.isInState=function(t,e){void 0==e&&(e=this._current);var r=this.states[e];return r?r.indexOf(t)>-1:!1},e}();t.StateListenerMachine=e,__reflect(e.prototype,"junyou.StateListenerMachine",["junyou.IStateListener"])}(junyou||(junyou={}));var junyou;!function(t){function e(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];(n=i.listener).addToStates.apply(n,[t].concat(e));var n}function r(t,e){i.listener.addToState(t,e)}var i=function(){function t(){}return Object.defineProperty(t,"currentState",{get:function(){return this._currentState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"listener",{get:function(){return this.imple.listener},enumerable:!0,configurable:!0}),t.enter=function(t){this._currentState!=t&&(this._currentState=t,this.imple.setState(t),this.historys.push(t),this.historys.length>5&&this.historys.shift())},t.exit=function(t){if(t||(t=this._currentState),this._currentState==t){var e=this.historys,r=e.length;e.pop(),r>1?this.enter(e.pop()):this.enter(0)}},t.check=function(t){return this.imple.check(t)},t}();i.imple=new t.LimitQueue,i.historys=[],t.UILimiter=i,__reflect(i.prototype,"junyou.UILimiter"),t.addToStates=e,t.addToState=r}(junyou||(junyou={}));var junyou;!function(t){function e(t){var e=t._instance;return e||(e=new t,Object.defineProperty(t,"_instance",{value:e})),e}t.singleton=e}(junyou||(junyou={}));var junyou;!function(t){t.Stats=function(){function e(t){return void 0===t?"":encodeURIComponent(t)}var r,i,n,o,a,s;return{setUrl:function(t){return"?"!=t.charAt(t.length-1)&&(t+="?"),r=t,this},setParams:function(t){return i=e(t.ip),o=e(t.pid),a=e(t.uid),s=e(t.sid),this
},setSign:function(t){return n=e(t),this},postData:function(e){t.sendToUrl(r+this.getParamUrl(e))},getParamUrl:function(r){return"step="+e(r)+"&ip="+i+"&sign="+n+"&pid="+o+"&sid="+s+"&uid="+a+"&client_time="+t.Global.now}}}()}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(){this._list=[],this._dict={}}return Object.defineProperty(t.prototype,"rawList",{get:function(){return this._list},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rawDict",{get:function(){return this._dict},enumerable:!0,configurable:!0}),t.prototype.setRawDict=function(t){this._dict=t;var e=this._list,r=0;for(var i in t)e[r++]=t[i];e.length=r},t.prototype.setRawList=function(t,e){var r=this._list,i=this._dict={},n=0;if(t)for(var o=t.length;o>n;n++){var a=t[n];i[a[e]]=a,r[n]=a}r.length=n},t.prototype.set=function(t,e){var r=this._list,i=r.indexOf(e);return-1==i&&(i=r.length,r[i]=e),this._dict[t]=e,i},t.prototype.get=function(t){return this._dict[t]},t.prototype["delete"]=function(t){var e=this._dict[t];if(delete this._dict[t],e){var r=this._list.indexOf(e);r>-1&&this._list.splice(r,1)}return e},t.prototype.clear=function(){this._list.length=0,this._dict={}},Object.defineProperty(t.prototype,"size",{get:function(){return this._list.length},enumerable:!0,configurable:!0}),t}();t.ArraySet=e,__reflect(e.prototype,"junyou.ArraySet")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(t){return e.call(this,t)||this}return __extends(r,e),r.prototype.replaceBuffer=function(t){this.write_position=t.byteLength,this._bytes=new Uint8Array(t),this.data=new DataView(t)},r.prototype.readBuffer=function(t){if(this.validate(t)){var e=this.position;return this.position+=t,this.buffer.slice(e,this.position)}},r.prototype.writeInt64=function(e){this.validateBuffer(8);var r=t.Int64.fromNumber(e),i=r.high,n=r.low,o=0==this.$endian,a=this.data,s=this._position;o?(a.setUint32(s,n,o),a.setUint32(s+4,i,o)):(a.setUint32(s,i,o),a.setUint32(s+4,n,o)),this.position=s+8},r.prototype.readInt64=function(){if(this.validate(8)){var e=void 0,r=void 0,i=0==this.$endian,n=this.data,o=this._position;return i?(e=n.getUint32(o,i),r=n.getUint32(o+4,i)):(r=n.getUint32(o,i),e=n.getUint32(o+4,i)),this.position=o+8,t.Int64.toNumber(e,r)}},r.prototype.readFix32=function(){if(this.validate(4)){var t=this.data.getUint32(this._position,!0);return this.position+=4,t}},r.prototype.writeFix32=function(t){this.validateBuffer(4),this.data.setUint32(this._position,t,!0),this.position+=4},r.prototype.readSFix32=function(){if(this.validate(4)){var t=this.data.getInt32(this._position,!0);return this.position+=4,t}},r.prototype.writeSFix32=function(t){this.validateBuffer(4),this.data.setInt32(this._position,t,!0),this.position+=4},r.prototype.readFix64=function(){if(this.validate(8)){var e=this._position,r=this.data,i=r.getUint32(e,!0),n=r.getUint32(e+4,!0);return this.position=e+8,t.Int64.toNumber(i,n)}},r.prototype.writeFix64=function(e){var r=t.Int64.fromNumber(e);this.validateBuffer(8);var i=this._position,n=this.data;n.setUint32(i,r.low,!0),n.setUint32(i+4,r.high,!0),this.position=i+8},r.prototype.readByteArray=function(t){return new r(this.readBuffer(t))},r.prototype.writeVarint64=function(e){var r=t.Int64.fromNumber(e),i=r.high,n=r.low;if(0==i)this.writeVarint(n);else{for(var o=0;4>o;++o)this.writeByte(127&n|128),n>>>=7;0==(2147483640&i)?this.writeByte(i<<4|n):(this.writeByte(127&(i<<4|n)|128),this.writeVarint(i>>>3))}},r.prototype.writeVarint=function(t){for(;;){if(128>t)return void this.writeByte(t);this.writeByte(127&t|128),t>>>=7}},r.prototype.readVarint=function(){for(var t=0,e=0;;e+=7){var r=this.readUnsignedByte();if(!(32>e)){for(;this.readUnsignedByte()>=128;);break}if(!(r>=128)){t|=r<<e;break}t|=(127&r)<<e}return t},r.prototype.readVarint64=function(){for(var e,r,i,n=0;e=this.readUnsignedByte(),28!=n;n+=7){if(!(e>=128))return r|=e<<n,t.Int64.toNumber(r,i);r|=(127&e)<<n}if(!(e>=128))return r|=e<<n,i=e>>>4,t.Int64.toNumber(r,i);for(e&=127,r|=e<<n,i=e>>>4,n=3;;n+=7)if(e=this.readUnsignedByte(),32>n){if(!(e>=128)){i|=e<<n;break}i|=(127&e)<<n}return t.Int64.toNumber(r,i)},r}(egret.ByteArray);t.ByteArray=e,__reflect(e.prototype,"junyou.ByteArray")}(junyou||(junyou={}));var junyou;!function(t){}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(t,e){this.low=0|t,this.high=0|e}return t.prototype.toNumber=function(){return this.high*i+(this.low>>>0)},t.toNumber=function(t,e){return(0|e)*i+(t>>>0)},t.fromNumber=function(e){if(isNaN(e)||!isFinite(e))return a;if(-o>=e)return u;if(e+1>=o)return s;if(0>e){var r=t.fromNumber(-e);return r.high===u.high&&r.low===u.low?u:(r.low=~r.low,r.high=~r.high,r.add(h))}return new t(e%i|0,e/i|0)},t.prototype.add=function(e){var r=this.high>>>16,i=65535&this.high,n=this.low>>>16,o=65535&this.low,a=e.high>>>16,s=65535&e.high,u=e.low>>>16,h=65535&e.low,c=0,l=0,p=0,f=0;return f+=o+h,p+=f>>>16,f&=65535,p+=n+u,l+=p>>>16,p&=65535,l+=i+s,c+=l>>>16,l&=65535,c+=r+a,c&=65535,new t(p<<16|f,c<<16|l)},t}();t.Int64=e,__reflect(e.prototype,"junyou.Int64");var r=65536,i=r*r,n=i*i,o=n/2,a=new e,s=new e(-1,2147483647),u=new e(0,-2147483648),h=new e(1)}(junyou||(junyou={}));var junyou;!function(t){t.Location={getDist:function(t,e){var r=Math.DEG_TO_RAD,i=t.latitude*r,n=e.latitude*r,o=i-n,a=(t.longitude-e.longitude)*r;return 12756.274*Math.asin(Math.sqrt(Math.pow(Math.sin(o/2),2)+Math.cos(i)*Math.cos(n)*Math.pow(Math.sin(a/2),2)))}}}(junyou||(junyou={}));var junyou;!function(t){t.DateUtils=function(){function e(t){return r[t]}var r,i=new Date,n=6e4*i.getTimezoneOffset(),o=-n;return{get sharedDate(){return i},getDefaultCDFOption:function(i){if(!r){var n=t.LangUtil;o={},o[0]={d:n.getMsg("$_ndays"),h:n.getMsg("$_nhours"),m:n.getMsg("$_nminutes"),s:n.getMsg("$_nsecends")},o[1]={h:n.getMsg("$_nhours"),m:n.getMsg("$_nminutes"),s:n.getMsg("$_nsecends")},o[2]={h:n.getMsg("$_nhours"),m:n.getMsg("$_nminutes")},o[3]={m:n.getMsg("$_nminutes"),s:n.getMsg("$_nsecends")},o[4]={s:n.getMsg("$_nsecends")},r=o,t.DateUtils.getDefaultCDFOption=e}return e(i);var o},initServerTime:function(t,e){n=6e4*-e,this.setServerTime(t)},setServerTime:function(t){o=t-Date.now()+n},get serverTime(){return o+Date.now()},get rawServerTime(){return this.serverTime-n},get serverDate(){return i.setTime(this.serverTime),i},getFormatTime:function(t,e,r){return r&&(t=this.getUTCTime(t)),i.setTime(t),i.format(e)},getDayEnd:function(t){return void 0===t&&(t=this.serverTime),i.setTime(t),i.setUTCHours(23,59,59,999)},getDayStart:function(t){return void 0===t&&(t=this.serverTime),i.setTime(t),i.setUTCHours(0,0,0,0)},getUTCTime:function(t){return t+n},getCountdown:function(t,e){var r="",i=e.d;if(i){var n=t/864e5>>0;t-=864e5*n,r+=i.substitute(n)}if(i=e.h){var o=t/36e5>>0;t-=36e5*o,r+=i.substitute(o)}if(i=e.m){var a=t/6e4>>0;t-=6e4*a,r+=i.substitute(a)}if(i=e.s){var s=t/1e3>>0;r+=i.substitute(s)}return r}}}()}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(t){t&&this.decode(t)}return e.prototype.decodeMinutes=function(t){return this._decode(t/60|0,t%60)},e.prototype.decodeBit=function(t){return this._decode(t>>6,63&t)},e.prototype._decode=function(t,e){return this.hour=t,this.minute=e,this.time=36e5*t+6e4*e,this.strTime=t.zeroize(2)+":"+e.zeroize(2),this},e.prototype.decode=function(e){var r=e.split(":");return r.length>=2?this._decode(+r[0],+r[1]):void t.ThrowError("时间格式不正确，不为HH:mm格式，当前配置："+e)},Object.defineProperty(e.prototype,"todayTime",{get:function(){return t.DateUtils.getDayStart()+this.time},enumerable:!0,configurable:!0}),e}();t.TimeVO=e,__reflect(e.prototype,"junyou.TimeVO")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this._callLaters=[],this._temp=[]}return e.prototype.tick=function(t){for(var e=0,r=0,i=0,n=this._callLaters,o=this._temp,a=n.length;a>e;e++){var s=n[e];t>s.time?o[r++]=s:n[i++]=s}for(n.length=i,e=0;r>e;e++)o[e].execute()},e.prototype.callLater=function(e,r,i,n){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];var s=t.CallbackInfo.addToList.apply(t.CallbackInfo,[this._callLaters,e,n].concat(o));s.time=r+(i||0)},e.prototype.clearCallLater=function(t,e){for(var r=this._callLaters,i=r.length-1;i>=0;--i){var n=r[i];if(n.checkHandle(t,e))return r.splice(i,1),n.recycle()}},e}();t.CallLater=e,__reflect(e.prototype,"junyou.CallLater")}(junyou||(junyou={}));var junyou;!function(t){t.ColorUtil={getColorString:function(t){return"#"+t.toString(16).zeroize(6)},getColorValue:function(e){return/#[0-9a-f]{6}/i.test(e)?+("0x"+e.substring(1)):(t.ThrowError("使用的颜色"+e+"有误"),0)}}}(junyou||(junyou={}));var junyou;!function(t){t.DataUrlUtils=function(){function t(t,e,r,n){return i||(i=new egret.RenderTexture),r=r||t.getBounds(),i.drawToTexture(t,r),i.toDataURL(e,r,n)}function e(t){return t.substr(t.indexOf(",")+1)}function r(t){for(var e=this.getBase64(t),r=window.atob(e),i=r.length,n=new Uint8Array(i),o=0;i>o;o++)n[o]=r.charCodeAt(o);return n}var i;return{getBase64:e,getBytes:r,getDisplayDataURL:t,getDisplayBase64:function(r,i,n,o){return e(t(r,i,n,o))},getDisplayBytes:function(e,i,n,o){return r(t(e,i,n,o))}}}()}(junyou||(junyou={}));var junyou;!function(t){t.FilterUtils={gray:[new egret.ColorMatrixFilter([.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0])],dark:[new egret.ColorMatrixFilter([.5,0,0,0,6.75,0,.5,0,0,6.75,0,0,.5,0,6.75,0,0,0,1,0])],blur:[new egret.BlurFilter(5,5)]}}(junyou||(junyou={}));var junyou;!function(t){function e(t,e){e=e||{};for(var r=t.length,i=0,n=0,o=0;r>o;o++){var a=t[o];i+=a.x,n+=a.y}return e.x=i/r,e.y=n/r,e}function r(t,e){var r=t.x+t.width,i=t.y+t.height,n=e.x+e.width,o=e.y+e.height;return Math.max(t.x,e.x)<=Math.min(r,n)&&Math.max(t.y,e.y)<=Math.min(i,o)}function i(t){for(var e=t[0],r=0,i=e,n=1;n<length;n++){var o=t[n];r+=(o.x-i.x)*(o.y+i.y),i=o}return r+=(e.x-i.x)*(e.y+i.y),.5*r}t.getCenter=e,t.intersects=r,t.getArea=i}(junyou||(junyou={}));var junyou;!function(t){t.HTMLUtil=function(){var e={"&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&amp;":"&","&nbsp;":" ","&#x000A;":"\n"},r={"<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;","&":"&amp;"};return{createColorHtml:function(e,r){var i;return i="number"==typeof r?t.ColorUtil.getColorString(r):"#"!=r.charAt(0)?"#"+r:r,"<font color='"+i+"'>"+e+"</font>"},clearHtml:function(t){return t.replace(/<[^><]*?>/g,"")},escapeHTML:function(t){return t.replace(/<|>|"|'|&/g,function(t){return r[t]})},unescapeHTML:function(t){return t.replace(/&lt;|&gt;|&quot;|&apos;|&amp;|&nbsp;|&#x000A;/g,function(t){return e[t]})}}}()}(junyou||(junyou={}));var junyou;!function(t){t.LangUtil=function(){var t={};return{getMsg:function(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return e in t?t[e].substitute(r):"string"==typeof e?e.substitute.apply(e,r):e+""},regMsgDict:function(e){t=e}}}()}(junyou||(junyou={}));var $nl_nc,junyou;!function(t){var e=[],r=[],i=[,[],[]],n=function(){function n(t){this.setRandomFunc(t)}return n.loadNameLib=function(n){t.loadScript(n,function(){if($nl_nc){var t=$nl_nc.a,n=$nl_nc.b,o=$nl_nc.c1,a=$nl_nc.c2,s=";";t&&(e=t.split(s)),n&&(r=n.split(s)),o&&(i[1]=o.split(s)),a&&(i[2]=a.split(s)),$nl_nc=void 0}})},n.prototype.setRandomFunc=function(t){null!=t?this._random=t:this._random=Math.random},n.prototype.getName=function(n){void 0===n&&(n=1);var o="",a=i[n];if(!a)return void t.ThrowError("性别必须为1或者2");var s=e.length,u=r.length,h=a.length,c=this._random;return s&&(o+=e[s*c()>>0]),u&&(o+=1&Date.now()?"":r[u*c()>>0]),h&&(o+=a[h*c()>>0]),o},n.prototype.dispose=function(){this._random=null},n}();t.NameUtils=n,__reflect(n.prototype,"junyou.NameUtils")}(junyou||(junyou={}));var junyou;!function(t){t.RequestLimit={_dic:{},check:function(e,r){void 0===r&&(r=500);var i=this._dic,n=i[e],o=t.Global.now;if(!n)return i[e]=r+o,!0;var a=n-o;return a>0?!1:(i[e]=r+o,!0)},remove:function(t){delete this._dic[t]}}}(junyou||(junyou={}));var junyou;!function(t){t.RPC=function(){function e(t,e){return function(r){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];t.call.apply(t,[e,void 0].concat(i))}}function r(e,r,i){void 0===i&&(i=2e3);var n=s++;return u[n]={id:n,expired:t.Global.now+i,success:e,error:r},c++,a||(t.TimerUtil.addCallback(1e3,o),a=!0),n}function i(e){e in u&&(delete u[e],c--,0==c&&(t.TimerUtil.removeCallback(1e3,o),a=!1))}function n(t,e,r){var n=u[t];if(n){i(t);var o,a=n.success,s=n.error;return r?("string"==typeof r&&(r=new Error(r)),s&&(o=s.call(r),s.recycle()),a&&a.recycle()):(s&&s.recycle(),a&&(o=a.call(e),a.recycle())),o}}function o(){var e=l,r=0,i=t.Global.now;for(var o in u){var a=u[o];i>a.expired&&(e[r++]=o)}for(var s=0;r>s;s++){var o=e[s];n(o,null,h)}}var a,s=1,u={},h="RPCTimeout",c=0,l=[];return{Timeout:h,callback:n,registerCallback:r,registerCallbackFunc:function(i,n,o,a){void 0===o&&(o=2e3);for(var s=[],u=4;u<arguments.length;u++)s[u-4]=arguments[u];var h=t.CallbackInfo.get.apply(t.CallbackInfo,[i,a].concat(s)),c=t.CallbackInfo.get.apply(t.CallbackInfo,[n?i:e(i,a),a].concat(s));return r(h,c,o)},removeCallback:function(t){var e=u[t];if(i(t),e){var r=e.success,n=e.error;r&&r.recycle(),n&&n.recycle()}}}}()}(junyou||(junyou={}));var junyou;!function(t){t.SoundManager=function(){function e(t,e){var i=p[e];if(i){var n=i.channel;n?n.volume=t:r(i,arguments)}}function r(t,e){var r=t.actions;r||(t.actions=r=[]);for(var i=[],n=0;n<e.length;n++)i[n]=e[n];r.push([e.callee,i])}function i(t,e){l(function(r){return o(r,function(e){return e.domain==t},e)})}function n(t,e){l(function(r){return o(r,function(e){return e.id==t},e)},!0)}function o(e,r,i){var n=e.channel,o=r(e);return o&&(i?t.Global.getTween(n).to({volume:0}).call(n.stop):n.stop()),!o}function a(t){c(t)}function s(e,r,i,n,o){void 0===i&&(i=1),void 0===n&&(n=500);var a=c(e),s=a.state;if(-1==s)return 0;var h=d++;r=~~r;var l={id:h,url:e,domain:r};if(p[h]=l,2==s)u(a,l,o,i);else{l.option={startTime:o,playStart:t.Global.now,timeout:n,loop:i};var f=a.promises;f||(a.promises=f=[]),f.push(h)}return h}function u(t,e,r,i){var n=t.sound.play(r,i);n.once(egret.Event.COMPLETE,h,void 0),e.channel=n;var o=e.actions;if(o){for(var a=0;a<o.length;a++){var s=o[a];s[0].apply(null,s[1])}delete e.actions}}function h(t){var e=t.currentTarget;l(function(t){return t.channel!=e})}function c(e){var r=f[e];return r||(f[e]=r={url:e,sound:void 0,state:1},RES.getResByUrl(e,function(i){if(i){r.sound=i,r.state=2;var n=r.promises;if(n){delete r.promises;for(var o=t.Global.now,a=0,s=n.length;s>a;a++){var h=n[a],c=p[h];if(c){var f=c.option;if(f){delete c.option;var d=o-f.playStart;if(d<f.timeout){var y=f.startTime+d;u(r,c,y,f.loop)}else delete p[h]}}}}}else delete r.promises,r.state=-1,l(function(t){return t.url!=e})},null,"sound")),r}function l(t,e){for(var r in p){var i=p[r];if(!t(i)&&(delete p[r],e))break}}var p={},f={},d=1;return{play:s,preload:a,stopSound:n,stopSounds:i,volume:e}}()}(junyou||(junyou={}));var junyou;!function(t){t.TimerUtil=function(){function e(t){var e=0;for(var r in o){var i=o[r];if(i.nt<t){i.nt=t+i.tid;var n=i.list,u=n.length;if(u>0){for(var h=0;u>h;h++)a[h]=n[h];for(var h=0;u>h;h++)a[h].execute(!1)}u=n.length,0==u&&(s[e++]=r)}}for(var h=0;e>h;h++)delete o[s[h]]}function r(t){return 10*Math.ceil(t/10)}function i(e,i,n){for(var a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];e=r(e);var u=o[e];if(u)t.CallbackInfo.addToList.apply(t.CallbackInfo,[u.list,i,n].concat(a));else{u={},u.tid=e,u.nt=t.Global.now+e;var h=[];u.list=h,o[e]=u,h.push(t.CallbackInfo.get.apply(t.CallbackInfo,[i,n].concat(a)))}}function n(t,e,i){t=r(t);var n=o[t];if(n){for(var a=n.list,s=-1,u=0,h=a.length;h>u;u++){var c=a[u];if(c.checkHandle(e,i)){s=u;break}}~s&&a.splice(s,1),a.length||(clearInterval(n.tid),delete o[t])}}var o={},a=[],s=[];return{addCallback:i,removeCallback:n,tick:e}}()}(junyou||(junyou={}));var junyou;!function(t){function e(t,e){return e=e||location.href,/^((http|https):)?\/\//.test(t)||(t=window.URL?new URL(t,e).href:e+"/"+t),t}t.solveLink=e}(junyou||(junyou={}));var $dirty,junyou;!function(t){var e=function(){function e(){}return e.loadDirtyWord=function(r){t.loadScript(r,function(){$dirty&&(e.initFilterstring($dirty,";"),$dirty=void 0)})},e.initFilterstring=function(t,r){var i=t.split(r),n=i.length;e._len=n;var o,a,s=t.length+7*n,u=/([\/*().?|+\-$\^=:!@])/g,h=/([\\\[\]])/g;if(32768>s){var c=n-1,l="(?:";for(a=0;c>a;a++)o=i[a],o&&(o=o.replace(h,"[\\$1]"),o=o.replace(u,"[$1]"),l+=o+")|(?:");if(o=i[c],o=o.replace(h,"[\\$1]"),o=o.replace(u,"[$1]"),l+=o+")|[|]",l.length<32768)return void(e.filterWords=new RegExp(l,"g"))}e._filterList=new Array(n+1);var p=e._filterList;for(a=0;n>a;a++)o=i[a],o=o.replace(h,"[\\$1]"),o=o.replace(u,"[$1]"),p[a]=new RegExp(o,"g");p[a]=new RegExp("[|]","g"),n+=1},e.wordCensor=function(t){var r=e._filterList,i=e._len,n=e.replaceDirty;if(r){for(var o=0;i>o;o++)t=t.replace(r[o],n);return t}return t.replace(e.filterWords,n)},e.checkWord=function(t){var r=e._filterList;if(r){for(var i=e._len,n=0;i>n;n++)if(r[n].lastIndex=0,r[n].test(t))return!0;return!1}var o=e.filterWords;return o.lastIndex=0,o.test(t)},e}();e.filterWords=/卐|妓|婊|尻|屄|屌|睾|肏|[|]/g,e.replaceDirty=function(t){for(var e=t.length,r="";e--;)r+="*";return r},t.WordFilter=e,__reflect(e.prototype,"junyou.WordFilter")}(junyou||(junyou={}));var junyou;!function(t){t.ClientCheck={isClientCheck:!0}}(junyou||(junyou={}));var junyou;!function(t){t.errorPrefix="",t.ThrowError=function(){function e(t){return(new Date).format("[yyyy-MM-dd HH:mm:ss]",!0)+"[info:]"+t}var r=function(r,i){r=t.errorPrefix+r,r+="%c",i?r+="\nError:\n[name]:"+i.name+",[message]:"+i.message:i=new Error,r+="\n[stack]:\n"+i.stack,r=e(r),console.log(r,"color:red")};return r}()}(junyou||(junyou={}));var junyou;!function(t){t.Ext={JPG:".jpg",PNG:".png",WEBP:".webp"}}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(){var t=e.call(this)||this;return t.state=0,t}return __extends(r,e),r.prototype.bind=function(e){var r=this.state;if(2!=r&&(this._refList||(this._refList=[]),this._refList.push(e),0==r)){var i=t.ResPrefix.ANI+this.key+"/"+t.UnitResource.DATA_JSON;this.url=t.ConfigUtils.getResUrl(i),RES.getResByUrl(this.url,this.dataLoadComplete,this,RES.ResourceItem.TYPE_JSON),this.state=1}},r.prototype.dataLoadComplete=function(t,e){if(e==this.url){if(t){if(this.init(this.key,t),this._refList)for(var r=0,i=this._refList;r<i.length;r++){var n=i[r];n.callback()}}else this.state=2;this._refList=void 0}},r.prototype.loose=function(t){var e=this._refList;e&&e.remove(t)},r.prototype.init=function(r,i){e.prototype.init.call(this,r,i[0]);var n=new t.UnitResource(t.ResPrefix.ANI+r,this.splitInfo);n.decodeData(i[1]),this._resources=n,this.state=2},r.prototype.getResource=function(t){return this._resources},Object.defineProperty(r.prototype,"actionInfo",{get:function(){return this.frames[0]},enumerable:!0,configurable:!0}),r}(t.PstInfo);t.AniInfo=e,__reflect(e.prototype,"junyou.AniInfo")}(junyou||(junyou={}));var junyou;!function(t){function e(e){var r={a:0,d:-1,f:0,t:100},i=["a","f","t","e","d"];if(!Array.isArray(e)){if("object"==typeof e){for(var n=0;5>n;n++){var o=i[n];void 0==e[o]&&(e[o]=r[o])}return e}return r}var a=t.DataParseUtil.getData(e,i,r);return 0==+a.e&&(a.e=void 0),-1==a.t&&(a.t=1/0),a}function r(t,r){var i={};i.key=r;var n=t[0],o=0,a=0;return n.forEach(function(t){var r=e(t);o+=r.t,n[a++]=r}),i.frames=n,i.totalTime=o,i.isCircle=!!t[1],i}t.getFrameInfo=e,t.getActionInfo=r,t.getCustomAction=function(){var t=-.5;return function(r,i){i=i||t--;for(var n=[],o=0,a=0;a<r.length;a++){var s=e(r[a]);n[a++]=s,o+=s.t}return{key:i,frames:n,totalTime:o}}}()}(junyou||(junyou={}));var junyou;!function(t){var e=egret.Event,r=function(r){function i(){var t=r.call(this)||this;return t.state=0,t.recyclePolicy=3,t.a=0,t}return __extends(i,r),Object.defineProperty(i.prototype,"guid",{get:function(){return this._guid},enumerable:!0,configurable:!0}),i.prototype.render=function(){var e=this._aniInfo;if(e){var r=e.actionInfo;if(r){var i=t.Global.now;this.onData(r,i),this.doRender(i)}}},i.prototype.doData=function(t){if(this._aniInfo){var e=this._aniInfo.actionInfo;e&&this.onData(e,t)}},i.prototype.renderFrame=function(t,e){t&&(this.f=t.f,this.display.draw(this,e))},i.prototype.dispatchEvent=function(t,e){var r=this.handler;r&&r.call(t,this,e)},i.prototype.doComplete=function(t){var r=this.handler;r&&r.call(-1993,this,t),this.state=2;var n=this.recyclePolicy;if(2==(2&n))i.recycle(this.guid);else{var o=this.display;o&&(o.off(e.ENTER_FRAME,this.render,this),1==(1&n)&&(this.display=void 0,o.recycle()))}},i.prototype.isComplete=function(t){var e=this.loop;return void 0!=e?(e--,this.loop=e,1>e):!t.isCircle},i.prototype.callback=function(){if(this._aniInfo){var t=this.display;t.res=this._aniInfo.getResource(),1==this.state&&this.checkPlay()}},i.prototype.play=function(e){var r=t.Global.now;e=void 0===e?r:e,this.plTime=r,this.renderedTime=e,this.nextRenderTime=e,this.state=1,this.resOK=!1,this.checkPlay()},i.prototype.checkPlay=function(){var r=this.display,i=r.res;if(i){var n=this._render,o=void 0;if(this.waitTexture){var a=this,s=a.a,u=a.d;if(i.isResOK(s,u)){if(!this.resOK){this.resOK=!0;var h=t.Global.now-this.plTime;this.renderedTime=this.nextRenderTime=this.renderedTime+h}o=this.render}else o=this.checkPlay,i.loadRes(s,u)}else o=this.render;n!=o&&(n&&r.off(e.ENTER_FRAME,n,this),o&&r.on(e.ENTER_FRAME,o,this)),this._render=o}},i.prototype.onRecycle=function(){var t=this.handler;t&&(t.call(-1992,this),t.recycle(),this.handler=void 0),delete i._renderByGuid[this._guid],this.state=3;var r=this.display;r&&(this.display=void 0,r.off(e.ENTER_FRAME,this.render,this),1==(1&this.recyclePolicy)&&r.recycle()),this._aniInfo&&(this._aniInfo.loose(this),this._aniInfo=void 0),this.idx=0,this._guid=0/0,this.waitTexture&&(this.waitTexture=!1),this.loop=void 0},i.prototype.onSpawn=function(){this.f=0,this.state=0,this.recyclePolicy=3,this._playSpeed=1},i.prototype.init=function(t,e,r){this._aniInfo=t,this.display=e,2==t.state?e.res=t.getResource():t.bind(this),this._guid=r},i.getAni=function(e,r){var n=$DD.ani,o=n[e];o||(o=new t.AniInfo,o.key=e,n[e]=o);var a,s,u=t.recyclable(t.ResourceBitmap),h=t.recyclable(i);if(r){a=r.guid;var c=r.pos,l=r.x,p=r.y;c&&(l=c.x,p=c.y),void 0!=l&&(u.x=l),void 0!=p&&(u.y=p),s=r.stop;var f=r.parent;if(f){var d=r.childIdx;void 0==d?f.addChild(u):f.addChildAt(u,d)}h.loop=r.loop,h.handler=r.handler;var y=r.recyclePolicy;void 0==y&&(y=3),h.recyclePolicy=y,h.waitTexture=!!r.waitTexture}return!a&&(a=this.guid++),this._renderByGuid[a]=h,h.init(o,u,a),s||h.play(),h},i.getRunningAni=function(t){return this._renderByGuid[t]},i.recycle=function(t){var e=this._renderByGuid[t];e&&e.recycle()},i}(t.BaseRender);r._renderByGuid={},r.guid=1,t.AniRender=r,__reflect(r.prototype,"junyou.AniRender",["junyou.IRecyclable"])}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){var t={enumerable:!0,configurable:!0};t.get=function(){return this._cb},t.set=function(t){this._cb!=t&&(this._cb=t,void 0!=t&&(this._debug={handle:t.toString(),stack:(new Error).stack}))},Object.defineProperty(this,"callback",t)}return e.prototype.init=function(t,e,r){this.callback=t,this.args=r,this.thisObj=e},e.prototype.checkHandle=function(t,e){return this.callback===t&&this.thisObj==e},e.prototype.execute=function(e){void 0===e&&(e=!0);var r,i=this.callback;if(void 0!=i)try{r=i.apply(this.thisObj,this.args)}catch(n){var o=this._debug;t.ThrowError("CallbackInfo执行报错，赋值内容：============Function=============:\n"+o.handle+"\n}==============Stack============:\n"+o.stack+"\n当前堆栈："+n.stack),console.log.apply(console,["参数列表"].concat(this.args))}else{var o=this._debug;t.ThrowError("对已回收的CallbackInfo执行了回调，最后一次赋值内容：============Function=============:\n"+o.handle+"\n==============Stack============:\n"+o.stack+"\n当前堆栈："+(new Error).stack)}return e&&this.recycle(),r},e.prototype.call=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.args&&(t=t.concat(this.args)),this.callback.apply(this.thisObj,t)},e.prototype.onRecycle=function(){this.callback=void 0,this.args=void 0,this.thisObj=void 0},e.get=function(r,i){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var a=t.recyclable(e);return a.init(r,i,n),a},e.addToList=function(t,e,r){for(var i=[],n=3;n<arguments.length;n++)i[n-3]=arguments[n];for(var o=0,a=t;o<a.length;o++){var s=a[o];if(s.checkHandle(e,r))return s.args=i,s}return s=this.getInstance.apply(this,[e,r].concat(i)),t.push(s),s},e}();e.getInstance=e.get,t.CallbackInfo=e,__reflect(e.prototype,"junyou.CallbackInfo",["junyou.IRecyclable"])}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(egret.Texture);t.JTexture=e,__reflect(e.prototype,"junyou.JTexture")}(junyou||(junyou={}));var junyou;!function(t){function e(e,r){return function(i,n){new s(n,function(){r?"function"==typeof this.dispatch&&this.dispatch(e):t.dispatch(e,this)}).reset(i)}}function r(t,e,r){var i=null,n=null;if("function"==typeof r.value?(i="value",n=r.value):"function"==typeof r.get&&(i="get",n=r.get),!n)throw new Error("not supported");var o="$memoize$"+e;r[i]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.hasOwnProperty(o)||Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:n.apply(this,t)}),this[o]}}function i(t,e){for(var r=t[n],i=r.length,o=0;i>o;o+=2){var a=r[o],s=r[o+1];a.call(s,e,t)}}t.d_fire=e,t.d_memoize=r;var n="__listeners__",o="__bindables__",a=0,s=function(){function e(t,e,r,i){this.isExecuting=!1,this.property=t,this.handler=e,this.next=i,this.thisObject=r}return e.watch=function(t,r,i,n){if(r||egret.$error(1003,"chain"),r.length>0){var o=r.shift(),a=e.watch(null,r,i,n),s=new e(o,i,n,a);return s.reset(t),s}},e.checkBindable=function(e,r){var s=e[o];if(s&&-1!=s.indexOf(r))return!0;var u=egret.is(e,"egret.IEventDispatcher");u||e[n]||(e[n]=[]);var h=e.getPropertyDescriptor(r);if(h&&h.set&&h.get){var c=h.set;h.set=function(e){this[r]!=e&&(c.call(this,e),u?t.PropertyEvent.dispatchPropertyEvent(this,-2e3,r):i(this,r))}}else{if(h&&(h.get||h.set))return!1;a++;var l="_"+a+r;e[l]=h?h.value:null,h={enumerable:!0,configurable:!0},h.get=function(){return this[l]},h.set=function(e){this[l]!=e&&(this[l]=e,u?t.PropertyEvent.dispatchPropertyEvent(this,-2e3,r):i(this,r))}}Object.defineProperty(e,r,h),t.registerBindable(e,r)},e.prototype.unwatch=function(){this.reset(null),this.handler=null,this.next&&(this.next.handler=null)},e.prototype.getValue=function(){return this.next?this.next.getValue():this.getHostPropertyValue()},e.prototype.setHandler=function(t,e){this.handler=t,this.thisObject=e,this.next&&this.next.setHandler(t,e)},e.prototype.reset=function(t){var r=this.host;if(r)if(r instanceof egret.EventDispatcher)r.off(-2e3,this.wrapHandler,this);else{var i=r[n],o=i.indexOf(this);i.splice(o-1,2)}if(this.host=t,t)if(e.checkBindable(t,this.property),t instanceof egret.EventDispatcher)t.on(-2e3,this.wrapHandler,this,!1,100);else{var i=t[n];i.push(this.onPropertyChange),i.push(this)}return this.next&&this.next.reset(this.getHostPropertyValue()),this},e.prototype.getHostPropertyValue=function(){return this.host?this.host[this.property]:null},e.prototype.wrapHandler=function(t){this.onPropertyChange(t.property,t.currentTarget)},e.prototype.onPropertyChange=function(t,e){if(t==this.property&&!this.isExecuting)try{this.isExecuting=!0,this.next&&this.next.reset(this.getHostPropertyValue()),this.thisObject?this.handler.call(this.thisObject,this.getValue()):this.handler.call(e,this.getValue())}finally{this.isExecuting=!1}},e}();t.Watcher=s,__reflect(s.prototype,"junyou.Watcher")}(junyou||(junyou={})),function(t){var e=function(){function e(){}return e.bindProperty=function(e,r,i,n){var o=t.Watcher.watch(e,r,null,null);if(o){var a=function(t){i[n]=t};o.setHandler(a,null),a(o.getValue())}return o},e.bindHandler=function(e,r,i,n){var o=t.Watcher.watch(e,r,i,n);return o&&i.call(n,o.getValue()),o},e}();t.Binding=e,__reflect(e.prototype,"junyou.Binding")}(junyou||(junyou={})),function(t){var e=function(t){function e(e,r,i,n){var o=t.call(this,e,r,i)||this;return o.property=n,o}return __extends(e,t),e.dispatchPropertyEvent=function(t,r,i){if(!t.hasListen(r))return!0;var n=egret.Event.create(e,r);n.property=i;var o=t.dispatchEvent(n);return egret.Event.release(n),o},e}(egret.Event);t.PropertyEvent=e,__reflect(e.prototype,"junyou.PropertyEvent")}(junyou||(junyou={})),function(t){function e(t,e){if(t||egret.$error(1003,"instance"),e||egret.$error(1003,"property"),t.hasOwnProperty(r))t[r].push(e);else{var i=[e];t[r]&&(i=t[r].concat(i)),t[r]=i}}var r="__bindables__";t.registerBindable=e}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.z=0,t}return __extends(r,e),Object.defineProperty(r.prototype,"depth",{get:function(){return this.y+this.z},enumerable:!0,configurable:!0}),r.prototype.draw=function(t,e){this.res&&this.res.draw(this,t,e)},Object.defineProperty(r.prototype,"rotation",{set:function(t){e.prototype.$setRotation.call(this,t)},enumerable:!0,configurable:!0}),r.prototype.onRecycle=function(){t.removeDisplay(this),this.removeAllListeners(),this.res=void 0,this.rotation=0,this.x=0,this.y=0,this.z=0,this.scaleX=1,this.scaleY=1,this.texture=void 0},r}(egret.Bitmap);t.ResourceBitmap=e,__reflect(e.prototype,"junyou.ResourceBitmap",["junyou.IRecyclable","junyou.IDepth"])}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(e){this.state=0,this.resID=e,this.url=t.ConfigUtils.getResUrl(e+t.Global.webp),this.textures=[]}return Object.defineProperty(e.prototype,"isStatic",{get:function(){return 1!=this.state},enumerable:!0,configurable:!0}),e.prototype.bindTextures=function(e,r){var i=this;r.forEach(function(r){var n=t.PstUtils.getAFromADKey(r),o=e[n];if(o){var a=t.PstUtils.getDFromADKey(r),s=o[a];s&&s.forEach(function(t){i.bindTexture(t)})}})},e.prototype.bindTexture=function(t){var e=this.textures;~e.indexOf(t)||(e.push(t),this.bmd&&(t._bitmapData=this.bmd))},e.prototype.load=function(){0==this.state&&(this.state=1,RES.getResByUrl(this.url,this.loadComplete,this,RES.ResourceItem.TYPE_IMAGE))},e.prototype.loadComplete=function(t,e){if(e==this.url)if(t){var r=t.bitmapData;this.bmd=r,this.state=2;for(var i=this.textures,n=0;n<i.length;n++){var o=i[n];o&&(o._bitmapData=r)}}else this.state=-1},e.prototype.dispose=function(){for(var t=this.textures,e=0;e<t.length;e++){var r=t[e];r&&r.dispose()}t.length=0,this.bmd&&(this.bmd=void 0),this.state=0},e}();t.SplitUnitResource=e,__reflect(e.prototype,"junyou.SplitUnitResource",["junyou.IResource"])}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(t,e){this.state=0,this.key=t,this._splitInfo=e}return e.prototype.decodeData=function(e){function r(e){var r=new t.JTexture,i=e[0],n=e[1];r.tx=e[2]||0,r.ty=e[3]||0;var o=e[4],a=e[5];return r.$initData(i,n,o,a,0,0,o,a,o,a),r}var i={};for(var n in e){var o=[];i[n]=o;for(var a=e[n],s=0,u=a.length;u>s;s++){var h=[];o[s]=h;for(var c=a[s],l=0,p=c.length;p>l;l++)0!==c[l]&&(h[l]=r(c[l]))}}this._datas=i,this.state=2},e.prototype.loadData=function(){if(0==this.state){var r=this.key+"/"+e.DATA_JSON,i=t.ConfigUtils.getResUrl(r);this.url=i,this.state=1,RES.getResByUrl(i,this.dataLoadComplete,this,RES.ResourceItem.TYPE_JSON)}},e.prototype.dataLoadComplete=function(t,e){e==this.url&&this.decodeData(t)},e.prototype.draw=function(e,r,i){var n=this._datas;if(n){var o=r.a,a=r.f,s=r.d,u=n[o];if(u){var h=u[s];if(h){var c=h[a];if(c){var l=this.loadRes(s,o);l.lastUseTime=t.Global.now,c.bitmapData?(e.texture=c,e.anchorOffsetX=c.tx,e.anchorOffsetY=c.ty):e.texture=void 0}}}}},e.prototype.loadRes=function(e,r){var i=this._splitInfo,n=i.getResource(e,r),o=this.key+"/"+n+t.Ext.PNG,a=this._datas;return t.ResourceManager.get(o,function(){var e=new t.SplitUnitResource(o);return e.bindTextures(a,i.adDict[n]),e.load(),e})},e.prototype.isResOK=function(e,r){var i=this._splitInfo,n=i.getResource(e,r),o=this.key+"/"+n+t.Ext.PNG,a=t.ResourceManager.getResource(o);
return!(!a||!a.bmd)},e}();e.DATA_JSON="d.json",t.UnitResource=e,__reflect(e.prototype,"junyou.UnitResource")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(e,r){void 0===e&&(e=0),void 0===r&&(r=0);var i=t.call(this)||this;i._rect=new egret.Rectangle;var n=egret.sys.$TempStage;return e||(e=n.stageWidth),r||(r=n.stageHeight),i.setSize(e,r),i}return __extends(e,t),Object.defineProperty(e.prototype,"changed",{get:function(){var t=this._target;if(t){var e=t.x<<16|65535&t.y;if(e!=this._lastPos)return this._lastPos=e,!0}return this._changed},enumerable:!0,configurable:!0}),e.prototype.change=function(){this._changed=!1},e.prototype.lookat=function(t){return this._target=t,!!t},e.prototype.setSize=function(t,e){var r=this._rect;return t!=r.width&&(r.width=t,this._changed=!0),e!=r.height&&(r.height=e,this._changed=!0),this},e.prototype.setLimits=function(t,e,r,i){return void 0===t&&(t=1/0),void 0===e&&(e=1/0),void 0===r&&(r=0),void 0===i&&(i=0),this._limits=new egret.Rectangle(r,i,t,e),this},e.prototype.moveTo=function(t,e){var r=this._rect,i=r.width,n=r.height;t-=i>>1,e-=n>>1;var o=this._limits;return o&&(t=Math.clamp(t,o.x,o.width-i),e=Math.clamp(e,o.y,o.height-n)),t!=r.x&&(r.x=t,this._changed=!0),e!=r.y&&(r.y=e,this._changed=!0),this},Object.defineProperty(e.prototype,"rect",{get:function(){var t=this._target;return t&&this.moveTo(t.x,t.y),this._rect},enumerable:!0,configurable:!0}),e}(egret.HashObject);t.Camera=e,__reflect(e.prototype,"junyou.Camera")}(junyou||(junyou={}));var junyou;!function(t){}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(t){var r=e.call(this)||this;return r._layers=[],r._sortedLayers=[],r._stage=t,r.init(),r}return __extends(r,e),r.init=function(t,e){e=e||r,r.instance=new e(t)},r.addLayerConfig=function(e,i,n){void 0===i&&(i=0);var o={};o.id=e,o.parentid=i,o.ref=n||t.GameLayer,r.layerConfigs[e]=o},r.invalidateSort=function(){r.instance.invalidateSort()},r.prototype.invalidateSort=function(){this._sortDirty=!0},Object.defineProperty(r.prototype,"viewRect",{get:function(){return this._viewRect},enumerable:!0,configurable:!0}),r.prototype.getLayer=function(e){var i=this._layers,n=i[e];if(!n){var o=r.layerConfigs[e];if(!o)return;var a=o.ref;n=new a(e),this.addLayer(n,o),i[e]=n,n instanceof t.SortedLayer&&this._sortedLayers.push(n)}return n},r.prototype.sleepLayer=function(e){var r=this._layers[e];t.removeDisplay(r)},r.prototype.awakeLayer=function(t){var e=this._layers[t],i=r.layerConfigs[t];e&&i&&this.addLayer(e,i)},r.prototype.addLayer=function(t,e){if(e&&e.parentid){var r=this.getLayer(e.parentid);this.addLayerToContainer(t,r)}else this.addLayerToContainer(t,this._stage)},r.prototype.addLayerToContainer=function(e,r){for(var i=r.$children,n=e.id,o=0,a=i.length;a>o;o++){var s=i[o];if(s instanceof t.GameLayer){var u=s;if(u.id>n)break}}r.addChildAt(e,o)},r.prototype.init=function(){},r}(egret.EventDispatcher);e.layerConfigs={},t.GameEngine=e,__reflect(e.prototype,"junyou.GameEngine")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(e){var r=t.call(this)||this;return r.id=e,r}return __extends(e,t),e}(egret.Sprite);t.GameLayer=e,__reflect(e.prototype,"junyou.GameLayer");var r=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return __extends(r,e),r.prototype.$doAddChild=function(r,i,n){if(void 0===n&&(n=!0),"depth"in r)return t.GameEngine.invalidateSort(),e.prototype.$doAddChild.call(this,r,i,n);throw new Error("Only IDepth can be added to this LayerID("+this.id+")")},r.prototype.sort=function(){this.$children.doSort("depth")},r}(e);t.SortedLayer=r,__reflect(r.prototype,"junyou.SortedLayer")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.depth=0,e}return __extends(e,t),e}(egret.Sprite);t.DSprite=e,__reflect(e.prototype,"junyou.DSprite",["junyou.IDepth"])}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this.MAX_MSG_COUNT=5,this.isruning=!1,this._messageRenderArr=new Array,this._waitList=[]}return e.prototype.initBase=function(t,e,r){this._con=t,this.MAX_MSG_COUNT=e,this.renderStyle=r},e.prototype.addMessage=function(t){t.appendTo(this._waitList),this.checkNext(),0==this.isruning&&(this.isruning=!0,this._con.on(egret.Event.ENTER_FRAME,this.tick,this))},e.prototype.checkandAddMsg=function(){for(var t,e=this._waitList.length,r=0;e>r&&(t=this.getMessageRender(r),t);r++)if(t.isrunning){if(!t.checkShow()){var i=this._messageRenderArr.length;i<this.MAX_MSG_COUNT&&(t=this.getMessageRender(i),t&&(t.y=t.index*t.height,this._con.addChild(t),t.showMsg(this._waitList.shift())));continue}t.showMsg(this._waitList.shift())}else t.y=t.index*t.height,this._con.addChild(t),t.showMsg(this._waitList.shift())},e.prototype.getMessageRender=function(e){if(!(e>this.MAX_MSG_COUNT-1)){var r=this._messageRenderArr[e];return r||(r=new t.MessageRender,r.setStyles(this.renderStyle),r.index=e,this._messageRenderArr[e]=r,r.on(t.MessageRender.CHECK_END,this.checkEnd,this),r.on(t.MessageRender.CHECK_NEXT,this.checkNext,this)),r}},e.prototype.checkEnd=function(t){var e,r=!1,i=t.target;this._con.removeChild(i);for(var n=this._messageRenderArr.length,o=0;n>o;o++)if(e=this._messageRenderArr[o],e.isrunning){r=!0;break}0==r&&(this._con.off(egret.Event.ENTER_FRAME,this.tick,this),this.isruning=!1)},e.prototype.checkNext=function(t){if(this._waitList.length>0){var e=this._messageRenderArr.length;if(e>0){for(var r=void 0,i=0;e>i;i++)if(r=this._messageRenderArr[i],this._waitList.length>0)if(0==r.isrunning)r.showMsg(this._waitList.shift()),this._con.addChild(r);else{if(!r.checkShow())continue;r.showMsg(this._waitList.shift())}e<this.MAX_MSG_COUNT&&this.checkandAddMsg()}else this.checkandAddMsg();0==this.isruning&&(this.isruning=!0,this._con.on(egret.Event.ENTER_FRAME,this.tick,this))}},e.prototype.tick=function(t){for(var e,r=this._messageRenderArr,i=r.length,n=0;i>n;n++)e=r[n],e.cantick&&e.tick()},e}();t.MessageChanel=e,__reflect(e.prototype,"junyou.MessageChanel")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.isrunning=!1,e._checkDispatched=!1,e.speed=2,e.initTxt(),e}return __extends(e,t),e.prototype.initTxt=function(){this.bg=new egret.Sprite,this.addChild(this.bg),this.con=new egret.Sprite,this.addChild(this.con),this.msk=new egret.Sprite,this.addChild(this.msk),this.con.mask=this.msk,this._txtField=new egret.TextField,this.con.addChild(this._txtField),this._txtField2=new egret.TextField,this.con.addChild(this._txtField2),this.on(egret.Event.ADDED_TO_STAGE,this.addToStage,this)},e.prototype.addToStage=function(t){this.cantick=!0},e.prototype.setStyles=function(t){var e=t.bg,r=t.contentSize,i=t.speed,n=t.fontSize,o=t.fontColor,a=t.endpad;if(e){this.bg.addChild(e);var s=t.bgSize;s&&(e.width=s.width,e.height=s.height)}this.con.x=r.x,this.con.y=r.y,this.msk.x=r.x,this.msk.y=r.y,this.msk.graphics.beginFill(0),this.msk.graphics.drawRect(0,0,r.width,r.height),this.msk.graphics.endFill(),this._txtField.textColor=this._txtField2.textColor=o,this._txtField.size=this._txtField2.size=n,this._txtField.height=this._txtField2.height=r.height,this._txtField.y=this._txtField2.y=r.y,this._txtStartPos=r.width+1,this._txtField.x=this._txtField2.x=this._txtStartPos,this._checkPos=r.width-a,i>0&&(this.speed=i),this._contentSize=r},Object.defineProperty(e.prototype,"height",{get:function(){return this._contentSize.height+2*this._contentSize.y},enumerable:!0,configurable:!0}),e.prototype.showMsg=function(t){this.currentTextField?this.currentTextField==this._txtField?(this.currentTextField=this._txtField2,this.otherTextField=this._txtField):(this.currentTextField=this._txtField,this.otherTextField=this._txtField2):this.currentTextField=this._txtField,this._checkDispatched=!1,this.currentTextField.text=t},e.prototype.checkShow=function(){var t=this.currentTextField.x+this.currentTextField.width;return t<this._checkPos?!0:!1},e.prototype.tick=function(){return this.currentTextField&&this.currentTextField.x+this.currentTextField.width<0?(this.currentTextField.text="",this.currentTextField.x=this._txtStartPos,this.currentTextField=void 0,this.isrunning=!1,this.cantick=!1,void this.dispatchEvent(new egret.Event(e.CHECK_END))):(this.currentTextField&&this.currentTextField.x+this.currentTextField.width<this._checkPos&&(this._checkDispatched||(this._checkDispatched=!0,this.dispatchEvent(new egret.Event(e.CHECK_NEXT)))),this.otherTextField&&(this.otherTextField.x+this.otherTextField.width<0?(this.otherTextField.x=this._txtStartPos,this.otherTextField.text="",this.otherTextField=void 0):this.otherTextField.x-=this.speed),this.currentTextField.x-=this.speed,void(this.isrunning=!0))},e}(egret.Sprite);e.CHECK_NEXT="CHECK_NEXT",e.CHECK_END="CHECK_END",t.MessageRender=e,__reflect(e.prototype,"junyou.MessageRender")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(){this.fontSize=12,this.fontColor=0,this.endpad=0,this.speed=0}return t}();t.MessageRenderStyle=e,__reflect(e.prototype,"junyou.MessageRenderStyle")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(){this._tex=new egret.RenderTexture,this._canvas=document.createElement("canvas"),this._content=this._canvas.getContext("2d")}return t.prototype.drawDisplay=function(t,e,r,i,n){function o(t,e,r,i){return t.ymax>i&&(e[r++]=t,t.Rx+=t.dRx,t.Ry+=t.dRy,t.x=Math.round(t.x+t.dx)),r}function a(t,e,r){var i,n,o,a,s;if(t.y==e.y)return 0;t.y<e.y?(i=t.x,n=t.Rx,o=t.Ry,a=e.y,s=t.y):(i=e.x,n=e.Rx,o=e.Ry,a=t.y,s=e.y);var u=t.y-e.y,h=(t.x-e.x)/u,c=(t.Rx-e.Rx)/u,l=(t.Ry-e.Ry)/u,p=r[s];return p||(r[s]=p=[],p.minY=s),p.push({x:i,Rx:n,Ry:o,ymax:a,dx:h,dRx:c,dRy:l}),1}var s=t.width,u=t.height;e=e||{x:0,y:0},r=r||{x:s,y:0},i=i||{x:0,y:u},n=n||{x:s,y:u};var h=e.x,c=e.y,l=r.x,p=r.y,f=i.x,d=i.y,y=n.x,v=n.y,g=Math.min(h,l,f,y),_=Math.max(h,l,f,y),m=Math.min(c,p,d,v),b=Math.max(c,p,d,v),w=_-g,x=b-m,S=this._canvas;S.width=w,S.height=x;var j=this._content,T=j.createImageData(w,x),C=T.data,E=this._tex;E.drawToTexture(t);var D=E.getPixels(0,0,s,u);e.Rx=e.Rx||0,e.Ry=e.Ry||0,r.Rx=r.Rx||s,r.Ry=r.Ry||0,n.Rx=n.Rx||s,n.Ry=n.Ry||u,i.Rx=i.Rx||0,i.Ry=i.Ry||u;var R=[],k=0;if(k+=a(e,r,R),k+=a(r,n,R),k+=a(n,i,R),k+=a(i,e,R),k>0)for(var O=[],B=[],P=0;b>P;P++){var M=R[P];M&&M.length&&(M.appendTo(O),O.doSort("dx"));var I=O.length-1;if(I>0){for(var L=0;I>L;L++){var A=O[L],F=A.x,U=A.Rx,H=A.Ry,$=O[L+1],N=$.x,z=$.Rx,G=$.Ry,V=F-N,W=0,q=0;V&&(W=(U-z)/V,q=(H-G)/V);for(var X=F;N>=X;X++){var K=0|U,Q=U-K,Y=0|H,J=H-Y,Z=4*(Y*s+K),te=D[Z],ee=D[Z+1],re=D[Z+2],ie=D[Z+3],ne=Z+4,oe=D[ne],ae=D[ne+1],se=D[ne+2],ue=D[ne+3],he=4*((Y+1)*s+K),ce=D[he],le=D[he+1],pe=D[he+2],fe=D[he+3],de=he+4,ye=D[de],ve=D[de+1],ge=D[de+2],_e=D[de+3],me=1-Q,be=1-J,we=me*be,xe=Q*be,Se=me*J,je=Q*J,Te=4*(P*w+X);C[Te]=te*we+oe*xe+ce*Se+ye*je,C[Te+1]=ee*we+ae*xe+le*Se+ve*je,C[Te+2]=re*we+se*xe+pe*Se+ge*je,C[Te+3]=ie*we+ue*xe+fe*Se+_e*je,U+=W,H+=q}}for(var Ce=0,L=0;I>=L;L++)Ce=o(O[L],B,Ce,P);B.length=Ce;var Ee=O;O=B,B=Ee}}return j.putImageData(T,0,0),egret.BitmapData.create("base64",S.toDataURL())},t}();t.QuadTransform=e,__reflect(e.prototype,"junyou.QuadTransform")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(t,e,r,i,n){void 0===n&&(n=150),this._eR=e;var o=e/Math.PI2*n;return 0>t&&(t=-t),this._swing=t,this._dRad=e/o,this._dSwing=-t/o,this._total=o,this.setTargetPos(r,i),this},e.prototype.tick=function(t,e){var r=t*this._dRad,i=this._swing+t*this._dSwing;e.x=Math.round(this._cx+i*Math.cos(r)),e.y=Math.round(this._cy+i*Math.sin(r))},e}(t.BaseShake);t.CircleShake=e,__reflect(e.prototype,"junyou.CircleShake")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init1=function(t,e,r,i,n,o,a,s,u){void 0===a&&(a=30),void 0===s&&(s=3),void 0===u&&(u=90);var h=r-t,c=i-e,l=Math.sqrt(h*h+c*c);this.init(h/l,c/l,n,o,a,s,u)},e.prototype.init2=function(t,e,r,i,n,o){void 0===i&&(i=30),void 0===n&&(n=3),void 0===o&&(o=90),this.init(Math.cos(t),Math.sin(t),e,r,i,n,o)},e.prototype.init=function(t,e,r,i,n,o,a){void 0===n&&(n=30),void 0===o&&(o=3),void 0===a&&(a=90),30>~~a&&(a=30),1>~~o&&(o=1);var s=a*o;return this._dSwing=-n/s,this._dRad=Math.PI/a,this._count=o,this.setTargetPos(r,i),this._cos=t,this._sin=e,this._total=s,this},e.prototype.tick=function(t,e){var r=this._dSwing*t*Math.sin(t*this._dRad);e.x=Math.round(this._cx+this._cos*r),e.y=Math.round(this._cy+this._sin*r)},e}(t.BaseShake);t.DirectionShake=e,__reflect(e.prototype,"junyou.DirectionShake")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(t,e,r,i,n,o){return void 0===r&&(r=30),void 0===o&&(o=150),this._sR=t,this._eR=e,this._swing=r,this._dRad=(e-t)/o,this.setTargetPos(i,n),this},e.prototype.tick=function(t,e){var r=t*this._dRad,i=this._swing+Math.sin(t*Math.PI);e.x=Math.round(this._cx+i*Math.cos(r)),e.y=Math.round(this._cy+i*Math.sin(r))},e}(t.BaseShake);t.RotateShake=e,__reflect(e.prototype,"junyou.RotateShake")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){var t=this;this.shakable=!0,this._pt={x:0,y:0},this._tmp=new egret.Rectangle,this.checkViewRect=function(e){var r=t._limits,i=t._tmp,n=e.x-50,o=e.y-50,a=e.width+100,s=e.height+100;return r?i.setTo(Math.clamp(n,r.x,r.width),Math.clamp(o,r.y,r.height),Math.clamp(a,r.x,r.width),Math.clamp(s,r.y,r.height)):i.setTo(n,o,a,s),i}}return e.prototype.setLimits=function(t,e,r,i){return void 0===t&&(t=1/0),void 0===e&&(e=1/0),void 0===r&&(r=0),void 0===i&&(i=0),this._limits=new egret.Rectangle(r,i,t,e),this},e.prototype.start=function(e){if(this.shakable){var r=this._cur;r&&r.end(),this._cur=e;var i=t.GameEngine.instance,n=i.getLayer(1e3);r!=e&&e.setShakeTarget(n),e.start(),this._st=t.Global.now,egret.startTick(this.tick,this),i.checkViewRect=this.checkViewRect,t.Global.clearCallLater(this.clearShakeRect)}return e},e.prototype.tick=function(){var e=this._cur,r=t.Global.now-this._st;if(r<e.total){var i=this._pt,n=this._cur;n.tick(r,i);var o=n.target,a=this._limits;if(a){var s=t.GameEngine.instance.viewRect,u=i.x,h=i.y,c=void 0,l=void 0;if(0>u){var p=a.x,f=s.x;c=f+u>p?u:p}else{var d=a.width-s.width;c=d>u?u:d}if(0>h){var y=a.y,v=s.y;l=v+h>y?u:y}else{var g=a.height-s.height;l=g>h?h:g}o.x=c,o.y=l}}else e.end(),t.Global.callLater(this.clearShakeRect,3e4);return!0},e.prototype.clearShakeRect=function(){t.GameEngine.instance.checkViewRect=void 0},e}();t.ScreenShakeManager=e,__reflect(e.prototype,"junyou.ScreenShakeManager")}(junyou||(junyou={}));var junyou;!function(t){var e=egret.Point;t.GDataParseUtils={convertZuobiaoList:function(r,i){if(r){for(var n=!1,o=0,a=r.split("|");o<a.length;o++){var s=a[o],u=s.split(":");if(2==u.length){var h=u[0],c=u[1];(+h!=h||+c!=c)&&(n=!0),i.push(new e(+h,+c))}else n=!0}n&&t.ThrowError("格式不符合 x坐标(整数类型):y坐标(整数类型)|x坐标(整数类型):y坐标(整数类型)|x坐标(整数类型):y坐标(整数类型)")}},parseAttribute:function(t,e,r,i){void 0===r&&(r=!0),void 0===i&&(i=/^x\d+$/);var n=0;for(var o in t)if(i.test(o)){var a=+t[o];a>0&&(n++,e[o]=a),r&&delete t[o]}return n},parseAttribute1:function(e,r,i,n,o){void 0===i&&(i="pro"),void 0===n&&(n="provalue"),void 0===o&&(o=!0);var a=new RegExp("^"+i+"(\\d+)$"),s="",u=0;for(var h in e){var c=a.exec(h);if(c){var l=+c[1]||0,p=n+l;h in r&&(s+=h+" ");var f=+e[p];f>0&&(u++,r[e[h]]=f),o&&(delete e[h],delete e[p])}}return s&&t.ThrowError("有重复的属性值:"+s),u}}}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this._ready=!1}return Object.defineProperty(e.prototype,"isReady",{get:function(){return this._ready},enumerable:!0,configurable:!0}),e.prototype.readyNow=function(){if(!this._ready){this._ready=!0;var e=this._readyExecutes;if(e){for(var r=t.Temp.SharedArray1,i=0,n=e.length;n>i;i++)r[i]=e[i];for(e=void 0,i=0;n>i;i++){var o=r[i];o.execute()}r.length=0}}},e.prototype.addReadyExecute=function(e,r){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];if(this._ready)return void e.apply(r,i);var o=this._readyExecutes;o||(o=[],this._readyExecutes=o),t.CallbackInfo.addToList.apply(t.CallbackInfo,[o,e,r].concat(i))},e}();t.AsyncHelper=e,__reflect(e.prototype,"junyou.AsyncHelper")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];this._host=t,this._callback=e,this._args=r,this._unreadyDepender=[]}return t.prototype.addDepend=function(t){t.isReady?this.readyHandler(t):(this._unreadyDepender.push(t),t.addReadyExecute(this.readyHandler,this,t))},t.prototype.readyHandler=function(t){this._unreadyDepender.remove(t),this.check()},t.prototype.check=function(){this._uncheck||(this._uncheck=!0,egret.callLater(this._check,this))},t.prototype._check=function(){this._uncheck=!1;for(var t=!0,e=0,r=this._unreadyDepender;e<r.length;e++){var i=r[e];i.isReady||(i.startSync(),t=!1)}t&&this._callback&&(this._unreadyDepender.length=0,this._callback.apply(this._host,this._args))},t}();t.DependerHelper=e,__reflect(e.prototype,"junyou.DependerHelper")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(t,e){this._creator=t,this._props=e}return t.prototype.get=function(){var t=new this._creator,e=this._props;for(var r in e)t[r]=e[r];return t},t}();t.ClassFactory=e,__reflect(e.prototype,"junyou.ClassFactory")}(junyou||(junyou={}));var junyou;!function(t){function e(){var e=t.facade;e.getProxy.apply(e,arguments)}function r(){var e=t.facade;e.executeProxy.apply(e,arguments)}function i(){var e=t.facade;e.getMediator.apply(e,arguments)}function n(){var e=t.facade;e.executeMediator.apply(e,arguments)}function o(e,r){t.facade.dispatch(e,!1,r)}function a(e,r,i){void 0===i&&(i=!0),t.facade.toggle(e,r,i)}function s(e,r,i,n){t.facade.on(e,r,i,!1,n)}function u(e,r,i,n){t.facade.once(e,r,i,!1,n)}function h(e,r,i){t.facade.off(e,r,i,!1)}function c(e){return t.facade.hasListen(e)}var l=function(e){function r(){var r=this;return t.facade&&t.ThrowError("Facade重复赋值"),r=e.call(this)||this,t.facade=r,r._mediators={},r._scripts={},r._proxys={},r._indecting=[],r}return __extends(r,e),r.getNameOfInline=function(t,e){e=e||egret.getQualifiedClassName(t);var r;return r="NAME"in t?t.NAME:e.substr(e.lastIndexOf(".")+1)},r.prototype.bindModuleManager=function(t){t.init(),this._mm=t},Object.defineProperty(r.prototype,"mm",{get:function(){return this._mm},enumerable:!0,configurable:!0}),r.prototype._removeHost=function(t,e){var r,i=e[t];return i&&(delete e[t],r=i.host,r&&r.onRemove()),r},r.prototype.removeMediator=function(t){return this._removeHost(t,this._mediators)},r.prototype.removeProxy=function(t){return this._removeHost(t,this._proxys)},r.prototype.registerInlineProxy=function(e,i,n){if(!e)return void t.ThrowError("registerInlineProxy时,没有ref");var o=egret.getQualifiedClassName(e);if(i||(i=r.getNameOfInline(e,o)),this.registerProxyConfig(o,i),!n){var a=this._proxys[i],s=new e;a.host=s,t.facade.inject(s),s.onRegister();var u=r.getNameOfInline(e,o);$gm[u]=s}},r.prototype.registerInlineMediator=function(e,i){if(!e)return void t.ThrowError("registerInlineMediator时,没有ref");var n=egret.getQualifiedClassName(e);i||(i=r.getNameOfInline(e,n)),this.registerMediatorConfig(n,i)},r.prototype.registerProxyConfig=function(e,r,i,n){var o;o=this._proxys[r],o&&t.ThrowError("模块定义重复:"+name),o={},o.scriptid=n,o.className=e,o.name=r,o.url=i,this._proxys[r]=o},r.prototype.registerMediatorConfig=function(e,r,i,n){var o;o=this._mediators[r],o&&t.ThrowError("模块定义重复:"+name),o={},o.scriptid=n,o.className=e,o.name=r,o.url=i,this._mediators[r]=o},r.prototype.getOrCreateScript=function(e){var r=e.scriptid,i=this._scripts[r];return i||(i=new t.ModuleScript,i.id=r,i.url=e.url,this._scripts[r]=i),i},r.prototype.getProxy=function(e,r,i){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];var a=this._proxys[e];if(!a)return void t.ThrowError("没有注册proxy的关系");var s={};s.dele=a,s.callback=r,s.thisObj=i,s.args=n,this._solveScriptCallback(s)},r.prototype.getProxySync=function(t){var e=this._proxys[t];return e?e.host:void 0},r.prototype.getMediator=function(e,r,i){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];var a=this._mediators[e];if(!a)return void t.ThrowError("没有注册Mediator的关系");var s={};s.dele=a,s.callback=r,s.thisObj=i,s.args=n,this._solveScriptCallback(s)},r.prototype.getMediatorSync=function(t){var e=this._mediators[t];return e?e.host:void 0},r.prototype._solveScriptCallback=function(e){if(e.dele.scriptid){var r=this.getOrCreateScript(e.dele);2==r.state?this._getHost(e):(r.callbacks.push(t.CallbackInfo.get(this._getHost,this,e)),r.load())}else this._getHost(e)},r.prototype._getHost=function(e){var r=e.dele,i=r.host;if(!i){var n=egret.getDefinitionByName(r.className);r.host=i=new n,t.facade.inject(i),i.onRegister()}i.isReady?(o=e.callback).call.apply(o,[e.thisObj,i].concat(e.args)):(i.addReadyExecute.apply(i,[e.callback,e.thisObj,i].concat(e.args)),i.startSync());var o},r.prototype.toggle=function(t,e,r){void 0===r&&(r=!0),this._mm&&this._mm.toggle(t,e,r)},r.prototype.executeMediator=function(t,e,r,i){for(var n=[],o=4;o<arguments.length;o++)n[o-4]=arguments[o];this._mm&&this._mm.isModuleOpened(t,e)&&(i?this.getMediator.apply(this,[t,this._executeAndShowMediator,this,r].concat(n)):this.getMediator.apply(this,[t,this._executeMediator,this,r].concat(n)))},r.prototype.$executeMediator=function(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];this.getMediator(t,this._executeMediator,this,r)},r.prototype._executeMediator=function(e,r){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];"function"==typeof e[r]?e[r].apply(e,i):t.ThrowError("无法在Mediator："+e.name+"中找到方法["+r+"]")},r.prototype._executeAndShowMediator=function(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];this.toggle(t.name,1,!1),this._executeMediator.apply(this,[t,e].concat(r))},r.prototype.executeProxy=function(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];this.getProxy.apply(this,[t,this._executeProxy,this,e].concat(r))},r.prototype._executeProxy=function(e,r){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];"function"==typeof e[r]?e[r].apply(e,i):t.ThrowError("无法在Proxy："+e.name+"中找到方法["+r+"]")},r.prototype.inject=function(t){var e=this._indecting;if(!~e.indexOf(t)){e.push(t),this.doInject(t);var r=e.indexOf(t);e.splice(r,1)}},r.prototype.doInject=function(t){},r}(egret.EventDispatcher);l.Script="modules/{0}.js",t.Facade=l,__reflect(l.prototype,"junyou.Facade"),t.proxyCall=e,t.proxyExec=r,t.mediatorCall=i,t.mediatorExec=n,t.dispatch=o,t.toggle=a,t.on=s,t.once=u,t.off=h,t.hasListen=c}(junyou||(junyou={}));var junyou;!function(t){t.Global=function(){function e(){var e=egret.sys.$ticker,r=e.render,i=0|1e3/e.$frameRate,n=[];c=new t.CallLater,l||(l=new t.TweenManager),e.render=function(){var o=Date.now(),a=o-d;d=o,a>2e3?(t.dispatch(-190),y=o):y+=i;for(var s=v.length,u=n,h=0;s>h;h++)u[h]=v[h];v.length=0;for(var h=0;s>h;h++)u[h].execute();c.tick(o),t.TimerUtil.tick(o),l.tick(a),r.call(e)}}function r(e,r){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];v.push(t.CallbackInfo.get.apply(t.CallbackInfo,[e,r].concat(i)))}function i(t,e,r){for(var i=[],n=3;n<arguments.length;n++)i[n-3]=arguments[n];return c.callLater.apply(c,[t,d,e,r].concat(i))}function n(t,e){return c.clearCallLater(t,e)}function o(t,e,r,i){return l.get(t,e,r,i)}function a(t){return l.removeTween(t)}function s(t){return l.removeTweens(t)}try{var u=0==document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}catch(h){}var c,l,p=u?t.Ext.WEBP:"",f="Unknown"!=egret.Capabilities.supportVersion,d=0,y=0,v=[];return{initTick:e,nextTick:r,callLater:i,clearCallLater:n,getTween:o,removeTween:a,removeTweens:s,get isNative(){return f},get tweenManager(){return l||(l=new t.TweenManager)},get now(){return d},get frameNow(){return y},get webp(){return p}}}()}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(t){var r=e.call(this,t)||this;return r.init(),r}return __extends(r,e),Object.defineProperty(r.prototype,"view",{get:function(){return this.$view},set:function(e){var r=this.$view;r!=e&&(this.removeSkinListener(r),this.$view=e,this.addSkinListener(e),e.moduleID=this._name,t.isIAsync(e)&&e.addReadyExecute(this.preViewCompleteHandler,this))},enumerable:!0,configurable:!0}),r.prototype.startSync=function(){if(t.isIAsync(this.$view)){var e=this.$view;e.isReady?this.preViewCompleteHandler():(e.addReadyExecute(this.preViewCompleteHandler,this),e.startSync())}},r.prototype.preViewCompleteHandler=function(){this._preViewReady=!0,this._dependerHelper?this._dependerHelper.check():this.dependerReadyCheck()},r.prototype.dependerReadyCheck=function(){this._preViewReady&&(this._ready||(this._ready=!0,this.afterAllReady(),this._asyncHelper&&this._asyncHelper.readyNow()))},r.prototype.hide=function(){t.toggle(this._name,-1)},r}(t.ViewController);t.Mediator=e,__reflect(e.prototype,"junyou.Mediator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this.state=0,this.callbacks=[]}return e.prototype.load=function(){if(0==this.state){var e=this.url||t.Facade.Script.substitute(this.id);t.loadScript(e,this.onScriptLoaded,this),this.state=1}},e.prototype.onScriptLoaded=function(){this.state=2;var t=this.callbacks.concat();this.callbacks.length=0;for(var e=0,r=t;e<r.length;e++){var i=r[e];i.execute()}},e}();t.ModuleScript=e,__reflect(e.prototype,"junyou.ModuleScript")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(t){return e.call(this,t)||this}return __extends(r,e),r.prototype.onRegister=function(){this._ns=t.NetService.get()},r.prototype._startSync=function(){this.selfReady()},r.prototype.regMsg=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var i=this._ns,n=0,o=e;n<o.length;n++){var a=o[n];i.regReceiveMSGRef(a,t)}},r.prototype.regHandler=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var i=this._ns,n=0,o=e;n<o.length;n++){var a=o[n];i.register(a,t)}},r.prototype.removeHandler=function(t,e){this._ns.remove(t,e)},r.prototype.send=function(t,e,r,i){void 0===i&&(i=200),this._ns.send(t,e,r,i)},r}(t.Proxy);t.Service=e,__reflect(e.prototype,"junyou.Service")}(junyou||(junyou={}));var junyou;!function(t){function e(e,r,i){var n=e;return void 0===n.awakeBy&&(n.awakeBy=r||function(e){if("function"!=typeof n.awakeCheck||n.awakeCheck()){var r=this._view;r instanceof t.Panel&&r.show()}}),void 0===n.sleepBy&&(n.sleepBy=i||function(e){var r=this._view;r instanceof t.Panel&&r.hide()}),n}t.transformToStateMediator=e}(junyou||(junyou={}));var junyou;!function(t){function e(t,e,r){for(var i=[],n=3;n<arguments.length;n++)i[n-3]=arguments[n];if(t){var o=document.createElement("script");o.type="text/javascript",o.readyState?o.onreadystatechange=function(){("loaded"===o.readyState||"complete"===o.readyState)&&(o.onreadystatechange=null,e.apply(r,i))}:o.onload=function(){e.apply(r,i)},o.src=t,document.documentElement.appendChild(o)}}t.loadScript=e}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this.showState=0,this.serverOpen=!0}return e.prototype.init=function(e){e=e||this,t.DataParseUtil.parseDatas(this,e,0,3,"showlimit","showtype","showlimits"),t.DataParseUtil.parseDatas(this,e,0,3,"limit","limittype","limits")},e}();t.BaseMCfg=e,__reflect(e.prototype,"junyou.BaseMCfg")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this._needCheck=!1,this._needCheckShow=!1}return e.prototype.init=function(){this._bindedIOById=[],this._handlersByType=[],this._checkers=[],this._allById={},this._unshowns=[],this._handlersById={},this._ioBind=new Map,t.on(-993,this.checkShowHandler,this)},e.prototype.setCfgs=function(t){this._allById=t,this.doCheckLimits()},e.prototype.registerHandler=function(t,e){this._handlersByType[t]=e},e.prototype.registerHandlerById=function(e,r){var i=this._allById[e];i?this._handlersById[e]=r:t.ThrowError("ModuleManager 注册模块处理函数时，没有找到对应的模块配置，模块id:"+e)},Object.defineProperty(e.prototype,"checkers",{set:function(t){this._checkers=t,this.doCheckLimits()},enumerable:!0,configurable:!0}),e.prototype.doCheckLimits=function(){this._needCheck=!0,egret.callLater(this.checkLimits,this)},e.prototype.checkLimits=function(){if(this._needCheck){this._needCheck=!1;var e=this._checkers,r=this._allById;if(e){var i,n="",o="",a="";for(var s in r){var u=r[s],h=u.showtype;h&&(i=e[h],i||(a+=u.id+"的显示限制 "));var c=u.limittype;if(c&&(i=e[c],i||(a+=u.id+"的使用限制 ")),h==c?h&&i&&i.adjustLimitDatas(u.showlimits,u.limits)&&(n+=u.id+" "):o+=u.id+" ",!this.isModuleShow(u)){var l=u.id;this._unshowns.push(l);var p=this._bindedIOById[l];if(p)for(var f=0,d=p;f<d.length;f++){var y=d[f];y.visible=!1}}}o&&t.ThrowError("id为："+o+"的功能配置，showtype和limittype不一致，请确认是否要这样，这种配置将无法通过程序的方式确认当可以使用功能的时候，是否一定看得见功能入口"),n&&t.ThrowError("id为:"+n+"的功能配置使用限制和显示限制配置有误，自动进行修正"),a&&t.ThrowError("有功能配置的限制类型并未实现："),t.dispatch(-998)}}},e.prototype.isModuleShow=function(e){var r=this.getCfg(e);r||t.ThrowError("没有找到对应的功能配置["+e+"]");var i=r&&2!=r.close;if(i&&this._checkers){var n=this._checkers[r.showtype];n&&(i=n.check(r.showlimits,!1))}return i},e.prototype.isModuleOpened=function(e,r){var i=this.getCfg(e);if(i||t.ThrowError("没有找到对应的功能配置["+e+"]"),t.ClientCheck.isClientCheck){var n=i&&!i.close&&i.serverOpen;if(n){if(this._checkers){var o=this._checkers[i.limittype];o&&(n=o.check(i.limits,r))}}else r&&this.showTip&&this.showTip(1);return n}return!0},e.prototype.bindButton=function(e,r,i){if(void 0===i&&(i=egret.TouchEvent.TOUCH_TAP),this._ioBind.has(r))return void t.ThrowError("ModuleManager 注册按钮时候，重复注册了按钮");var n=this._allById[e];if(!n)return void t.ThrowError("ModuleManager 注册按钮时候，没有找到对应的模块配置，模块id:"+e);var o=this._bindedIOById[e];if(o||(this._bindedIOById[e]=o=[]),o.push(r),this._ioBind.set(r,e),r.on(i,this.ioHandler,this),this.createToolTip){var a=this.createToolTip(n);a&&t.ToolTipManager.register(r,a)}var s=this._handlersByType[n.type];s&&this.registerHandlerById(e,s);var u=this._unshowns;this.isModuleShow(e)?u.remove(e):(r.visible=!1,u.pushOnce(e))},e.prototype.ioHandler=function(t){this.toggle(this._ioBind.get(t.currentTarget))},e.prototype.checkShowHandler=function(t){this._needCheckShow=!0,egret.callLater(this._checkShowHandler,this)},e.prototype._checkShowHandler=function(){if(this._needCheckShow){this._needCheckShow=!1;for(var e=!1,r=this._unshowns,i=r.length-1;i>=0;i--){var n=r[i];if(this.isModuleShow(n)){var o=this._bindedIOById[n];if(o)for(var a=0,s=o;a<s.length;a++){var u=s[a];u.visible=!0}e=!0,r.splice(i,1),t.dispatch(-991,n)}}e&&t.dispatch(-994,r.length)}},e.prototype.toggle=function(e,r,i){void 0===i&&(i=!0);var n=this._allById[e];if(!n)return t.ThrowError("ModuleManager execute时，无法找到对应模块配置,ModuleID为:"+e),!1;if(t.dispatch(-997,e),!this.isModuleOpened(n,i))return!1;var o=this._handlersById[e];if(o||(o=this._handlersByType[n.type]),o){switch(r=~~r){case 0:switch(n.showState){case 0:case 3:o.show(n);break;case 2:case 1:o.hide(n)}break;case-1:o.hide(n);break;case 1:o.show(n)}return!0}return!1},e.prototype.getCfg=function(t){return"object"==typeof t?t:this._allById[t]},e.prototype.serverChangeModuleState=function(e,r){var i=this._allById[e];i&&r!=i.serverOpen&&(i.serverOpen=r,r?t.dispatch(-995,e):t.dispatch(-996,e))},e}();t.ModuleManager=e,__reflect(e.prototype,"junyou.ModuleManager")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this._dict={},this._listen={},this._badges={},this._list=[]}return e.getJiaoBiaoShape=function(t,e,r,i,n,o){void 0===n&&(n=0),void 0===o&&(o=0);var a=e[t];if(!a&&r&&(a=new egret.Shape,a.graphics.beginFill(16711680),a.graphics.drawCircle(0,0,10),a.graphics.endFill(),i)){var s=i.parent;a.x=i.x+i.width-.5*a.width+n,a.y=i.y+.5*a.height+o,s.addChild(a),e[t]=a
}return a},e.prototype.getBadge=function(t){return this._badges[t]},e.prototype.bind=function(t,e,r,i){var n=this._dict[e];n||(n={},"function"==typeof t.ncheck?(n.checker=t,n.checkHandler=t.ncheck):n.checkHandler=t,n.id=e,n.proirity=~~i,n.needCheck=!1,r||(r=e),this.bindListner(e,r),this._list.push(n),this._needSort=!0),this._dict[e]=n},e.prototype.bindListner=function(t,e){var r=this._badges[t];if(r||(this._badges[t]=r={},r.mid=t),e&&e!=t){var i=this._badges[e];i||(this._badges[e]=i={},i.mid=e),r.parent=i;var n=i.sons;n||(i.sons=n=[]),n.push(r)}var o=this._listen[t];o?o.pushOnce(r):(this._listen[t]=o=[],o.push(r)),this._listen[t]=o},e.prototype.needCheck=function(e){this._needCheck=!0;var r=this._dict[e];r&&(r.needCheck=!0,t.Global.callLater(this.check,0,this));var i=this.getBadge(e);if(i&&i.show){i.show=!1;for(var n=i.parent;n;){var o=n.sons;if(o){for(var a=!0,s=0;s<o.length;s++){var u=o[s];if(u.show){a=!1;break}}a?(n.show=!1,n=n.parent):n=void 0}}}},e.prototype.check=function(){if(this._needCheck){this._needCheck=!1,this._needSort&&(this._list.doSort("proirity",!0),this._needSort=!1);for(var e=[],r=0,i=this._list;r<i.length;r++){var n=i[r];if(n.needCheck){var o=n.checker,a=n.checkHandler,s=a.call(o),u=this.getBadge(n.id);if(u&&(-1==e.indexOf(u)||s!=u.msg)){u.msg=s,e.pushOnce(u),s?u.show=!0:u.show=!1;for(var h=u.parent;h;)e.pushOnce(h),h=h.parent}n.needCheck=!1}}for(var c=0;c<e.length;c++){var l=e[c];if(l.show)for(var p=l.parent;p;)p.show=l.show,p=p.parent;else{var f=l.sons;if(f)for(var d=0;d<f.length;d++){var y=f[d];if(y.show){l.show=!0;break}}}}if(t.hasListen(-999))for(var v=0,g=e;v<g.length;v++){var u=g[v];t.dispatch(-999,u)}}},e}();t.NotificationManager=e,__reflect(e.prototype,"junyou.NotificationManager")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this._engine=t.GameEngine.instance,this._bmp=new egret.Bitmap,this._stage=egret.sys.$TempStage,this._con=new egret.Sprite,this._tex=new egret.RenderTexture,this._dic={}}return e.prototype.registerModuleLayers=function(t){for(var e=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var n=this._dic,o=r.map(function(t){return e._engine.getLayer(t)});o.doSort("id"),n[t]=o},e.prototype.checkShowBlur=function(t){var e=this._dic,r=e[t];this._current=t,r&&r.length&&(this._stage.on(egret.Event.RESIZE,this.drawBlur,this),this.drawBlur())},e.prototype.checkHideBlur=function(t){this._current=t;var e=this._dic,r=e[t];r&&r.length&&this.hideBlur()},e.prototype.drawBlur=function(e){e&&t.dispatch(-1998);var r=this._tex,i=this._bmp,n=this._stage,o=this._dic[this._current];if(o){for(var a=this._con,s=o.length,u=0;s>u;u++){var h=o[u];a.addChild(h)}r.drawToTexture(a),a.removeChildren(),i.texture=r,i.refreshBMD(),i.filters=t.FilterUtils.blur,n.addChildAt(i,0)}},e.prototype.hideBlur=function(){this._stage.off(egret.Event.RESIZE,this.drawBlur,this),t.removeDisplay(this._bmp),this._tex.$renderBuffer.resize(0,0);var e=this._dic[this._current];if(e)for(var r=e.length,i=(this._engine,0);r>i;i++){var n=e[i];this._engine.awakeLayer(n.id)}},e}();t.BlurScreen=e,__reflect(e.prototype,"junyou.BlurScreen")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(){var t=e.call(this)||this;return t._align=4,t.artwidth=0,t._maxHeight=0,t}return __extends(r,e),r.prototype.refreshBMD=function(){for(var t=0,e=this.$children;t<e.length;t++){var r=e[t];r.refreshBMD()}},r.prototype.setVerticalAlign=function(t){this._align!=t&&(this._align=t)},r.prototype.$setValue=function(e){if(this._value!=e){void 0==e&&(e=""),this._value=e;for(var r,i,n=e+"",o=n.length,a=this.textures,s=this.$children,u=this.numChildren,h=0,c=this.hgap||0,l=0,p=0;o>p;p++){r=n.charAt(p),u>p?i=s[p]:(i=new egret.Bitmap,this.addChild(i));var f=a[r];f?(f.textureHeight>l&&(l=f.textureHeight),i.x=h,i.texture=null,i.texture=f,h+=f.textureWidth+c):t.ThrowError("传入了纹理中没有的数据["+r+"]")}for(this.artwidth=h-c,p=u-1;p>=o;p--)this.$doRemoveChild(p);this._maxHeight=l,this.checkAlign()}},Object.defineProperty(r.prototype,"value",{get:function(){return this._value},set:function(t){this.$setValue(t)},enumerable:!0,configurable:!0}),r.prototype.$getWidth=function(){return this.artwidth},r.prototype.checkAlign=function(){var t=this.$children,e=this._maxHeight;switch(this._align){case 4:t.forEach(function(t){t.y=0});break;case 12:t.forEach(function(t){t.y=e-t.height});break;case 8:t.forEach(function(t){t.y=e-t.height>>1})}},r.prototype.dispose=function(){e.prototype.dispose.call(this),t.removeDisplay(this)},r}(t.Component);t.ArtText=e,__reflect(e.prototype,"junyou.ArtText")}(junyou||(junyou={}));var junyou;!function(t){t.ConfigUtils=function(){function e(t,e){return t+"/"+e}function r(t,e){if(/^((http|https):)?\/\//.test(t))return t;t=e.tPath+t;var r=e.iPrefix?"":o(t);return r+t}var i,n,o,a={};return{setData:function(e){function r(e){var i=e.parent;if(i){var o=n[i];if(o)return r(o)+e.path;t.ThrowError("路径["+e.path+"]配置了父级(parent)，但是找不到对应的父级")}return e.path}i=e,!i.params&&(i.params={});var n=i.paths;for(var a in n){var s=n[a];s.tPath=r(s)}o=function(t){var e=0;switch(t&&(e=t.length),e){case 0:return function(t){return""};case 1:var r=t[0];return function(t){return r};default:return function(e){var r=e.hash()%t.length;return t[r]||""}}}(i.prefixes)},getResUrl:function(t,e){if(e)return"resource/"+t;if(n){var o=n[t];o&&(t=-1==t.indexOf("?")?t+"?"+o:t+"&jyver="+o)}return r(t,i.paths.res)},getParam:function(t){return i.params[t]},getSkinPath:e,getSkinFile:function(t,n){return r(e(t,n),a[t]||i.paths.skin)},regSkinPath:function(t,e,r){a[t]={tPath:e,path:e,iPrefix:r}},getUrl:function(t,e){var n=i.paths[e];return n?r(t,n):void 0}}}()}(junyou||(junyou={}));var junyou;!function(t){var e=egret.TouchEvent,r={x:0,y:0},i=function(i){function n(){var t=null!==i&&i.apply(this,arguments)||this;return t.frontCon=new egret.Sprite,t.backCon=new egret.Sprite,t.frontMask=new egret.Shape,t.backMask=new egret.Shape,t.backPoints=[],t.frontPoints=[],t}return __extends(n,i),n.prototype.init=function(t,e,r,i){function n(t){if(t instanceof egret.DisplayObject){var e=new egret.RenderTexture;return e.drawToTexture(t),e}return t}void 0===r&&(r=5);var o=n(t),a=e&&e!=t?n(e):o,s=new egret.Bitmap,u=new egret.Bitmap;s.texture=o,u.texture=a,this.init2(s,u,r,i)},n.prototype.init2=function(r,i,n,o){void 0===n&&(n=5);var a=this,s=a.frontCon,u=a.backCon,h=a.frontMask,c=a.backMask;r.x=r.y=i.x=i.y=0,this.frontDis=r,this.backDis=i,this.sCorner=n,this.touchEnabled=!0,s.addChild(r),t.removeDisplay(h),r.mask=null,u.addChild(i),i.mask=c,i.scaleX=-1,c.scaleX=-1,t.removeDisplay(c),this.addChild(s),o||(o={width:r.width,height:r.height});var l=o.width,p=o.height;this.bl={x:0,y:p},this.tr={x:l,y:0},this.br={x:l,y:p},this.size=o,this.on(e.TOUCH_BEGIN,this.touchBegin,this)},n.prototype.touchBegin=function(t){var r=this.size,i=r.width,n=r.height,o=this.getLocal(t),a=o.x,s=o.y,u=n>>1>s,h=i>>1>a,c=u?h?1:2:h?4:8;if(this.farea=0,this.barea=0,c==(c&this.sCorner)){this.cCorner=c,this.oX=h?0:i,this.oY=u?0:n;var l=this.stage;l.on(e.TOUCH_MOVE,this.touchMove,this),l.on(e.TOUCH_END,this.touchEnd,this),l.on(e.TOUCH_RELEASE_OUTSIDE,this.touchEnd,this),this.draw(a,s)}},n.prototype.touchMove=function(t){var e=this.getLocal(t),r=e.x,i=e.y;this.draw(r,i)},n.prototype.getLocal=function(e){var r=e.stageX,i=e.stageY,n=t.Temp.EgretPoint;return this.globalToLocal(r,i,n),n},n.prototype.touchEnd=function(t){var e=this.farea;this.dispatchEventWith(-1060,!1,0==e?1:this.barea/e),this.reset(),this.clearEvents()},n.prototype.clearEvents=function(){var t=egret.sys.$TempStage;t.off(e.TOUCH_MOVE,this.touchMove,this),t.off(e.TOUCH_END,this.touchEnd,this),t.off(e.TOUCH_RELEASE_OUTSIDE,this.touchEnd,this)},n.prototype.reset=function(){var e=this,r=e.frontDis,i=e.backCon,n=e.frontMask;r.mask=null,t.removeDisplay(n),t.removeDisplay(i)},n.prototype.draw=function(t,e){function i(t,e,r){var i=e.graphics;i.clear();var n=t[0];i.beginFill(0),i.moveTo(n.x,n.y);for(var o=0,a=n,s=1;r>s;s++){var u=t[s];i.lineTo(u.x,u.y),o+=(u.x-a.x)*(u.y+a.y),a=u}return o+=(n.x-a.x)*(n.y+a.y),i.lineTo(n.x,n.y),i.endFill(),.5*o}var n=this,o=n.oX,a=n.oY,s=n.size,u=s.width,h=s.height,c=t-o,l=e-a;if(0==c||0==l)return void this.reset();var p,f=this,d=f.cCorner,y=f.backMask,v=f.frontCon,g=(f.backDis,f.frontDis),_=f.backCon,m=f.frontMask,b=f.backPoints,w=f.frontPoints,x=o+.5*c,S=a+.5*l,j=l/c,T=S+x/j,C=T-u/j,E=x+S*j,D=E-h*j,R=this,k=R.bl,O=R.br,B=R.tr,P=0,M=0;switch(d){case 1:E.between(0,u)?(p={x:E,y:0},b[P++]=p):(p={x:u,y:C},b[P++]=p,b[P++]=B),w[M++]=p,b[P++]=r,T.between(0,h)?(p={x:0,y:T},b[P++]=p,w[M++]=p,w[M++]=k):(b[P++]=k,p={x:D,y:h},b[P++]=p,w[M++]=p),w[M++]=O,w[M++]=B;break;case 4:T.between(0,h)?(p={x:0,y:T},b[P++]=p):(p={x:E,y:0},b[P++]=p,b[P++]=r),w[M++]=p,b[P++]=k,D.between(0,u)?(p={x:D,y:h},b[P++]=p,w[M++]=p,w[M++]=O):(b[P++]=O,p={x:u,y:C},b[P++]=p,w[M++]=p),w[M++]=B,w[M++]=r;break;case 8:D.between(0,u)?(p={x:D,y:h},b[P++]=p):(p={x:0,y:T},b[P++]=p,b[P++]=k),w[M++]=p,b[P++]=O,C.between(0,u)?(p={x:u,y:C},b[P++]=p,w[M++]=p,w[M++]=B):(b[P++]=B,p={x:E,y:0},b[P++]=p,w[M++]=p),w[M++]=r,w[M++]=k;break;case 2:C.between(0,h)?(p={x:u,y:C},b[P++]=p):(p={x:D,y:h},b[P++]=p,b[P++]=O),w[M++]=p,b[P++]=B,E.between(0,u)?(p={x:E,y:0},b[P++]=p,w[M++]=p,w[M++]=r):(b[P++]=r,p={x:0,y:T},b[P++]=p,w[M++]=p),w[M++]=k,w[M++]=O}this.farea=i(w,m,M),this.barea=i(b,y,P),g.mask=m,v.addChild(m),_.addChild(y),_.anchorOffsetX=-E,_.x=E,_.rotation=(Math.PI-2*Math.atan2(c,l))*Math.RAD_TO_DEG,this.addChild(_)},n}(egret.Sprite);t.Flip=i,__reflect(i.prototype,"junyou.Flip")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(){var t=e.call(this)||this;return t.initComponent(),t}return __extends(r,e),r.prototype.initComponent=function(){this._iconContainer=new egret.Sprite,this.addChild(this._iconContainer),this._iconLayout=5},Object.defineProperty(r.prototype,"icon",{get:function(){return this._icon},set:function(t){this._icon=t,t&&(this._iconSource=t.source,this._iconContainer.removeChildren(),this._iconContainer.addChild(t),this.updateDisplayList())},enumerable:!0,configurable:!0}),r.prototype.iconComplete=function(){this.updateDisplayList()},Object.defineProperty(r.prototype,"iconSource",{get:function(){return this._iconSource},set:function(t){this._iconSource!=t&&(this._icon.once(-193,this.iconComplete,this),this._iconSource=t,this._icon.source=t)},enumerable:!0,configurable:!0}),r.prototype.updateDisplayList=function(){this._icon&&this._icon.parent&&this.layout()},r.prototype.layout=function(){t.Layout.layout(this._iconContainer,this._iconLayout,0,0,!0,!0,this)},Object.defineProperty(r.prototype,"iconLayout",{get:function(){return this._iconLayout},set:function(t){this._iconLayout=t,this.updateDisplayList()},enumerable:!0,configurable:!0}),r}(t.Button);t.IconButton=e,__reflect(e.prototype,"junyou.IconButton")}(junyou||(junyou={}));var junyou;!function(t){var e=egret.Event,r=function(r){function i(){var t=r.call(this)||this;return t.on(e.ADDED_TO_STAGE,t.addedToStage,t),t.on(e.REMOVED_FROM_STAGE,t.removedFromStage,t),t}return __extends(i,r),i.prototype.addedToStage=function(){if(this.uri){var e=t.ResourceManager.getTextureRes(this.uri,this.noWebp);e&&(e.bind(this),e.load())}},i.prototype.removedFromStage=function(){if(this.uri){var e=t.ResourceManager.getResource(this.uri);e&&e.loose(this)}},Object.defineProperty(i.prototype,"source",{set:function(t){this.uri!=t&&(this.uri&&this.removedFromStage(),this.uri=t,t?this.stage&&this.addedToStage():this.texture=void 0)},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this.removedFromStage(),this.off(e.ADDED_TO_STAGE,this.addedToStage,this),this.off(e.REMOVED_FROM_STAGE,this.removedFromStage,this)},i}(egret.Bitmap);t.Image=r,__reflect(r.prototype,"junyou.Image")}(junyou||(junyou={}));var junyou;!function(t){var e=egret.TouchEvent,r=function(r){function i(){var t=r.call(this)||this;return t._defaultWidth=5,t._defalutHeight=5,t._oldWidth=-1,t._oldHeight=-1,t.inited=!1,t._visible=!0,t}return __extends(i,r),Object.defineProperty(i.prototype,"dataChange",{get:function(){return this._noCheckSame||this._dataChange},set:function(t){this._dataChange=t},enumerable:!0,configurable:!0}),i.prototype.bindComponent=function(){this._skin?this.inited=!0:this.skinlib&&this.skinClass&&(this.skin=t.singleton(t.SuiResManager).createDisplayObject(this.skinlib,this.skinClass))},i.prototype.onTouchTap=function(){this.dispatch(-1001),this.dispatchEventWith(e.TOUCH_TAP)},i.prototype.$setData=function(t){this._data=t,this.inited||this.bindComponent()},Object.defineProperty(i.prototype,"data",{get:function(){return this._data},set:function(t){(this._noCheckSame||t!=this._data)&&this.$setData(t)},enumerable:!0,configurable:!0}),i.prototype.setContainer=function(t){var e=this._container;this._container=t;var r=this._skin;return r&&(t?t.addChild(r):e&&e.contains(r)&&e.removeChild(r)),this},Object.defineProperty(i.prototype,"skin",{get:function(){return this._skin},set:function(t){t!=this._skin&&this.$setSkin(t)},enumerable:!0,configurable:!0}),i.prototype.$setSkin=function(t){this.removeSkinListener(this._skin),this._skin=t,this.$setVisible(t.visible),t.touchEnabled=!0,this.addSkinListener(this._skin);var e=this._container;e&&e.addChild(this._skin)},i.prototype.handleView=function(){this._sizeChecked||(this._sizeChecked=!0,this.checkViewSize())},i.prototype.checkViewSize=function(t){this._sizeChecked=!1;var e=this._skin,r=e.width,i=e.height;t||(this._oldHeight!=i||this._oldWidth!=r)&&(t=!0),this._oldHeight=i,this._oldWidth=r,t&&this.dispatch(-1999)},Object.defineProperty(i.prototype,"view",{get:function(){return this._skin},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"visible",{get:function(){return this._visible},set:function(t){t!=this._visible&&this.$setVisible(t)},enumerable:!0,configurable:!0}),i.prototype.$setVisible=function(t){this._visible=t;var e=this._skin;e&&(e.visible=t)},Object.defineProperty(i.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected!=t&&this.$setSelected(t)},enumerable:!0,configurable:!0}),i.prototype.setPos=function(t,e){var r=this._skin;return r&&("object"==typeof t?(r.x=t.x,r.y=t.y):(void 0!=t&&(r.x=t),void 0!=e&&(r.y=e))),this},i.prototype.$setSelected=function(t){this._selected=t,this.dispatch(-1e3)},i.prototype.dispatch=function(t,e,i,n){var o=this._skin;return o&&o.dispatch(t,e,i,n),r.prototype.dispatch.call(this,t,e,i,n)},i.prototype.dispose=function(){this.removeSkinListener(this._skin)},i.prototype.removeSkinListener=function(r){r&&(r.off(e.TOUCH_TAP,this.onTouchTap,this),t.ViewController.prototype.removeSkinListener.call(this,r))},i.prototype.addSkinListener=function(r){r&&(r.on(e.TOUCH_TAP,this.onTouchTap,this),t.ViewController.prototype.addSkinListener.call(this,r))},i.prototype.bindTouch=function(t,r,i,n){this.skin.touchEnabled=!0,this.on(e.TOUCH_TAP,t,r,n,i)},i.prototype.looseTouch=function(t,r,i){this.off(e.TOUCH_TAP,t,r,i)},Object.defineProperty(i.prototype,"isReady",{get:function(){return!1},enumerable:!0,configurable:!0}),i.prototype.startSync=function(){},i}(egret.EventDispatcher);t.ListItemRenderer=r,__reflect(r.prototype,"junyou.ListItemRenderer",["junyou.ListItemRender","egret.EventDispatcher","junyou.SelectableComponents"]),t.expand(r,t.ViewController,"addReadyExecute","addDepend","stageHandler")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(){return t.call(this,null)||this}return __extends(e,t),e.prototype.displayList=function(t){this._selectedIndex=-1;for(var e=t&&t.length||0,r=Math.max(this._dataLen,this._viewCount);r>e;){var i=this.getItemRenderAt(r-1);i&&(i.data=void 0,i.handleView&&i.handleView()),r--}this._data=t,this._dataLen=e,this.doRenderListItem(0,e-1)},e.prototype.addItem=function(t,e){var r=this._renderList,i=r.indexOf(t);-1==i&&(i=r.length,r[i]=t,t.on(-1001,this.touchItemrender,this)),t.index=void 0==e?i:e,this._viewCount=r.length},e.prototype.recycle=function(){this._dataLen=0,this._data=void 0;for(var t=0,e=this._renderList;t<e.length;t++){var r=e[t];r.data=void 0}this._selectedIndex=-1,this._selectedItem=void 0},e.prototype.childSizeChange=function(){},e.prototype.reCalc=function(){},e}(t.PageList);t.MPageList=e,__reflect(e.prototype,"junyou.MPageList")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(){var t=e.call(this)||this;return t._minValue=1,t}return __extends(r,e),r.prototype.addSubComponents=function(){this.addChild(this.txtbg),this.addChild(this.subBtn),this.addChild(this.addBtn),this.subBtn.enabled=!0,this.addBtn.enabled=!0,this.subBtn.bindTouch(this.subValue,this),this.addBtn.bindTouch(this.addValue,this),this.addChild(this.txt),this.minBtn&&(this.addChild(this.minBtn),this.minBtn.enabled=!0,this.minBtn.bindTouch(this.setMinValue,this)),this.maxBtn?(this.addChild(this.maxBtn),this.maxBtn.enabled=!0,this.maxBtn.bindTouch(this.setMaxValue,this),this._width=this.maxBtn.width+this.maxBtn.x):this._width=this.addBtn.width+this.addBtn.x},Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(t){if(this._width!=t){var e=t-this._width;this.txt.width+=e,this.txtbg.width+=e,this.addBtn.x+=e,this.maxBtn&&(this.maxBtn.x+=e),this._width=t}},enumerable:!0,configurable:!0}),r.prototype.setMinValue=function(t){this._minValue&&(this.value=this._minValue)},r.prototype.addValue=function(t){this.value<this._maxValue&&(this.value+=1)},r.prototype.subValue=function(t){this.value>this._minValue&&(this.value-=1)},r.prototype.setMaxValue=function(t){this._maxValue&&(this.value=this._maxValue)},Object.defineProperty(r.prototype,"value",{get:function(){return this._value},set:function(t){this._value!=t&&(this._value=t,this.txt.text=t+"",this.dispatch(-1040))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"minValue",{get:function(){return this._minValue},set:function(e){e?this._minValue=e:t.ThrowError("最小值需大于0")},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxValue",{get:function(){return this._maxValue},set:function(e){e?this._maxValue=e:t.ThrowError("最大值需大于0")},enumerable:!0,configurable:!0}),r}(t.Component);t.NumericStepper=e,__reflect(e.prototype,"junyou.NumericStepper")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(){this.count=0}return t.prototype.toURLString=function(){return"pid="+encodeURIComponent(this.pid)+"&puid="+encodeURIComponent(this.puid)+"&sid="+this.sid+"&sign="+encodeURIComponent(this.sign)},t}();t.AuthData=e,__reflect(e.prototype,"junyou.AuthData")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(){var t=e.call(this)||this;return t.currentPage=1,t.autoScrollSpeed=1,t.minPageScrollSpeed=.05,t._totalpageCount=1,t}return __extends(r,e),r.prototype.settotalpageInfo=function(t,e){1>t&&(t=1),0>e&&(e=0),this._pageSize=e,this._totalpageCount=t},Object.defineProperty(r.prototype,"totalpageCount",{get:function(){return this._totalpageCount},enumerable:!0,configurable:!0}),r.prototype.bindObj=function(t,r,i){e.prototype.bindObj.call(this,t,r,null)},r.prototype.onTargetTouchBegin=function(t){0==this._scrollType?this._firstTouchPos=t.stageY:this._firstTouchPos=t.stageX,e.prototype.onTargetTouchBegin.call(this,t)},r.prototype.endTouchContent=function(e){console.log(this._moveSpeed),this._content.stage.off(egret.TouchEvent.TOUCH_MOVE,this.moveOnContent,this),this._content.off(egret.TouchEvent.TOUCH_END,this.endTouchContent,this),this._content.off(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.endTouchContent,this);var r,i=t.Global.now;r=0==this._scrollType?e.stageY:e.stageX;var n=r-this._firstTouchPos;if(!(n>=0&&1==this.currentPage||0>n&&this.currentPage==this._totalpageCount)){var o;o=0==this._scrollType?this._content.scrollRect.y:this._content.scrollRect.x;var a=Math.round(o/this._pageSize)+1;1>a&&(a=1),a>this._totalpageCount&&(a=this._totalpageCount);var s=a>this.currentPage?-1:1;this._scrollToPage=a,this._lastFrameTime=t.Global.now,i-this._lastMoveTime<150?this._deriction==s?this._moveSpeed=this.autoScrollSpeed:this._moveSpeed>this.minPageScrollSpeed?(this._scrollToPage=this.currentPage,this._moveSpeed=this.autoScrollSpeed):this._moveSpeed=this.autoScrollSpeed:this._moveSpeed=this.autoScrollSpeed,this._content.stage.on(egret.Event.ENTER_FRAME,this.autoScrollToNextPage,this)}},r.prototype.autoScrollToNextPage=function(e){var r,i=this._content.scrollRect,n=this._pageSize*(this._scrollToPage-1);r=0==this._scrollType?i.y:i.x;var o=t.Global.now,a=o-this._lastFrameTime,s=this._moveSpeed*a*this.globalspeed,u=n-r,h=u>0?-1:1;return Math.abs(u)<s||Math.abs(u)<2?(this._content.stage.off(egret.Event.ENTER_FRAME,this.autoScrollToNextPage,this),this.doScrollContent(u*h),i=this._content.scrollRect,r=0==this._scrollType?i.y:i.x,void(this.currentPage=Math.round(r/this._pageSize)+1)):(this.doScrollContent(s*h),this._lastFrameTime=o,void(this._moveSpeed*=this.blockSpeed))},r}(t.Scroller);t.PageScroller=e,__reflect(e.prototype,"junyou.PageScroller")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(){var t=e.call(this)||this;return t._labelFunction=r.defaultLabelFunction,t._value=0,t._maxValue=1,t.initComponent(),t}return __extends(r,e),r.prototype.initComponent=function(){},Object.defineProperty(r.prototype,"labelFunction",{get:function(){return this._labelFunction},set:function(t){this._labelFunction!=t&&(this._labelFunction=t,this.updateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bg",{set:function(t){this._bg=t,this.addChildAt(t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bar",{set:function(t){this._bar=t,this._barWidth=t.width,t&&this.addChild(t),this._tf&&this.addChild(this._tf)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tf",{get:function(){return this._tf},set:function(t){this._tf=t,t&&this.addChild(t)},enumerable:!0,configurable:!0}),r.prototype.progress=function(e,r){0>e&&(e=0),0>r&&(t.ThrowError("进度条最大宽度不应小等于0"),r=1e-5),e>r&&(e=r),this._value=e,this._maxValue=r,this.updateDisplayList()},r.prototype.updateLabelDisplay=function(){var t=this._tf,e=this._labelFunction;t&&e&&(t.text=e(this._value,this._maxValue))},r.prototype.updateBarDisplay=function(){var t=this._bar,e=this._value*this._barWidth/this._maxValue;if(this.useMask){var r=t.scrollRect;r||(r=new egret.Rectangle(0,0,0,t.height)),r.width=e,t.scrollRect=r}else t.width=e},r.prototype.updateDisplayList=function(){this._tf&&this.updateLabelDisplay(),this.updateBarDisplay()},r}(t.Component);e.defaultLabelFunction=function(t,e){return t+" / "+e},t.ProgressBar=e,__reflect(e.prototype,"junyou.ProgressBar")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.$render=function(){var t=this.$Bitmap[0];if(t){var e=this.$Bitmap;egret.sys.BitmapNode.$updateTextureData(this.$renderNode,this.texture.bitmapData,e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],this.width,this.height,e[13],e[14],this.scale9Grid,this.$fillMode,e[10])}},e}(egret.Bitmap);t.ScaleBitmap=e,__reflect(e.prototype,"junyou.ScaleBitmap")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._scrollType=0,e._supportSize=15,e.initBaseContainer(),e}return __extends(e,t),e.prototype.initBaseContainer=function(){this.bar=new egret.Sprite,this.bg=new egret.Sprite,this.addChild(this.bg),this.addChild(this.bar),this.bg.visible=!1},Object.defineProperty(e.prototype,"scrollType",{get:function(){return this._scrollType},set:function(t){this._scrollType=t,this.checkBarSize(),this.checkBgSize(),this.$setSupportSize(this._supportSize)},enumerable:!0,configurable:!0}),e.prototype.setBg=function(t,e){this._bgBmp=t,this._bgBmp.y=0,e>0?this._bgSize=e:this.checkBgSize(),this.bg.addChild(this._bgBmp),this.$setSupportSize(this._supportSize)},e.prototype.setBar=function(t,e){this._barBmp=t,this._barBmp.y=0,e>0?this._barSize=e:this.checkBarSize(),this.bar.addChild(this._barBmp),this.$setSupportSize(this._supportSize)},Object.defineProperty(e.prototype,"bgSize",{get:function(){return this._bgSize},set:function(t){this._bgSize!=t&&this.$setBgSize(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"barSize",{get:function(){return this._barSize},set:function(t){this._barSize!=t&&this.$setBarSize(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"supportSize",{get:function(){return this._supportSize},set:function(t){this._supportSize!=t&&this.$setSupportSize(t)},enumerable:!0,configurable:!0}),e.prototype.$setSupportSize=function(t){this._supportSize=t;var e=this,r=e._bgBmp,i=e._barBmp;0==this._scrollType?(r&&(r.width=t),i&&(i.width=t)):(r&&(r.height=t),i&&(i.height=t))},e.prototype.$setBarSize=function(t){this._barSize=t;var e=this._barBmp;e&&(0==this._scrollType?e.height=t:e.width=t)},e.prototype.$setBgSize=function(t){this._bgSize=t;var e=this._bgBmp;e&&(0==this._scrollType?e.height=t:e.width=t)},e.prototype.checkBgSize=function(){var t=this._bgBmp;t&&(0==this._scrollType?this._bgSize=t.height:this._bgSize=t.width)},e.prototype.checkBarSize=function(){var t=this._bgBmp;t&&(0==this._scrollType?this._barSize=t.height:this._barSize=t.width)},e}(t.Component);t.ScrollBar=e,__reflect(e.prototype,"junyou.ScrollBar")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.initBaseContainer(),e.touchChildren=e.touchEnabled=!0,e.thumb.touchEnabled=!0,e.bgline.touchEnabled=!0,e.addListener(),e}return __extends(e,t),e.prototype.addListener=function(){this.thumb.on(egret.TouchEvent.TOUCH_BEGIN,this.onThumbBegin,this),this.on(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)},e.prototype.onAddToStage=function(t){this._barEnabled&&this.stage.on(egret.TouchEvent.TOUCH_END,this.bgOut,this)},Object.defineProperty(e.prototype,"barEnabled",{set:function(t){this._barEnabled=t,t?(this.bgline.on(egret.TouchEvent.TOUCH_BEGIN,this.bgClick,this),this.stage&&this.stage.on(egret.TouchEvent.TOUCH_END,this.bgOut,this)):(this.bgline.off(egret.TouchEvent.TOUCH_BEGIN,this.bgClick,this),this.stage&&this.bgline.off(egret.TouchEvent.TOUCH_END,this.bgOut,this))},enumerable:!0,configurable:!0}),e.prototype.bgClick=function(t){this._lastThumbX=this.thumb.localToGlobal().x;var e=t.stageX;this.tipTxt.visible=!0,this.calculatevalue(e),this.tipTxt.text=this.value.toString()},e.prototype.bgOut=function(t){this.tipTxt.visible=!1},e.prototype.onThumbBegin=function(t){this._lastThumbX=this.thumb.localToGlobal().x,this.stage.on(egret.TouchEvent.TOUCH_MOVE,this.mouseMove,this),this.thumb.on(egret.TouchEvent.TOUCH_END,this.onThumbEnd,this),this.thumb.on(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onThumbEnd,this),this.tipTxt.visible=!0},e.prototype.onThumbEnd=function(t){this.stage.off(egret.TouchEvent.TOUCH_MOVE,this.mouseMove,this),this.thumb.off(egret.TouchEvent.TOUCH_END,this.onThumbEnd,this),this.thumb.off(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onThumbEnd,this)},e.prototype.mouseMove=function(t){var e=t.stageX;this.calculatevalue(e),this.tipTxt.text=this.value.toString()},e.prototype.calculatevalue=function(t){var e,r,i=t-this._lastThumbX;Math.abs(i)>=this._perStepPixel&&(e=i/this._perStepPixel,e=Math.round(e),r=this.value+e*this._step,r<=this._minValue&&(r=this._minValue),r>=this._maxVlaue&&(r=this._maxVlaue),this.value=r,this._lastThumbX=this.thumb.localToGlobal().x,this.tipTxt.x=this.thumb.x+this._halfThumbWidth-40)},e.prototype.initBaseContainer=function(){this.thumb=new egret.Sprite,this.bgline=new egret.Sprite,this.addChild(this.bgline),this.addChild(this.thumb),this.tipTxt=new egret.TextField,this.tipTxt.y=-12,this.tipTxt.textAlign=egret.HorizontalAlign.CENTER,this.tipTxt.width=80,this.tipTxt.size=12,this.tipTxt.bold=!1,this.addChild(this.tipTxt)},e.prototype.setBg=function(t){this._bgBmp=t,this.bgline.addChild(t),this._width=t.width},e.prototype.setThumb=function(t){this.thumb.x=t.x,this.thumb.y=t.y,t.x=t.y=0,this.thumb.addChild(t),this._halfThumbWidth=.5*t.width},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value!=t&&(this._value=t,this.dispatch(-1040),this.thumb.x=(t-this._minValue)/this._step*this._perStepPixel-this._halfThumbWidth)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!=t&&(this._width=t,this._bgBmp&&(this._bgBmp.width=t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!=t&&(this._height=t,this._bgBmp&&(this._bgBmp.height=t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxVlaue",{set:function(t){this._maxVlaue=t,this.checkStepPixel()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minValue",{set:function(t){this._minValue=t,this.checkStepPixel()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{set:function(t){this._step=t,this.checkStepPixel()},enumerable:!0,configurable:!0}),e.prototype.checkStepPixel=function(){this._perStepPixel=this.bgline.width/((this._maxVlaue-this._minValue)/this._step)},e}(t.Component);t.Slider=e,__reflect(e.prototype,"junyou.Slider")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(){var r=e.call(this)||this;return r._count=1,r._countShow=1,r._countInvalidate=!0,r.icon=new t.Image,r}return __extends(r,e),Object.defineProperty(r.prototype,"data",{get:function(){return this._data},set:function(t){this.$setData(t)},enumerable:!0,configurable:!0}),r.prototype.$setData=function(t){this._data=t},Object.defineProperty(r.prototype,"rect",{get:function(){return this._rect},set:function(t){if(t){this._rect=t;var e=this.icon;e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"countTxt",{get:function(){return this._countTxt},set:function(e){var r=this._countTxt;r!=e&&(t.removeDisplay(r),this._countTxt=e,this.refreshCount(),this.invalidateDisplay())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"iconSource",{set:function(t){this._iconSource!=t&&(this._iconSource=t,this.icon.source=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"count",{set:function(t){this._count!=t&&(this._count=t,this.refreshCount())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"countShow",{get:function(){return this._countShow},set:function(t){this._countShow!=t&&(this._countShow=t,this.refreshCount())},enumerable:!0,configurable:!0}),r.prototype.refreshCount=function(){this.stage&&(this._countInvalidate=!0),this._countInvalidate&&this._countTxt&&(this._countTxt.text=this.getCount(),this._countInvalidate=!1)},r.prototype.getCount=function(){var t="";switch(this.countShow){case 0:t="";break;case 1:t=this._count>1?this._count+"":"";break;case 2:t=r.getCountString(this._count)}return t},r.prototype.invalidateDisplay=function(){this._changed=!0,this.stage&&t.Global.callLater(this.refreshDisplay,0,this)},r.prototype.refreshDisplay=function(){return this._changed?(this._changed=!1,this.bg&&this.addChild(this.bg),this.addChild(this.icon),this._countTxt&&this.addChild(this._countTxt),!0):!1},r.prototype.awake=function(){this.refreshDisplay(),this.refreshCount()},r.prototype.dispose=function(){this.icon.dispose(),e.prototype.dispose.call(this)},Object.defineProperty(r.prototype,"width",{get:function(){return this.suiRawRect.width},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.suiRawRect.height},enumerable:!0,configurable:!0}),r}(t.Component);e.getCountString=function(e){return 1>e?"":1e4>e?e+"":t.LangUtil.getMsg("$_wan",Math.floor(e/1e4))},t.Slot=e,__reflect(e.prototype,"junyou.Slot")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(t){this._txs={},this.name=t}return e.prototype.getTexture=function(t){return this._txs[t]},e.prototype.parseData=function(e,r){this._suiData=r;
for(var i=this._txs,n=0,o=e.length;o>n;n++){var a=e[n],s=a[0];i[s]=r.getTexture(a[1])}t.refreshTexs(r,this)},e}();t.ArtWord=e,__reflect(e.prototype,"junyou.ArtWord")}(junyou||(junyou={}));var junyou;!function(t){function e(t,e){Object.defineProperties(t,{width:{get:function(){return e.size.width},enumerable:!0,configurable:!0},height:{get:function(){return e.size.height},enumerable:!0,configurable:!0}})}t.bindSize=e}(junyou||(junyou={}));var junyou;!function(t){function e(t,e){var r=t.pngbmd;"refreshBMD"in e||(e.refreshBMD=function(){var t=this._txs,e=r.bmd;for(var i in t)t[i]._bitmapData=e}),t.checkRefreshBmp(e)}t.refreshTexs=e}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(t,e){this.textures=[],this.bmdState=0,this.using=0,this.lastUseTime=0,this.loading=[],this._uri=t,this._url=e}return Object.defineProperty(t.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isStatic",{get:function(){return this.using>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resID",{get:function(){return this._uri},enumerable:!0,configurable:!0}),t.prototype.loadBmd=function(){0==this.bmdState&&(RES.getResByUrl(this._url,this.checkBitmap,this,RES.ResourceItem.TYPE_IMAGE),this.bmdState=1)},t.prototype.checkBitmap=function(t,e){var r=t.bitmapData,i=this.textures;this.bmd=r;for(var n=0,o=i;n<o.length;n++){var a=o[n];a._bitmapData=r}var s=this.loading;if(s){for(var u=0,h=s;u<h.length;u++){var c=h[u];c.refreshBMD()}s.length=0}this.bmdState=2},t.prototype.checkExpire=function(t){0!=this.bmdState&&!this.using&&this.lastUseTime<t&&this.dispose()},t.prototype.dispose=function(){var t=this.bmd;this.bmdState=0,t&&(t.$dispose(),this.bmd=void 0,RES.destroyRes(this._url))},t}();t.SuiBmd=e,__reflect(e.prototype,"junyou.SuiBmd",["junyou.IResource"])}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this.state=0,this.lib={}}return e.prototype.createBmpLoader=function(e,r){var i="d"+(e?t.Ext.PNG:t.Ext.JPG),n=this.key,o="skin/"+t.ConfigUtils.getSkinPath(n,i),a=t.ResourceManager.get(o,function(){var e=t.ConfigUtils.getSkinFile(n,i)+t.Global.webp,a=new t.SuiBmd(o,e);return a.textures=r,a});e?this.pngbmd=a:this.jpgbmd=a},e.prototype.checkRefreshBmp=function(t,e){var r=e?this.jpgbmd:this.pngbmd;return r?(r.using++,2==r.bmdState?(t.refreshBMD&&t.refreshBMD(),!0):(r.loading.pushOnce(t),r.loadBmd(),!1)):void 0},e.prototype.getTexture=function(t){var e=t,r=this.pngbmd;0>t&&(e=-1-t,r=this.jpgbmd);var i=r.textures;return i?i[e]:void 0},e.prototype.loadBmd=function(t){function e(){var t=this.count;--t?this.count=t:this.callback.execute(!0)}var r={},i=0;this.jpgbmd&&!this.checkRefreshBmp(r,!0)&&i++,this.pngbmd&&!this.checkRefreshBmp(r)&&i++,i?(r.count=i,r.callback=t,r.refreshBMD=e):t.execute(!0)},e}();t.SuiData=e,__reflect(e.prototype,"junyou.SuiData")}(junyou||(junyou={}));var junyou;!function(t){function e(){return t.getXHR=window.XMLHttpRequest?function(){return new XMLHttpRequest}:function(){return new ActiveXObject("MSXML2.XMLHTTP")},t.getXHR()}t.getXHR=e}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(){return e.call(this)||this}return __extends(r,e),r.prototype.parseSelfData=function(e){for(var r=this,i=e[0],n=i.length,o=this._suiData,a={},s=0;n>s;s++){var u=o.getTexture(e[s+1]),h=i.charAt(s);a[h]=u}this._txs=a,t.refreshTexs(o,this),this._createT=function(){var e=new t.ArtText;return r.bindEvent(e),e.textures=a,e}},r.prototype.bindEvent=function(t){t.on(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this),t.on(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)},r.prototype.onAddedToStage=function(t){var e=this._suiData;if(e){var r=t.currentTarget;e.checkRefreshBmp(r)}},r.prototype.onRemoveFromStage=function(){var e=this._suiData;if(e){var r=e.pngbmd;r.using--,r.lastUseTime=t.Global.now}},r}(t.BaseCreator);t.ArtTextCreator=e,__reflect(e.prototype,"junyou.ArtTextCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(){var r=e.call(this)||this;return r._state=0,r._success=0,r._cerror=0,r._error=0,t.NetService._ins=r,r._unsendRequest=[],r._sendingList=[],r._loader=t.getXHR(),r}return __extends(r,e),r.prototype.setUrl=function(e,r){void 0===r&&(r=5e3),this._actionUrl=e,r!=this._autoTimeDelay&&(this._autoTimeDelay=r),t.TimerUtil.addCallback(200,this.checkUnsend,this);var i=this._loader;i.onreadystatechange=this.onReadyStateChange.bind(this),i.ontimeout=this.errorHandler.bind(this)},r.prototype.onReadyStateChange=function(){var t=this._loader;if(4==t.readyState){var e=t.status>=400||0==t.status,r=this;setTimeout(function(){e?r.errorHandler():r.complete()},0)}},r.prototype.errorHandler=function(){if(this._error++,this._cerror++,this._state=-1,this._cerror>1)return void this.showReconnect();for(var t=this._sendingList,e=t.length,r=this._unsendRequest,i=0,n=r;i<n.length;i++){var o=n[i];t[e++]=o}r.length=0,this._unsendRequest=t,this._sendingList=r,this.checkUnsend()},r.prototype.complete=function(){this._state=2,this._reconCount=0;var t=this._readBuffer;t.replaceBuffer(this._loader.response),t.position=0,this._cerror=0,this._success++;for(var e=0,r=this._sendingList;e<r.length;e++){var i=r[e];i.recycle()}this._sendingList.length=0,this.onBeforeSolveData(),this.decodeBytes(t),this.checkUnsend()},r.prototype.checkUnsend=function(){(this._unsendRequest.length||t.Global.now>this._nextAutoTime)&&this.trySend()},r.prototype._send=function(e,r,i){var n=t.recyclable(t.NetData);n.cmd=e,n.data=r,n.msgType=i,this._unsendRequest.push(n),this.trySend()},r.prototype.onBeforeSend=function(){},r.prototype.onBeforeSolveData=function(){},r.prototype.trySend=function(){if(1!=this._state){this._state=1;var e=this._loader;e.open("POST",this._actionUrl,!0),e.responseType="arraybuffer",this.onBeforeSend();var r=this._sendBuffer;r.clear();for(var i=this._unsendRequest,n=this._sendingList,o=0,a=i.length;a>o;o++){var s=i[o];this.writeToBuffer(r,s),n[o]=s}for(var u=this._pcmdList,h=0,c=u;h<c.length;h++){var s=c[h];this.writeToBuffer(r,s),n[o++]=s}u.length=0,i.length=0,e.send(r.buffer),this._nextAutoTime=t.Global.now+this._autoTimeDelay}},r}(t.NetService);t.HttpNetService=e,__reflect(e.prototype,"junyou.HttpNetService")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(){}return t.prototype.onRecycle=function(){this.data=void 0,this.msgType=void 0},t}();t.NetSendData=e,__reflect(e.prototype,"junyou.NetSendData",["junyou.IRecyclable"]);var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(e);t.NetData=r,__reflect(r.prototype,"junyou.NetData")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(){return e.call(this)||this}return __extends(r,e),r.prototype.parseSelfData=function(e){var r,i=this;this._suiData;e[0]&&(r=new t.TextFieldCreator,r.setBaseData(e[0][1]),r.parseSelfData(e[0][2]));for(var n=[],o=1;5>o;o++){var a=e[o];a&&(n[o-1]=a)}this._createT=function(){var o=new t.Button;r&&(o.txtLabel=r.get());for(var a=[],s=0;4>s;s++)n[s]&&(a[s]=i.createElement(n[s]));a[1]||(a[1]=a[0]);var u;return a[2]||(a[2]=a[0],u=!0),a[3]||(a[3]=a[2]),o.bitmaps=a,e[5]&&(o.floor=i.createElement(e[5]),u=!0),e[6]&&(o.ceil=i.createElement(e[6]),u=!0),o.useDisableFilter(u),o}},r}(t.BaseCreator);t.ButtonCreator=e,__reflect(e.prototype,"junyou.ButtonCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(){return e.call(this)||this}return __extends(r,e),r.prototype.parseSelfData=function(t){this._sData=t,this._createT=this.createIconButton},r.prototype.createIconButton=function(){var e,r=new t.IconButton,i=this._sData,n=this._suiData;if(i[0]){var e=new t.TextFieldCreator;e.bindSuiData(n),e.parseSelfData(i[0])}for(var o,a,s=[],u=1;5>u;u++)o=i[u],o&&(a=new t.BitmapCreator(n),a.parseData(o,n),s[u-1]=a);e&&(r.txtLabel=e.get());for(var h=[],c=0;4>c;c++)s[c]&&(a=s[c],h[c]=a.get());h[1]||(h[1]=h[0]),h[3]||(h[3]=h[2]),r.bitmaps=h;var l=new t.Image;return r.icon=l,r},r}(t.BaseCreator);t.IconButtonCreator=e,__reflect(e.prototype,"junyou.IconButtonCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(){return e.call(this)||this}return __extends(r,e),r.prototype.parseSelfData=function(e){this.uiData=e;var r=new t.TextFieldCreator;this.txtCreator=r;var i=e[0],n=e[1];r.setBaseData(i[1]),r.parseSelfData(i[2]);var o=new t.ScaleBitmapCreator;this.scale9Creator=o;var a=this._suiData,s=a.sourceComponentData;o.bindSuiData(a),o.parseSelfData(s[5][1][n[2]]),o.setBaseData(n[1]);var u=[];this.btnCreator=u;for(var h=s[3][1],c=2;c<e.length;c++){var l=e[c];if(l){var p=new t.ButtonCreator;p.bindSuiData(a),p.parseSelfData(h[l[2]]),p.setBaseData(l[1]),u.push(p)}}this._createT=this.createNumericStepper,this.suiManager=t.singleton(t.SuiResManager)},r.prototype.createNumericStepper=function(){var e=new t.NumericStepper;e.txt=this.txtCreator.get(),e.txtbg=this.scale9Creator.get();var r=this.btnCreator,i=r.length;return i>=3?(e.minBtn=r[0].get(),e.subBtn=r[1].get(),e.addBtn=r[2].get(),e.maxBtn=r[3].get()):(e.subBtn=r[0].get(),e.addBtn=r[1].get()),e.addSubComponents(),e},r}(t.BaseCreator);t.NumericStepperCreator=e,__reflect(e.prototype,"junyou.NumericStepperCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(){return e.call(this)||this}return __extends(r,e),r.prototype.parseSelfData=function(e){this._sData=e,this._suiManager=t.singleton(t.SuiResManager),this._txtCreator=new t.TextFieldCreator,this._createT=this.createProgressBar},r.prototype.createProgressBar=function(){for(var e,r=new t.ProgressBar,i=this._sData,n=i.length,o=0;n>o;o++)if(e=i[o]){var a=this.createElement(e);0==o?r.tf=a:1==o?r.bar=a:2==o&&(r.bg=a)}return r},r}(t.BaseCreator);t.ProgressBarCreator=e,__reflect(e.prototype,"junyou.ProgressBarCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(){return e.call(this)||this}return __extends(r,e),r.prototype.parseSelfData=function(e){var r=this,i=e[0],n=i[2];0>n&&(this.isjpg=!0);var o=e[1],a=0!=e[0],s=i[1],u=s[3],h=s[4];if(o)var c=new egret.Rectangle(o[0],o[1],o[2],o[3]);this._createT=function(){var e=r._suiData,i=new t.ScaleBitmap;return i.scale9Grid=c,a&&(i.texture=e.getTexture(n),i.width=u,i.height=h,r.bindEvent(i)),i}},r}(t.BitmapCreator);t.ScaleBitmapCreator=e,__reflect(e.prototype,"junyou.ScaleBitmapCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(){return e.call(this)||this}return __extends(r,e),r.prototype.parseSelfData=function(e){this.uiData=e,this.suiManager=t.singleton(t.SuiResManager),this._createT=this.createScrollBar},r.prototype.createScrollBar=function(){var e,r,i,n,o=new t.ScrollBar,a=this.uiData,s=this._suiData.sourceComponentData;e=a[0],r=e[2],i=s[5],n=i[0][r];var u=this.suiManager.createDisplayObject(this._suiData.key,n,e[1]);return o.setBar(u),e=a[1],r=e[2],i=s[5],n=i[0][r],u=this.suiManager.createDisplayObject(this._suiData.key,n,e[1]),o.setBg(u),o},r}(t.BaseCreator);t.ScrollBarCreator=e,__reflect(e.prototype,"junyou.ScrollBarCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.parseSelfData=function(e){t.prototype.parseSelfData.call(this,e[0][2])},e}(t.BitmapCreator);t.ShareBitmapCreator=e,__reflect(e.prototype,"junyou.ShareBitmapCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(){return e.call(this)||this}return __extends(r,e),r.prototype.parseSelfData=function(e){this.uiData=e,this.txtCreator=new t.TextFieldCreator,this.scale9Creator=new t.ScaleBitmapCreator,this.bitmapCreator=new t.BitmapCreator(this._suiData),this.suiManager=t.singleton(t.SuiResManager),this._createT=this.createSlider},r.prototype.createSlider=function(){for(var e,r,i,n,o,a=new t.Slider,s=this.uiData,u=s.length,h=this._suiData.sourceComponentData,c=0;u>c;c++)if(e=s[c],r=e[0],i=e[2],0==r){this.bitmapCreator.parseSelfData(i);var l=this.bitmapCreator.get();a.setThumb(l)}else if(5==r){n=h[r],o=n[0][i];var p=this.suiManager.createDisplayObject(this._suiData.key,o,e[1]);a.setBg(p)}return a},r}(t.BaseCreator);t.SliderCreator=e,__reflect(e.prototype,"junyou.SliderCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(){return e.call(this)||this}return __extends(r,e),r.prototype.parseSelfData=function(e){var r=this,i=e[0],n=i?new egret.Rectangle(i[0],i[1],i[2],i[3]):void 0;this._createT=function(){var i=new t.Slot;i.rect=n;var o=e[1];if(o){var a=r.createElement(o);i.countTxt=a}if(o=e[2]){var a=r.createElement(o);o.length>1?i.bg=a:i.bg=a}return i.invalidateDisplay(),i}},r}(t.BaseCreator);t.SlotCreator=e,__reflect(e.prototype,"junyou.SlotCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(){return e.call(this)||this}return __extends(r,e),r.prototype.parseSelfData=function(e){var i=["dynamic","dynamic","input"][+e[0]],n=e[1]||r.DefaultFonts,o=["left","center","right","justify"][+e[2]],a=t.ColorUtil.getColorValue(e[3]),s=e[4]||12,u=+e[5],h=!!e[6],c=!!e[7],l=0,p=0,f=e[8];Array.isArray(f)&&(p=f[0],"string"==typeof p&&(p=t.ColorUtil.getColorValue(p)),l=f[1]),this._createT=function(){var t=new egret.TextField;return t.type=i,t.fontFamily=n,t.textAlign=o,t.textColor=a,t.size=s,t.lineSpacing=u,t.bold=h,t.italic=c,t.stroke=l,t.strokeColor=p,t}},r}(t.BaseCreator);e.DefaultFonts="",t.TextFieldCreator=e,__reflect(e.prototype,"junyou.TextFieldCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(t,r,i){void 0===i&&(i=6);var n=e.call(this,t,r)||this;return n._layout=i,n}return __extends(r,e),r.prototype.onResize=function(){var e=this._host,r=e.stage||egret.sys.$TempStage,i=this._basis,n=r.stageWidth,o=r.stageHeight,a=i.width,s=i.height,u=n,h=o,c=n,l=o,p=1;if(n>a||o>s){var f=this.getFixedNarrow(n,o,a,s,!0);h=f.dh,u=f.dw,c=f.lw,l=f.lh,p=f.scale}else u=a,h=s;this._lw=c,this._lh=l,e.scaleY=e.scaleX=p;var d=t.Temp.SharedPoint1;t.Layout.getLayoutPos(u,h,n,o,this._layout,d),e.x=d.x,e.y=d.y,this.layoutAll()},r}(t.LayoutContainer);t.BGContainer=e,__reflect(e.prototype,"junyou.BGContainer")}(junyou||(junyou={}));var junyou;!function(t){t.Layout={getParentSize:function(t,e){if(e||(e=t.parent),e||(e=egret.sys.$TempStage),e instanceof egret.Stage)var r=e.stageWidth,i=e.stageHeight;else r=e.width,i=e.height;return[r,i]},layout:function(e,r,i,n,o,a,s){void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=!0),void 0===a&&(a=!0);var u=t.Layout.getParentSize(e,s),h=u[0],c=u[1];t.Layout.getLayoutPos(e.width,e.height,h,c,r,e,i,n,o,a)},layoutPercent:function(e,r,i,n){void 0===r&&(r=0),void 0===i&&(i=0);var o=t.Layout.getParentSize(e,n),a=o[0],s=o[1];return e.x=Math.round((a-e.width)*i),e.y=Math.round((s-e.height)*r),e},getLayoutPos:function(t,e,r,i,n,o,a,s,u,h){void 0===a&&(a=0),void 0===s&&(s=0),void 0===u&&(u=!0),void 0===h&&(h=!0),o=o||{};var c=12&n,l=3&n,p=0,f=0;switch(c){case 4:p=u?0:-e;break;case 8:p=i-e>>1;break;case 12:p=u?i-e:i}switch(l){case 1:f=h?0:-t;break;case 2:f=r-t>>1;break;case 3:f=h?r-t:r}return o.x=Math.round(f+a),o.y=Math.round(p+s),o},tipLayout:function(e,r,i,n,o,a){void 0===n&&(n=0),void 0===o&&(o=0),t.Layout.getTipLayoutPos(e,r,e,n,o,a)},getTipLayoutPos:function(e,r,i,n,o,a){void 0===n&&(n=0),void 0===o&&(o=0);var s=t.Layout.getParentSize(e,a),u=s[0],h=s[1];i=i||{};var c=e.width,l=e.height,p=r.x,f=r.y,d=p+n,y=f+o;return c+d+n>u&&(d=u-c-n,p>d&&(d=p-c-n),0>d&&(d=n)),l+f+o>h&&(y=h-l-o,0>y&&(y=o)),i.x=Math.round(d),i.y=Math.round(y),i}}}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this.dispatchList=[],this._listenerMaps={}}return e.prototype.register=function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var n=this._listenerMaps,o={handler:e,priority:r,once:i},a=n[t];if(a){var s=void 0,u=a.length;for(s=0;u>s;s++){var h=a[s];if(h.handler==e){if(h.priority==r)return!1;a.splice(s,1),u--;break}}for(s=0;u>s;s++)if(r>a[s].priority)return a.splice(s,0,o),!0;a[u]=o}else a=[],n[t]=a,a.push(o);return!0},e.prototype.remove=function(t,e){var r=this._listenerMaps,i=r[t];if(!i)return!1;for(var n=i.length,o=0;n>o;o++)if(i[o].handler==e)return i.splice(o,1),1==n&&delete r[t],!0;return!1},e.prototype.dispatch=function(t){egret.callLater(this._dispatch,this,t)},e.prototype._dispatch=function(e){var r=e.cmd,i=this._listenerMaps[r];if(i){for(var n=this.dispatchList,o=0,a=i.length;a>o;o++)n[o]=i[o];for(var s=0;o>s;s++){var u=n[s];try{u.handler(e)}catch(h){t.ThrowError("执行网络回调方法出错"+JSON.stringify(e)+"，\n错误："+h.message+"，堆栈：\n"+h.stack)}if(u.once&&this.remove(r,u.handler),e.stopPropagation)break}e.recycle()}},e}();t.NetRouter=e,__reflect(e.prototype,"junyou.NetRouter")}(junyou||(junyou={}));var $useDPR=!0,dpr=1;if(window.$useDPR){dpr=window.devicePixelRatio||1;var origin=egret.sys.DefaultScreenAdapter.prototype.calculateStageSize;egret.sys.screenAdapter={calculateStageSize:function(t,e,r,i,n){var o=origin(t,e,r,i,n);return t==egret.StageScaleMode.NO_SCALE&&(o.stageHeight*=dpr,o.stageWidth*=dpr),o}}}var junyou;!function(t){var e=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return __extends(r,e),r.prototype.onResize=function(){var t=this._host,e=t.stage||egret.sys.$TempStage,r=this._basis,i=e.stageWidth,n=e.stageHeight,o=r.width,a=r.height,s=i,u=n,h=i,c=n,l=1;if(1!=dpr||o*dpr>i||a*dpr>n){var p=this.getFixedNarrow(i,n,o,a);u=p.dh,s=p.dw,h=p.lw,c=p.lh,l=p.scale}this._lw=h,this._lh=c,t.x=0,t.y=0,t.scaleY=t.scaleX=l,this.layoutAll()},r.prototype.add=function(e,r,i){var n=e.suiRawRect,o=t.Layout.getLayoutPos(n.width,n.height,i.width,i.height,r),a=n.x-i.x,s=n.y-i.y,u=a-o.x,h=s-o.y;this.addLayout(e,r,n,u,h)},r}(t.LayoutContainer);t.MainUIContainer=e,__reflect(e.prototype,"junyou.MainUIContainer")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(r,i){void 0===r&&(r="lib"),void 0===i&&(i="ui.btn.MenuBtn");var n=e.call(this)||this,o=t.singleton(t.SuiResManager).createDisplayObject(r,i);return n.skin=o,n.btn=o,n}return __extends(r,e),r.prototype.$setData=function(t){e.prototype.$setData.call(this,t),this.btn.label=t.label},r}(t.MenuBaseRender);t.ButtonMenuRender=e,__reflect(e.prototype,"junyou.ButtonMenuRender")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(r,i){var n=e.call(this)||this;return n.style=r,n.uiManager=t.singleton(t.SuiResManager),n.maxRenderCount=i,n.bindComponent(),n}return __extends(r,e),r.bind=function(t,e,i){var n=r.dic;n||(r.dic=n=new Map),n.has(t)||n.set(t,e),e.menuinitFunc=i,t.on(-1e3,r.onShowOrHideMenu,this)},r.unBind=function(e){var i=r.dic;if(i){if(i.has(e)){var n=i.get(e);n.menuinitFunc=void 0,t.removeDisplay(n),i["delete"](e)}e.off(-1e3,r.onShowOrHideMenu,this)}},r.onShowOrHideMenu=function(e){var i=e.target,n=i.selected,o=r.dic.get(i),a=i.view;if(n){if(a instanceof egret.DisplayObjectContainer){a.addChild(o);var s=o.menuinitFunc;s&&s.call(i,i,o)}this.currentShow=i}else t.removeDisplay(o),this.currentShow=void 0;i.dispatch(-1999)},r.prototype.bindComponent=function(){var t=this.uiManager,e=this.style.uikey,r=this.style.possize,i=this.style.renderClass,n=this.style.scalebg,o=t.createDisplayObject(e,n);this.addChild(o),o.width=r.width,o.height=r.height,this.renders=[];for(var a=0;a<this.maxRenderCount;a++){var s=new i;this.renders[a]=s,this.addChild(s.view)}},r.prototype.displayMenuDatas=function(e){for(var r=e.length,i=this.renders.length,n=this.style,o=[],a=0;r>a;a++){var s=this.renders[a];s.data=e[a],this.addChild(s.view),o[a]=s}if(i>r)for(var a=r;i>a;a++)t.removeDisplay(this.renders[a].view);var u,h=n.possize,c=o[0].getSize();if(n.align){u=(h.height-2*h.y-r*c.height)/(r-1);for(var a=0;r>a;a++){var s=o[a];c=s.getSize();var l=s.view;l.x=~~h.x,l.y=~~(h.y+(u+c.height)*a)}}else{u=(h.width-2*h.x-r*c.width)/(r-1);for(var a=0;r>a;a++){var s=o[a];c=s.getSize();var l=s.view;l.x=~~(h.x+(u+c.width)*a),l.y=~~h.y}}},r}(egret.Sprite);t.Menu=e,__reflect(e.prototype,"junyou.Menu")}(junyou||(junyou={}));var $DD={},$DE,junyou;!function(t){t.DataLocator=function(){function e(t,e){o[t]=e,a.push(t)}function r(e,r,i){switch(r){case 0:(null==e||void 0==e)&&(e=i);break;case 1:(0===e||void 0==e)&&(e=i||"");break;case 2:(""===e||void 0==e)&&(e=+i||0);break;case 3:e=!!e;break;case 4:case 5:0===e&&(e=void 0),!e&&i&&(e=i);break;case 6:case 8:e=new Date(1e4*(e||i||0));break;case 7:e=(new t.TimeVO).decodeBit(e||i||0)}return e}function i(t,e,r,i){i.push(t)}function n(e,r,i,n,o){if(o in e){var a=e[o];"object"==typeof a&&t.ThrowError("配置"+i+"的数据有误，唯一标识"+o+"不能为对象"),a in n&&t.ThrowError("配置"+i+"的数据有误，唯一标识"+o+"有重复值："+a),n[a]=e}else t.ThrowError("配置"+i+"解析有误，无法找到指定的唯一标示："+o+"，数据索引："+r)}var o={},a=[];return{regParser:e,parsePakedDatas:function(){var e=RES.getRes("cfgs");RES.destroyRes("cfgs");for(var i=0,n=a;i<n.length;i++){var s=n[i],u=o[s],h=u(e[s]);h&&($DD[s]=h)}var c={};for(var s in e)if("$"==s.charAt(0)){var l=e[s];if(s=s.substr(1),l){for(var p=0,f=l.length,h={};f>p;){var d=l[p++],y=l[p++],v=l[p];"number"==typeof v&&(p++,y=r(y,v)),h[d]=y}c[s]=h}}$DE=c,o=null,a=null,delete t.DataLocator},regCommonParser:function(o,a,s){void 0===s&&(s="id"),e(o,function(e){if(e){for(var u,h,c,l=e[0],p=0;p<l.length;p++){var f=l[p];2==(2&f[2])&&(c=1)}""==s?(u=[],h=i):(u={},h=n);try{for(var d=a||Object,y=1;y<e.length;y++){for(var v=e[y],g=new d,_=c&&{},p=0;p<l.length;p++){var f=l[p],m=f[0],b=f[1],w=f[2],x=f[3],S=r(v[p],b,x);2==(2&w)?_[m]=S:g[m]=S}h(g,y-1,o,u,s),"function"==typeof g.decode&&g.decode(_)}}catch(j){t.ThrowError("解析配置:"+o+"出错，堆栈："+j.stack)}return u}})}}}()}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(){var t=e.call(this)||this;return t.init(),t}return __extends(r,e),Object.defineProperty(r.prototype,"suiRawRect",{get:function(){return this._baseRect},set:function(t){this._baseRect=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isReady",{get:function(){return this._ready},enumerable:!0,configurable:!0}),r.prototype.init=function(){},r.prototype.bind=function(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];this._key=t,this._className=e,this._otherDepends=r},r.prototype.startSync=function(){this._otherDepends?this._depends=this._otherDepends.concat():this._depends=[],this._depends.push(this._key),this.loadNext()},r.prototype.loadNext=function(){if(this._depends.length){var e=this._depends.pop(),r=t.singleton(t.SuiResManager);r.loadData(e,this)}else this.skinDataComplete()},r.prototype.suiDataComplete=function(e){this.preloadImage?e.loadBmd(t.CallbackInfo.get(this.loadNext,this)):this.loadNext()},r.prototype.suiDataFailed=function(t){},r.prototype.bindComponent=function(){t.singleton(t.SuiResManager).createComponents(this._key,this._className,this)},r.prototype.skinDataComplete=function(){if(this.bindComponent(),this.bg)this.bg.touchEnabled=!0;else if(this.numChildren){var t=this.getChildAt(0);t.touchEnabled=!0}this._ready=!0,this._asyncHelper&&this._asyncHelper.readyNow()},r.prototype.addedToStage=function(){this._isModal&&this.addModal()},Object.defineProperty(r.prototype,"isModal",{get:function(){return this._isModal},set:function(t){this._isModal=t,t?this.stage?this.addModal():this.on(egret.Event.ADDED_TO_STAGE,this.addedToStage,this):this.stage?this.removeModal():this.off(egret.Event.ADDED_TO_STAGE,this.addedToStage,this)},enumerable:!0,configurable:!0}),r.prototype.addModal=function(t,e){var i=this.modal;if(!i){this.modal=i=new egret.Shape,i.touchEnabled=!0;var n=i.graphics;n.beginFill(r.MODAL_COLOR,r.MODAL_ALPHA);var o=egret.sys.$TempStage;t=t||o.stageWidth,e=e||o.stageHeight,n.drawRect(0,0,t,e),n.endFill()}i.on(egret.TouchEvent.TOUCH_TAP,this.hide,this),this.addChildAt(i,0)},r.prototype.removeModal=function(){this.modal&&(this.modal.off(egret.TouchEvent.TOUCH_TAP,this.hide,this),t.removeDisplay(this.modal))},r.prototype.hide=function(){t.toggle(this.moduleID,-1)},Object.defineProperty(r.prototype,"isShow",{get:function(){return void 0!=this.stage&&1==this.visible},enumerable:!0,configurable:!0}),r.prototype.show=function(){t.toggle(this.moduleID,1)},r}(egret.Sprite);e.MODAL_COLOR=0,e.MODAL_ALPHA=.8,t.Panel=e,__reflect(e.prototype,"junyou.Panel",["junyou.SuiDataCallback","junyou.IAsyncPanel","egret.DisplayObject","junyou.IAsync","junyou.IModulePanel"]),t.expand(e,t.FHost,"addReadyExecute")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(t){this._parent=t}return e.prototype.show=function(e,r,i,n){void 0===r&&(r=16777215),void 0===i&&(i=1e3),void 0===n&&(n=1e3);var o=new egret.TextField;o.textAlign=egret.HorizontalAlign.CENTER,/<[^>]+>/.test(e)?o.setHtmlText(e):o.text=e,o.alpha=1,t.Layout.layout(o,10),o.textColor=r,this._parent.addChild(o);var a=t.Global.getTween(o);a.to({y:o.y-100},i).to({alpha:0},n).call(this.txtComplete,this,[a,o])},e.prototype.txtComplete=function(e){var r=e[0],i=e[1];r&&(r.paused=!0,r.onRecycle()),i&&t.removeDisplay(i)},e}();t.ErrorTips=e,__reflect(e.prototype,"junyou.ErrorTips")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(t,r,i,n){void 0===t&&(t=480),void 0===r&&(r=800),void 0===i&&(i=5);var o=e.call(this)||this;return o._autoSize=n,o._corner=i,o.init(t,r,i),o}return __extends(r,e),r.prototype.init=function(t,e,r){var i;this.tf=i=new egret.TextField;var n=2*r;i.width=t-n,i.height=e-n,i.size=12,i.x=r,i.y=r,this.addChild(i),this.drawRect(0,0,t,e)},r.prototype.setTipData=function(t){var e=this.tf;if(t!=e.text){e.text=t;var r=void 0,i=void 0;if(this._autoSize){var n=2*this._corner;r=e.textWidth+2*n,i=e.textHeight+2*n,this.drawRect(0,0,r,i)}}},r.prototype.drawRect=function(t,e,r,i){var n=this.graphics;n.clear(),n.lineStyle(1,13421772),n.beginFill(0,.7),n.drawRoundRect(t,e,r,i,this._corner),n.endFill()},r.prototype.show=function(e,r,i){void 0!=r&&void 0!=i?(e.addChild(this),this.x=r,this.y=i):t.addTo(this,e)},r.prototype.hide=function(){t.removeDisplay(this)},r}(egret.Sprite);t.SimToolTip=e,__reflect(e.prototype,"junyou.SimToolTip",["junyou.IToolTip"])}(junyou||(junyou={}));var junyou;!function(t){var e=egret.TouchEvent,r=function(){function r(){}return r.prototype.register=function(r,i,n,o){this.data=i,this.con=o,this.tooltip!=n&&(this.tooltip=n),this.target!=r&&(this.clearDisListener(this.target),t.Global.clearCallLater(this.showTip,this),r.on(e.TOUCH_BEGIN,this.checkTouch,this))},r.prototype.clearDisListener=function(t){t.off(e.TOUCH_BEGIN,this.checkTouch,this),t.off(e.TOUCH_END,this.touchEnd,this)},r.prototype.onRecycle=function(){this.target&&(this.clearDisListener(this.target),this.target=void 0),t.Global.clearCallLater(this.showTip,this),this.data=void 0,this.tooltip=void 0},r.prototype.checkTouch=function(r){this.target.on(e.TOUCH_END,this.touchEnd,this),t.Global.callLater(this.showTip,t.ToolTipManager.touchTime,this)},r.prototype.showTip=function(){this.target.off(e.TOUCH_END,this.touchEnd,this),this.tooltip.show(this.con)},r.prototype.touchEnd=function(r){this.target.off(e.TOUCH_END,this.touchEnd,this),t.Global.clearCallLater(this.showTip,this)},r}();t.ToolTipData=r,__reflect(r.prototype,"junyou.ToolTipData",["junyou.IRecyclable"])}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){}return e.register=function(r,i,n,o){if(!n&&(n=e.defaultTip,!n))return t.ThrowError("没有注册ToolTip的皮肤，并且没有默认的ToolTip"),!1;var a=e._map,s=a.get(r);return s||(s=t.recyclable(t.ToolTipData),a.set(r,s)),o||(o=t.GameEngine.instance.getLayer(9e3)),s.register(r,i,n,o),!0},e.show=function(t,r,i){var n=e._map.get(t);r&&(n.data=r);var o=n.tooltip;o||(o=e.defaultTip),o&&(o.setTipData(n.data),i||(i=n.con),o.show(i),this._currentSkin=o)},e.refresh=function(t,r){var i=e._map.get(t);i.data=r;var n=i.tooltip;n||(n=e.defaultTip),n&&n.setTipData(i.data)},e.remove=function(t){var r=e._map.get(t);r.recycle()},e}();e.touchTime=500,e._map=new Map,t.ToolTipManager=e,__reflect(e.prototype,"junyou.ToolTipManager")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(e){var r=t.call(this)||this;return r._selected=[],r.maxSelected=e,r}return __extends(e,t),e.prototype.removeItem=function(t){t&&(this._list.remove(t),this._selected.remove(t),t.off(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this))},e.prototype.$setSelectedItem=function(t){var e,r=this._selected,i=-1;if(t.selected)t.selected=!1,r.remove(t),i=r.length-1,e=!0;else{var n=this.maxSelected||1/0;if(!(r.length<n))return this.dispatch(-1021);t.selected=!0,i=r.pushOnce(t),e=!0}return e?(this._selectedIndex=i,this._selectedItem=~i?void 0:r[i],this.dispatch(-1020)):void 0},Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},enumerable:!0,configurable:!0}),e.prototype.clear=function(){t.prototype.clear.call(this),this._selected.length=0},e}(t.Group);t.CheckBoxGroup=e,__reflect(e.prototype,"junyou.CheckBoxGroup")}(junyou||(junyou={}));var junyou;!function(t){t.PBMessageUtils=function(){function e(e,a,s){void 0===s&&(s=-1);var u=0;s>-1&&(u=a.bytesAvailable-s);var l="string"==typeof e?c[e]:e;if(!l)return void t.ThrowError("非法的通信类型["+e+"]");for(var p=Object.create(l.def);a.bytesAvailable>u;){var f=a.readVarint();if(0!=f){var d=f>>>3,y=l[d];if(y){var v=y[0],g=y[1],_=y[2],m=y[3],b=void 0;if(3!=g||7!=(7&f))switch(_){case 1:b=a.readDouble();break;case 2:b=a.readFloat();break;case 3:case 4:case 18:b=a.readVarint64();break;case 5:case 17:b=h(a.readVarint());break;case 13:case 14:b=a.readVarint();break;case 6:case 16:b=a.readFix64();break;case 7:b=a.readFix32();break;case 8:b=a.readBoolean();break;case 9:b=i(a);break;case 10:b=void 0,t.ThrowError("读取消息类型为："+e+"，索引"+d+"时数据出现已弃用的GROUP分组类型");break;case 11:b=n(a,m);break;case 12:b=o(a);break;case 15:b=a.readSFix32();break;default:b=r(f,a)}if(3==g){var w=p[v];w||(p[v]=w=[]),w.push(b)}else p[v]=b}else t.ThrowError("读取消息类型为："+e+"，索引"+d+"时数据出现错误，找不到对应的数据结构配置"),r(f,a)}}return p}function r(e,r){var n,o=7&e;switch(o){case 0:n=r.readVarint();break;case 2:n=i(r);break;case 5:n=r.readInt();break;case 1:n=r.readDouble();break;default:t.ThrowError("protobuf的wireType未知")}return n}function i(t){var e=t.readVarint();return e>0?t.readUTFBytes(e):""}function n(t,r){var i=t.readVarint();return e(r,t,i)}function o(t){var e=t.readVarint();return t.readByteArray(e)}function a(e,r,i,n){if(void 0!=e){var o="string"==typeof r?c[r]:r;if(!o)return void t.ThrowError("非法的通信类型["+r+"]，堆栈信息:"+new Error);i||(i=new t.ByteArray);for(var a in o){var u=+a,h=o[u],p=h[1],f=h[0];if(1!=p||f in e){var d=e[f];if(void 0!=d&&d!==h[4]){var y=h[2],v=h[3],g=l[y],_=u<<3|g;if(3==p){var m=[];n[f]=m;for(var b in d){var w=d[b];m.push(s(w,y,void 0==w?u<<3|7:_,i,v))}}else n[f]=s(d,y,_,i,v)}}}return i}}function s(e,r,i,n,o){function s(e,r){return e=+e||0,(e>4294967295||0>e)&&t.ThrowError("PBMessageUtils写入数据时候，使用的类型："+r+"，值为："+e+"，但超出整型范围。"),e}function h(e,r){return e=+e||0,(e>2147483647||-2147483648>e)&&t.ThrowError("PBMessageUtils写入数据时候，使用的类型："+r+"，值为："+e+"，但超出整型范围。"),e}var c=e;switch(n.writeVarint(i),r){case 7:n.writeFix32(s(e,r));break;case 15:n.writeSFix32(h(e,r));break;case 2:n.writeFloat(e);break;case 1:n.writeDouble(e);break;case 6:case 16:n.writeFix64(e);break;case 5:case 17:n.writeVarint(u(h(e,r)));break;case 14:case 13:n.writeVarint(s(e,r));break;case 3:case 18:case 4:n.writeVarint64(e);break;case 8:n.writeVarint(e?1:0);break;case 9:case 12:case 11:if(11==r){var l;c={},l=a(e,o,null,c)}else 12==r?(l=e,c=Uint8Array.from(l.bytes)):(l=new t.ByteArray,l.writeUTFBytes(e));length=l?l.length:0,n.writeVarint(length),length>0&&n.writeBytes(l,0,length)}return c}function u(t){return t<<1^t>>31}function h(t){return t>>1^(1&t)<<31>>31}var c=t.Temp.EmptyObject,l=[,1,5,0,0,0,1,5,0,2,,2,2,0,0,5,1,0,0];return{setPBDict:function(t){if(t&&(c=t,!t.$$inted)){for(var e in t){var r=t[e];for(var i in r){var n=r[i];if(4 in n){var o=r.def;o||(Object.defineProperty(r,"def",{value:{}}),o=r.def);var a=n[0];o[a]=n[4]}}r.def||Object.defineProperty(r,"def",{value:Object.prototype})}t.$$inted=1}},readFrom:e,writeTo:a}}()}(junyou||(junyou={}));var junyou;!function(t){t.GroupItemButton=function(){function e(t){var e=t.currentTarget,r=e[i];
r.dispatchEvent(t)}var r=egret.TouchEvent.TOUCH_TAP,i="$gib$btn",n="$gib$txt";return{bind:function(o,a){a[i]?t.ThrowError("重复绑定了文本框和按钮"):a[i]=o,a.touchEnabled=!0,a.on(r,e);var s=o[n];s&&s[i]==o&&(delete s[i],s.off(r,e)),o[n]=a},loose:function(t){var o=t[n];o&&(delete t[n],o[i]==t&&(delete o[i],o.off(r,e)))}}}()}(junyou||(junyou={}));var junyou;!function(t){t.TouchDown=function(){function e(t){t.off(h,i),t.off(l,i),t.off(c,i),t.off(s,i)}function r(e){var r=e.target;r.on(h,i),r.on(l,i),r.on(c,i),r.on(s,i);var n=r.$_tdi;n?n.tween&&t.Global.removeTween(n.tween):(r.$_tdi=n={},n.x=r.x,n.y=r.y);var a=t.Global.getTween(r,o);n.tween=a;var u=n.x-.05*r.width,p=n.y-.05*r.height;a.to({scaleX:1.1,scaleY:1.1,x:u,y:p},100,t.Ease.quadOut)}function i(r){var i=r.target;e(i);var a=i.$_tdi;if(a){var s=t.Global.getTween(i,o,null,!0);a.tween=s,s.to({scaleX:1,scaleY:1,x:a.x,y:a.y},100,t.Ease.quadOut).call(n,null,i)}}function n(t){delete t.$_tdi}var o={"int":{x:1,y:1}},a=egret.TouchEvent,s=egret.Event.REMOVED_FROM_STAGE,u=a.TOUCH_BEGIN,h=a.TOUCH_END,c=a.TOUCH_RELEASE_OUTSIDE,l=a.TOUCH_CANCEL;return{bindItem:function(t){t&&t.on(u,r)},looseItem:function(t){t&&(t.off(u,r),e(t))}}}()}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function r(r,i){var n=e.call(this)||this;return t.singleton(t.SuiResManager).createComponents(r,i,n),n}return __extends(r,e),r}(egret.Sprite);t.View=e,__reflect(e.prototype,"junyou.View")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(){}return t.getValue=function(t,e,r){return t==e||0==r||1==r||"number"!=typeof t?1==r?e:t:t+(e-t)*r},t.get=function(t){return-1>t&&(t=-1),t>1&&(t=1),function(e){return 0==t?e:0>t?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},t.getPowIn=function(t){return function(e){return Math.pow(e,t)}},t.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},t.getPowInOut=function(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},t.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},t.sineOut=function(t){return Math.sin(t*Math.PI/2)},t.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getBackIn=function(t){return function(e){return e*e*((t+1)*e-t)}},t.getBackOut=function(t){return function(e){return--e*e*((t+1)*e+t)+1}},t.getBackInOut=function(t){return t*=1.525,function(e){return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}},t.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},t.circOut=function(t){return Math.sqrt(1- --t*t)},t.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},t.bounceIn=function(e){return 1-t.bounceOut(1-e)},t.bounceOut=function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},t.bounceInOut=function(e){return.5>e?.5*t.bounceIn(2*e):.5*t.bounceOut(2*e-1)+.5},t.getElasticIn=function(t,e){return function(r){if(0==r||1==r)return r;var i=e/Math.PI2*Math.asin(1/t);return-(t*Math.pow(2,10*(r-=1))*Math.sin((r-i)*Math.PI2/e))}},t.getElasticOut=function(t,e){return function(r){if(0==r||1==r)return r;var i=e/Math.PI2*Math.asin(1/t);return t*Math.pow(2,-10*r)*Math.sin((r-i)*Math.PI2/e)+1}},t.getElasticInOut=function(t,e){return function(r){var i=e/Math.PI2*Math.asin(1/t);return(r*=2)<1?-.5*(t*Math.pow(2,10*(r-=1))*Math.sin((r-i)*Math.PI2/e)):t*Math.pow(2,-10*(r-=1))*Math.sin((r-i)*Math.PI2/e)*.5+1}},t}();e.quadIn=e.getPowIn(2),e.quadOut=e.getPowOut(2),e.quadInOut=e.getPowInOut(2),e.cubicIn=e.getPowIn(3),e.cubicOut=e.getPowOut(3),e.cubicInOut=e.getPowInOut(3),e.quartIn=e.getPowIn(4),e.quartOut=e.getPowOut(4),e.quartInOut=e.getPowInOut(4),e.quintIn=e.getPowIn(5),e.quintOut=e.getPowOut(5),e.quintInOut=e.getPowInOut(5),e.backIn=e.getBackIn(1.7),e.backOut=e.getBackOut(1.7),e.backInOut=e.getBackInOut(1.7),e.elasticIn=e.getElasticIn(1,.3),e.elasticOut=e.getElasticOut(1,.3),e.elasticInOut=e.getElasticInOut(1,.3*1.5),t.Ease=e,__reflect(e.prototype,"junyou.Ease")}(junyou||(junyou={}));var junyou;!function(t){t.MotionGuidePlugin=function(){function t(t,e){if(void 0===t.__rotGlobalS||void 0===t.__rotGlobalE){if(t.__needsRot)return;var r=t._curQueueProps;void 0!==r.rotation?t.__rotGlobalS=t.__rotGlobalE=r.rotation:t.__rotGlobalS=t.__rotGlobalE=e.rotation=t.target.rotation||0}if(void 0!==t.__guideData){var i=t.__guideData,n=t.__rotGlobalE-t.__rotGlobalS,o=t.__rotPathE-t.__rotPathS,a=n-o;if("auto"==i.orient)a>180?a-=360:-180>a&&(a+=360);else if("cw"==i.orient){for(;0>a;)a+=360;0==a&&n>0&&180!=n&&(a+=360)}else if("ccw"==i.orient){for(a=n-(o>180?360-o:o);a>0;)a-=360;0==a&&0>n&&-180!=n&&(a-=360)}i.rotDelta=a,i.rotOffS=t.__rotGlobalS-t.__rotPathS,t.__rotGlobalS=t.__rotGlobalE=t.__guideData=t.__needsRot=void 0}}function e(t,e,r){if(void 0==t._segments)throw"Missing critical pre-calculated information, please file a bug";void 0==r&&(r={x:0,y:0,rotation:0});for(var i=t._segments,n=t.path,o=t._length*e,a=i.length-2,s=0;o>i[s]&&a>s;)o-=i[s],s+=2;var u=i[s+1],h=0;for(a=u.length-1;o>u[h]&&a>h;)o-=u[h],h++;var c=h/++a+o/(a*u[h]);s=2*s+2;var l=1-c;return r.x=l*l*n[s-2]+2*l*c*n[s+0]+c*c*n[s+2],r.y=l*l*n[s-1]+2*l*c*n[s+1]+c*c*n[s+3],t.orient&&(r.rotation=57.2957795*Math.atan2((n[s+1]-n[s-1])*l+(n[s+3]-n[s+1])*c,(n[s+0]-n[s-2])*l+(n[s+2]-n[s+0])*c)),r}return{priority:0,install:function(t){t.installPlugin(this,["guide","x","y","rotation"])},init:function(t,e,r){var i=t.target;return void 0==i.x&&(i.x=0),void 0==i.y&&(i.y=0),void 0==i.rotation&&(i.rotation=0),"rotation"==e&&(t.__needsRot=!0),"guide"==e?null:r},step:function(r,i,n,o,a){if("rotation"==i&&(r.__rotGlobalS=n,r.__rotGlobalE=o,t(r,a)),"guide"!=i)return o;var s,u=o;u.hasOwnProperty("path")||(u.path=[]);var h=u.path;if(u.hasOwnProperty("end")||(u.end=1),u.hasOwnProperty("start")||(u.start=n&&n.hasOwnProperty("end")&&n.path===h?n.end:0),u.hasOwnProperty("_segments")&&u._length)return o;var c=h.length,l=10;if(!(c>=6&&(c-2)%4==0))throw"invalid 'path' data, please see documentation for valid paths";u._segments=[],u._length=0;for(var p=2;c>p;p+=4){for(var f,d,y=h[p-2],v=h[p-1],g=h[p+0],_=h[p+1],m=h[p+2],b=h[p+3],w=y,x=v,S=0,j=[],T=1;l>=T;T++){var C=T/l,E=1-C;f=E*E*y+2*E*C*g+C*C*m,d=E*E*v+2*E*C*_+C*C*b,S+=j[j.push(Math.sqrt((s=f-w)*s+(s=d-x)*s))-1],w=f,x=d}u._segments.push(S),u._segments.push(j),u._length+=S}s=u.orient,u.orient=!0;var D={};return e(u,u.start,D),r.__rotPathS=Number(D.rotation.toFixed(5)),e(u,u.end,D),r.__rotPathE=Number(D.rotation.toFixed(5)),u.orient=!1,e(u,u.end,a),u.orient=s,u.orient?(r.__guideData=u,t(r,a),o):o},tween:function(t,r,i,n,o,a,s,u){var h=o.guide;if(void 0==h||h===n.guide)return i;if(h.lastRatio!=a){var c=(h.end-h.start)*(s?h.end:a)+h.start;switch(e(h,c,t.target),h.orient){case"cw":case"ccw":case"auto":t.target.rotation+=h.rotOffS+h.rotDelta*a;break;case"fixed":default:t.target.rotation+=h.rotOffS}h.lastRatio=a}return"rotation"!=r||h.orient&&"false"!=h.orient?t.target[r]:i}}}()}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(e,r,i,n){var o=t.call(this)||this;return o.loop=!1,o.duration=0,o._prevPos=-1,o.position=null,o._prevPosition=0,o._stepPosition=0,o.passive=!1,o.initialize(e,r,i,n),o}return __extends(e,t),e.prototype.initialize=function(t,e,r,i){this.target=t;var n=this._manager;n&&n!=i&&n.removeTweens(t),e&&(this._useTicks=e.useTicks,this.ignoreGlobalPause=e.ignoreGlobalPause,this.loop=e.loop,e.onChange&&this.on(-1,e.onChange,e.onChangeObj),e.override&&i.removeTweens(t),this._int=e["int"]),this._manager=i,this.pluginData=r||{},this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],e&&e.paused?this.paused=!0:i._register(this,!0),e&&null!=e.position&&this.setPosition(e.position,0)},e.prototype.setPosition=function(t,e){void 0===e&&(e=1),0>t&&(t=0);var r=t,i=!1;if(r>=this.duration&&(this.loop?r%=this.duration:(r=this.duration,i=!0)),r==this._prevPos)return i;var n=this._prevPos;if(this.position=this._prevPos=r,this._prevPosition=t,this.target)if(i)this._updateTargetProps(null,1);else if(this._steps.length>0){for(var o=0,a=this._steps.length;a>o&&!(this._steps[o].t>r);o++);var s=this._steps[o-1];this._updateTargetProps(s,(this._stepPosition=r-s.t)/s.d)}return i&&this.setPaused(!0),0!=e&&this._actions.length>0&&(this._useTicks?this._runActions(r,r):1==e&&n>r?(n!=this.duration&&this._runActions(n,this.duration),this._runActions(0,r,!0)):this._runActions(n,r)),this.dispatch(-1),i},e.prototype._runActions=function(t,e,r){void 0===r&&(r=!1);var i=t,n=e,o=-1,a=this._actions.length,s=1;for(t>e&&(i=e,n=t,o=a,a=s=-1);(o+=s)!=a;){var u=this._actions[o],h=u.t;(h==n||h>i&&n>h||r&&h==t)&&u.f.apply(u.o,u.p)}},e.prototype._updateTargetProps=function(t,r){var i,n,o,a,s,u;if(t||1!=r){if(this.passive=!!t.v,this.passive)return;t.e&&(r=t.e(r,0,1,1)),i=t.p0,n=t.p1}else this.passive=!1,i=n=this._curQueueProps;for(var h in this._initQueueProps){null==(a=i[h])&&(i[h]=a=this._initQueueProps[h]),null==(s=n[h])&&(n[h]=s=a),o=a==s||0==r||1==r||"number"!=typeof a?1==r?s:a:a+(s-a)*r;var c=!1;if(u=this._manager._plugins[h])for(var l=0,p=u.length;p>l;l++){var f=u[l].tween(this,h,o,i,n,r,!!t&&i==n,!t);f==e.IGNORE?c=!0:o=f}c||(this._int&&this._int[h]&&(o=Math.round(o)),this.target[h]=o)}},e.prototype._addStep=function(t){return t.d>0&&(this._steps.push(t),t.t=this.duration,this.duration+=t.d),this},e.prototype._appendQueueProps=function(t){var e,r,i,n,o;for(var a in t)if(void 0===this._initQueueProps[a]){if(r=this.target[a],e=this._manager._plugins[a])for(i=0,n=e.length;n>i;i++)r=e[i].init(this,a,r);this._initQueueProps[a]=this._curQueueProps[a]=void 0===r?null:r}else r=this._curQueueProps[a];for(var a in t){if(r=this._curQueueProps[a],e=this._manager._plugins[a])for(o=o||{},i=0,n=e.length;n>i;i++)e[i].step&&e[i].step(this,a,r,t[a],o);this._curQueueProps[a]=t[a]}return o&&this._appendQueueProps(o),this._curQueueProps},e.prototype._addAction=function(t){return t.t=this.duration,this._actions.push(t),this},e.prototype._set=function(t,e){for(var r in t)e[r]=t[r]},e.prototype.setPaused=function(t){return this.paused=t,this._manager._register(this,!t),this},e.prototype.wait=function(t,e){if(null==t||0>=t)return this;var r=this._curQueueProps.clone();return this._addStep({d:t,p0:r,p1:r,v:e})},e.prototype.to=function(t,e,r){return(isNaN(e)||0>e)&&(e=0),this._addStep({d:e||0,p0:this._curQueueProps.clone(),e:r,p1:this._appendQueueProps(t).clone()})},e.prototype.call=function(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return this._addAction({f:t,p:r,o:e?e:this.target})},e.prototype.set=function(t,e){return this._addAction({f:this._set,o:this,p:[t,e||this.target]})},e.prototype.play=function(t){return t||(t=this),this.call(t.setPaused,t,!1)},e.prototype.pause=function(t){return t||(t=this),this.call(t.setPaused,t,!0)},e.prototype.tick=function(t){this.paused||this.setPosition(this._prevPosition+t)},e.prototype.onRecycle=function(){this._int=void 0},e}(egret.EventDispatcher);e.IGNORE={},t.Tween=e,__reflect(e.prototype,"junyou.Tween")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this._tweens=[],this._plugins={}}return e.prototype.get=function(e,r,i,n){return n&&this.removeTweens(e),new t.Tween(e,r,i,this)},e.prototype.removeTweens=function(t){if(t.tween_count){for(var e=this._tweens,r=0,i=0,n=e.length;n>i;i++){var o=e[i];o.target==t?(o.paused=!0,o.onRecycle()):e[r++]=o}e.length=r,t.tween_count=0}},e.prototype.removeTween=function(t){if(t)for(var e=this._tweens,r=e.length-1;r>=0;r--){var i=e[r];if(i==t){i.paused=!0,e.splice(r,1),i.onRecycle();break}}},e.prototype.pauseTweens=function(t){if(t.tween_count)for(var e=this._tweens,r=e.length-1;r>=0;r--)e[r].target==t&&(e[r].paused=!0)},e.prototype.resumeTweens=function(t){if(t.tween_count)for(var e=this._tweens,r=e.length-1;r>=0;r--)e[r].target==t&&(e[r].paused=!1)},e.prototype.tick=function(t,e){if(this._tweens.length)for(var r=this._tweens.concat(),i=r.length-1;i>=0;i--){var n=r[i];e&&!n.ignoreGlobalPause||n.paused||n.tick(n._useTicks?1:t)}},e.prototype._register=function(t,e){var r=t.target,i=this._tweens;if(e&&!t._registered)r&&(r.tween_count=r.tween_count>0?r.tween_count+1:1),i.push(t);else{r&&r.tween_count--;for(var n=i.length;n--;)if(i[n]==t)return i.splice(n,1),void t.onRecycle()}},e.prototype.removeAllTweens=function(){for(var t=this._tweens,e=0,r=t.length;r>e;e++){var i=t[e];i.paused=!0,i.onRecycle(),i.target.tweenjs_count=0}t.length=0},e.prototype.hasActiveTweens=function(t){return t?null!=t.tweenjs_count&&!!t.tweenjs_count:this._tweens&&!!this._tweens.length},e.prototype.installPlugin=function(t,e){var r=t.priority;null==r&&(t.priority=r=0);for(var i=0,n=e.length,o=this._plugins;n>i;i++){var a=e[i];if(o[a]){for(var s=o[a],u=0,h=s.length;h>u&&!(r<s[u].priority);u++);o[a].splice(u,0,t)}else o[a]=[t]}},e}();t.TweenManager=e,__reflect(e.prototype,"junyou.TweenManager")}(junyou||(junyou={}));