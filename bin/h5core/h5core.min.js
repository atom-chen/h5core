function zeroize(t,e){void 0===e&&(e=2);for(var i=""+t,n="",r=0,o=e-i.length;o>r;r++)n+="0";return n+i}function $(){function t(t,e){return 1==r?void(e?i.push(t):i.pushOnce(t)):(r=1,void(n.src=t))}function e(e,n){return function(){return r=n,i.length>0?t(i.shift()):void 0}}var i=[],n=new Image,r=0;return n.onerror=e(this,-1),n.onload=e(this,2),t}var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),junyou;!function(t){function e(t){return function(e,i){var n=e._injectProxys;n||(e._injectProxys=n={}),n[i]=t}}var i=function(){function e(t){this._name=t,this.checkInject()}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),e.prototype.checkInject=function(){var e=this._injectProxys;if(e){var i=void 0;for(var n in e){var r=e[n];i="object"==typeof r?t.Facade.getNameOfInline(r):r;var o=t.proxyCall(i);this[n]=o,o._$isDep=!0,this.addDepend(o)}}},e.prototype.addReadyExecute=function(e,i){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this._asyncHelper;o||(this._asyncHelper=o=new t.AsyncHelper,o._ready=this.isReady),o.addReadyExecute.apply(o,[e,i].concat(n))},Object.defineProperty(e.prototype,"isReady",{get:function(){return!1},enumerable:!0,configurable:!0}),e.prototype.startSync=function(){},e.prototype.addDepend=function(e){this._dependerHelper||(this._dependerHelper=new t.DependerHelper(this,this.dependerReadyCheck)),this._dependerHelper.addDepend(e)},e.prototype.dependerReadyCheck=function(){},e.prototype.onRegister=function(){},e.prototype.onRemove=function(){},e.prototype.afterAllReady=function(){},e}();t.FHost=i,__reflect(i.prototype,"junyou.FHost",["junyou.IDepender","junyou.IAsync"]),t.__dependProxy=e}(junyou||(junyou={})),function(t){t.d_dependProxy=t.__dependProxy}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),Object.defineProperty(i.prototype,"guid",{get:function(){return this._guid},enumerable:!0,configurable:!0}),i.prototype.init=function(t){this._creator=t,this.enabled=!0,this.stageEvent(),this.bindChildren()},i.prototype.stageEvent=function(t){var e=t?this.off:this.on;e.call(this,"addedToStage",this.awake,this),e.call(this,"removedFromStage",this.sleep,this)},i.prototype.awake=function(){},i.prototype.sleep=function(){},i.prototype.dispose=function(){this.removeAllListeners()},i.prototype.bindChildren=function(){},i.prototype.drawDele=function(){if(this._creator){var t=this._creator.size,e=this.graphics;e.lineStyle(2,65280),e.beginFill(255,.3),e.drawRect(t.x,t.y,t.width,t.height)}},i.prototype.setLayoutBoundsSize=function(t,e){},i.prototype.getPreferredBounds=function(t){},i.prototype.setLayoutBoundsPosition=function(t,e){},i.prototype.getLayoutBounds=function(t){},Object.defineProperty(i.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled!=t&&this.$setEnabled(t)},enumerable:!0,configurable:!0}),i.prototype.$setEnabled=function(e){this._enabled=e,this.touchEnabled=e,this.touchChildren=e,this._useDisableFilter&&(e?this.filters=void 0:this.filters=t.FilterUtils.gray)},Object.defineProperty(i.prototype,"view",{get:function(){return this},enumerable:!0,configurable:!0}),i}(egret.Sprite);t.Component=e,__reflect(e.prototype,"junyou.Component")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){}return Object.defineProperty(e.prototype,"suiData",{get:function(){return this._suiData},enumerable:!0,configurable:!0}),e.prototype.bindSuiData=function(t){this._suiData=t},e.prototype.parseData=function(t,e){this._parsed||(this._parsed=!0,this.bindSuiData(e),t&&(this.setBaseData(t[1]),this.parseSelfData(t[2])))},e.prototype.parseSize=function(t){t&&(this.size=new egret.Rectangle(t[0],t[1],t[2],t[3]))},e.prototype.createElement=function(e){return t.singleton(t.SuiResManager).getElement(this._suiData,e)},e.prototype.setBaseData=function(t){this._baseData=t},e.prototype.parseSelfData=function(t){},e.prototype.get=function(){var e=this._createT();return e.suiRawRect=this.size,e instanceof t.Component&&e.init(this),this._baseData&&t.SuiResManager.initBaseData(e,this._baseData),e},e}();t.BaseCreator=e,__reflect(e.prototype,"junyou.BaseCreator")}(junyou||(junyou={}));var $gm,junyou;!function(t){function e(e,i,n,r){t.RequestLimit.check(e,r)?this._send(e,i,n):t.dispatch(-189,e)}t.NSBytesLen={0:0,1:1,5:8,6:4,7:4,8:8},t.nsHeader={cmd:0,len:0};var i=function(){function i(){var e=this;this.netChange=function(){navigator.onLine?(t.dispatch(-192),e.showReconnect()):t.dispatch(-191)},this.baseConTime=1e4,this.maxConTime=6e4,this._reconCount=0,this._nextAutoTime=0,this._router=new t.NetRouter,this._pcmdList=[],this._tmpList=[],this._readBuffer=new t.ByteArray,this._sendBuffer=new t.ByteArray,this._tempBytes=new t.ByteArray,this._receiveMSG={},window.addEventListener&&(addEventListener("online",this.netChange),addEventListener("offline",this.netChange)),t.on(-190,this.onawake,this)}return i.prototype.setLimitEventEmitable=function(t){t?this.send=e:delete this.send},i.get=function(){return this._ins},i.prototype.showReconnect=function(){this._reconCount+=1;var e=this._reconCount*this.baseConTime,i=this.maxConTime;e>i&&(e=i),this._nextAutoTime=t.Global.now+e,t.dispatch(-194,this._reconCount)},i.prototype.onawake=function(){this._reconCount=0,this._nextAutoTime=t.Global.now+this._autoTimeDelay},i.prototype.regReceiveMSGRef=function(t,e){this._receiveMSG[t]=e},i.prototype.register=function(t,e,i){return void 0===i&&(i=0),this._register(t,e,i,!1)},i.prototype.regOnce=function(t,e,i){return void 0===i&&(i=0),this._register(t,e,i,!0)},i.prototype.remove=function(t,e){this._router.remove(t,e)},i.prototype._register=function(t,e,i,n){return t>32767||-32768>t?!1:(this._router.register(t,e,i,n),!0)},i.prototype.send=function(e,i,n,r){t.RequestLimit.check(e,r)&&this._send(e,i,n)},i.prototype.disconnect=function(){},i.prototype.sendPassive=function(e,i,n){for(var r=this._pcmdList,o=r.length,a=0,s=r;a<s.length;a++){var u=s[a];if(u.cmd==e)return void(u.data=i)}var h=t.recyclable(t.NetSendData);h.cmd=e,h.data=i,h.msgType=n,this._pcmdList[o]=h},i.prototype.writeToBuffer=function(e,i){var n=i.cmd,r=i.data,o=i.msgType;if(e.writeShort(n),void 0==r){this.writeBytesLength(e,0)}else switch(o in t.NSBytesLen&&this.writeBytesLength(e,t.NSBytesLen[o]),o){case 0:break;case 1:e.writeBoolean(r);break;case 5:e.writeDouble(r);break;case 6:e.writeInt(r);break;case 7:e.writeUnsignedInt(r);break;case 8:e.writeInt64(r);break;case 2:e.writeUTF(r);break;case 4:var a=r;e.writeUnsignedShort(a.length),e.writeBytes(a);break;default:var s=this._tempBytes;s.clear(),t.PBUtils.writeTo(r,i.msgType,s),this.writeBytesLength(e,s.length),e.writeBytes(s)}},i.prototype.decodeBytes=function(e){for(var i=this._receiveMSG,n=this._tmpList,r=0,o=t.nsHeader,a=this.decodeHeader;;){if(!a(e,o))break;var s=o.cmd,u=o.len,h=e.position+u,c=i[s];if(void 0!==c){var l=!0,p=void 0;if(u>0){if(c in t.NSBytesLen){var f=t.NSBytesLen[c];f>u&&(l=!1)}if(l)switch(c){case 0:break;case 1:p=e.readBoolean();break;case 5:p=e.readDouble();break;case 6:p=e.readInt();break;case 7:p=e.readUnsignedInt();break;case 8:p=e.readInt64();break;case 2:p=e.readUTFBytes(u);break;case 4:p=e.readByteArray(u);break;default:p=t.PBUtils.readFrom(c,e,u)}}if(l){var d=t.recyclable(t.NetData);d.cmd=s,d.data=p,n[r++]=d}}e.position=h}for(var y,v=this._router,y=0;r>y;y++){var d=n[y];v.dispatch(d)}},i.prototype.decodeHeader=function(t,e){if(t.readAvailable<4)return!1;e.cmd=t.readShort();var i=t.readUnsignedShort();return t.readAvailable<i?(t.position-=4,!1):(e.len=i,!0)},i.prototype.writeBytesLength=function(t,e){t.writeUnsignedShort(e)},i.prototype.route=function(e,i){var n=t.recyclable(t.NetData);n.cmd=e,n.data=i,this._router.dispatch(n)},i}();t.NetService=i,__reflect(i.prototype,"junyou.NetService")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this.swis={},this.liss=[],this._stas=[]}return Object.defineProperty(e.prototype,"states",{get:function(){return this._stas},enumerable:!0,configurable:!0}),e.prototype.add=function(t){this.liss.pushOnce(t)},e.prototype.remove=function(t){this.liss.remove(t)},e.prototype.addToStates=function(){for(var t=arguments,e=t[0],i=1;i<t.length;i++)this.addToState(t[i],e)},e.prototype.removeAllState=function(t){if(t)for(var e=this._stas,i=0;i<e.length;i++)this.removeFromState(e[i],t)},e.prototype.removeFromState=function(t,e){var i=this.swis[t];return i&&i.remove(e)},e.prototype.addToState=function(e,i){i||t.ThrowError("addToState没有设置正确!");var n=this.swis[e];if(n){if(~n.indexOf(i))return}else this.swis[e]=n=[],this._stas.push(e);n.push(i),this.current==e&&i.awakeBy(this.current)},e.prototype.clear=function(){this.swis={},this.liss.length=0,this.current=void 0},e.prototype.setState=function(t){var e=this.current;if(e!=t){this.current=t;var i=this.swis,n=i[e],r=i[t],o=r&&r.length||0;if(this.checkBeforeSleep)for(var a=0;o>a;a++){var s=r[a];s.beforeLastSleep&&s.beforeLastSleep(t)}if(n)for(var a=0;a<n.length;a++){var s=n[a];r&&~r.indexOf(s)||s.sleepBy&&s.sleepBy(t)}for(var a=0;o>a;a++){var s=r[a];s.awakeBy&&s.awakeBy(t)}var u=this.liss;if(u)for(var a=0;a<u.length;a++)u[a].setState(t)}},e.prototype.isInState=function(t,e){void 0==e&&(e=this.current);var i=this.swis[e];return i?i.indexOf(t)>-1:void 0},e}();t.StateMachine=e,__reflect(e.prototype,"junyou.StateMachine",["junyou.IStateListener"])}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(e){var i=t.call(this)||this;return i.id=e,i}return __extends(e,t),e}(egret.Sprite);t.GameLayer=e,__reflect(e.prototype,"junyou.GameLayer");var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return egret.sys.$TempStage.stageWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return egret.sys.$TempStage.stageHeight},enumerable:!0,configurable:!0}),e}(e);t.UILayer=i,__reflect(i.prototype,"junyou.UILayer");var n=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.prototype.$doAddChild=function(i,n,r){if(void 0===r&&(r=!0),"depth"in i)return t.GameEngine.invalidateSort(),e.prototype.$doAddChild.call(this,i,n,r);throw new Error("Only IDepth can be added to this LayerID("+this.id+")")},i.prototype.sort=function(){this.$children.doSort("depth")},i}(e);t.SortedLayer=n,__reflect(n.prototype,"junyou.SortedLayer")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this.d=0,this.f=0,this.idx=0,this.nextRenderTime=0,this.renderedTime=0,this._playSpeed=1}return e.onSlowRender=function(){t.dispatch(-1996)},Object.defineProperty(e.prototype,"playSpeed",{get:function(){return this._playSpeed},set:function(t){0>t&&(t=0),t!=this._playSpeed&&(this._playSpeed=t)},enumerable:!0,configurable:!0}),e.prototype.onData=function(i,n){var r=this.nextRenderTime;if(n>r){var o=this.renderedTime,a=n-r;a>2e3&&(0!=r&&e.dispatchSlowRender&&t.Global.callLater(e.onSlowRender),r=n,o=n);var s=i.frames,u=this.idx,h=s.length-1,c=this.playSpeed*e.globalPlaySpeed,l=void 0;if(c>0)for(c=1/c,.01>c&&(c=.01);;){if(l=s[u],!l){if(this.idx=0,this.isComplete(i))return void this.doComplete(n);u=0,l=s[0];break}var p=l.t*c;if(0>=p){p=n-o;break}if(r=o+p,!(n>r))break;l.e&&this.dispatchEvent(l.e,n),o=r,u++}else l=s[u];if(this.idx=u,this.renderedTime=o,this.nextRenderTime=r,this.willRenderFrame=l,u>h&&(this.idx=0,this.isComplete(i)))return void this.doComplete(n)}},e.prototype.isComplete=function(t){return!t.isCircle},e.prototype.doRender=function(t){this.willRenderFrame&&(this.clearRes(),this.renderFrame(this.willRenderFrame,t))},e.prototype.renderFrame=function(t,e){this.f=t.f},e.prototype.clearRes=function(){},e.prototype.dispatchEvent=function(t,e){},e.prototype.doComplete=function(t){},e.globalPlaySpeed=1,e}();t.BaseRender=e,__reflect(e.prototype,"junyou.BaseRender",["junyou.IDrawInfo"])}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){}return e.prototype.getCastPoint=function(e,i){if(this.castPoints){var n=this.castPoints[t.PstUtils.getADKey(e,i)];if(n)return n}},e.prototype.init=function(e,i){this.key=e,this._resources={};var n=new r(e);this.splitInfo=n,n.parseSplitInfo(i[1]),this.frames=n.parseFrameData(i[2]);var o=i[3];if(o){this.headY=+o[0],this.hurtY=+o[1];var a=o[2];if(a){var s={};this.castPoints=s;for(var u in a)for(var h=a[u],c=0;8>c;c++){var l=h[c>4?8-c:c];if(l){var p=new egret.Point;s[t.PstUtils.getADKey(+u,c)]=p,p.x=+l[0],p.y=+l[1]}}}}},e.prototype.decodeImageDatas=function(t){for(var e in t){var i=this.getResource(e);i.decodeData(t[e])}},e.prototype.getResource=function(e){var i=this._resources[e];return i||(i=new t.UnitResource(e,this.splitInfo),this._resources[e]=i),i},e.prototype.getUnitResource=function(t){var e=this.getResource(t);return e.loadData(),e},e}();t.PstInfo=e,__reflect(e.prototype,"junyou.PstInfo");var i=function(){function e(t){this._key=t}return e.prototype.parseFrameData=function(e){var i={};for(var n in e){var r=+n;i[r]=t.getActionInfo(e[r],r)}return i},e}();t.SplitInfo=i,__reflect(i.prototype,"junyou.SplitInfo"),t.PstUtils={getADKey:function(t,e){return t<<8|e},getAFromADKey:function(t){return t>>8},getDFromADKey:function(t){return 255&t}};var n=function(){function t(t,i){for(var n=t;i>=n;n++)e.push(String.fromCharCode(n))}var e=[];return t(97,122),t(65,90),e}(),r=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.prototype.parseFrameData=function(e){this._resDict={};var i={};this.adDict=i;var n={};for(var r in e){var o=+r;n[o]=t.getActionInfo(e[o],o);for(var a=0;5>a;a++){var s=this.getResource(a,o);i[s]=[t.PstUtils.getADKey(o,a)]}}return n},i.prototype.parseSplitInfo=function(t){this._n=t.n||"{a}{d}",this._a=t.a||n,this._d=t.d},i.prototype.getResource=function(e,i){function n(t,e){var i=t+"";return e&&t in e&&(i=e[t]),i}var r=t.PstUtils.getADKey(i,e),o=this._resDict[r];return o||(this._resDict[r]=o=this._n.substitute({f:this._key,a:n(i,this._a),d:n(e,this._d)})),o},i}(i);t.OneADSInfo=r,__reflect(r.prototype,"junyou.OneADSInfo")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(){}return Object.defineProperty(t.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"total",{get:function(){return this._total},enumerable:!0,configurable:!0}),t.prototype.setShakeTarget=function(t){return this._target=t,this},t.prototype.setTargetPos=function(t,e){var i=this._target;void 0===t&&(t=i?i.x:0),void 0===e&&(e=i?i.y:0),this._cx=t,this._cy=e},t.prototype.start=function(){this._target&&(this._shaking=!0)},t.prototype.end=function(){if(this._shaking){var t=this._target;t.x=this._cx,t.y=this._cy,this._shaking=!1}},t.prototype.dispose=function(){this._target=void 0},t}();t.BaseShake=e,__reflect(e.prototype,"junyou.BaseShake",["junyou.Shake"])}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){}return e.prototype.getAction=function(t){return e.defaultAction},e.prototype.playAction=function(e,i,n){var r=this.getAction(i);r?(e.setMountType(r.mountType),e.doAction(n,r.action)):t.ThrowError("未实现动作{mountType:"+i+"}")},e.prototype.start=function(t,e){this._isEnd=!1},e.prototype.doData=function(t,e){},Object.defineProperty(e.prototype,"canStop",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.terminate=function(){},e.prototype.playComplete=function(t,e){this._isEnd=!0},Object.defineProperty(e.prototype,"isEnd",{get:function(){return this._isEnd},enumerable:!0,configurable:!0}),e.prototype.dispatchEvent=function(t,e,i){},e.prototype.doRender=function(t,e){},e.prototype.recycle=function(){this._isEnd=!0},e.defaultAction={mountType:0,action:0},e}();t.UnitAction=e,__reflect(e.prototype,"junyou.UnitAction")}(junyou||(junyou={})),Object.defineProperties(Object.prototype,{clone:{value:function(){var t={};for(var e in this)t[e]=this[e];return t},writable:!0},getPropertyDescriptor:{value:function(t){var e=Object.getOwnPropertyDescriptor(this,t);if(e)return e;var i=Object.getPrototypeOf(this);return i?i.getPropertyDescriptor(t):void 0},writable:!0},copyto:{value:function(t){for(var e in this){var i=t.getPropertyDescriptor(e);(!i||i.set||i.writable)&&(t[e]=this[e])}},writable:!0},equals:{value:function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];e.length||(e=Object.getOwnPropertyNames(t));for(var n=0;n<e.length;n++){var r=e[n];if(this[r]!=t[r])return!1}return!0},writable:!0}}),Object.defineProperties(Function.prototype,{isSubClass:{value:function(t){if("function"!=typeof t)return!1;for(var e=this.prototype,i=!1;null!==e&&e!==Object;){if(e===t){i=!0;break}e=e.prototype}return!0},writable:!0}}),Math.DEG_TO_RAD=Math.PI/180,Math.RAD_TO_DEG=180/Math.PI,Math.PI2=2*Math.PI,Math.PI_1_2=.5*Math.PI,Math.clamp=function(t,e,i){return e>t&&(t=e),t>i&&(t=i),t},Math.random2=function(t,e){return t+Math.random()*(e-t)},Math.random3=function(t,e){return t-e+2*Math.random()*e},Number.isSafeInteger||(Number.isSafeInteger=function(t){return 9007199254740991>t&&t>=-9007199254740991}),Object.defineProperties(Number.prototype,{zeroize:{value:function(t){return zeroize(this,t)},writable:!0},between:{value:function(t,e){return this>=t&&e>=this},writable:!0}}),Object.defineProperties(String.prototype,{zeroize:{value:function(t){return zeroize(this,t)},writable:!0},substitute:{value:function(){var t=arguments.length;if(t>0){var e;if(1==t?(e=arguments[0],"object"!=typeof e&&(e=arguments)):e=arguments,e instanceof Object&&!(e instanceof RegExp))return this.replace(/\{(?:%([^{}]+)%)?([^{}]+)\}/g,function(t,i,n){var r=e[n];if(i){var o=String.subHandler[i];o&&(r=o(r))}return void 0!==r?""+r:t})}return this.toString()},writable:!0},hash:{value:function(){for(var t=this.length,e=5381,i=0;t>i;i++)e+=(e<<5)+this.charCodeAt(i);return 4294967295&e},writable:!0},trueLength:{value:function(){var t=this.match(/[\u2E80-\u9FBF]/gi);return this.length+(t?t.length:0)},writable:!0}}),String.zeroize=zeroize,String.regSubHandler=function(t,e){this.subHandler[t]=e},Object.defineProperties(Date.prototype,{format:{value:function(t,e){function i(){return e?u.getDate():u.getUTCDate()}function n(){return e?u.getMonth():u.getUTCMonth()}function r(){return e?u.getFullYear():u.getUTCFullYear()}function o(){return e?u.getHours():u.getUTCHours()}function a(){return e?u.getMinutes():u.getUTCMinutes()}function s(){return e?u.getSeconds():u.getUTCSeconds()}var u=this;return t.replace(/"[^"]*"|'[^']*'|(?:d{1,2}|m{1,2}|yy(?:yy)?|([hHMs])\1?)/g,function(t){switch(t){case"d":return i();case"dd":return zeroize(i());case"M":return n()+1;case"MM":return zeroize(n()+1);case"yy":return(r()+"").substr(2);case"yyyy":return r();case"h":return o()%12||12;case"hh":return zeroize(o()%12||12);case"H":return o();case"HH":return zeroize(o());case"m":return a();case"mm":return zeroize(a());case"s":return s();case"ss":return zeroize(s());default:return t.substr(1,t.length-2)}})},writable:!0}}),Array.binaryInsert=function(t,e,i){for(var n=[],r=3;r<arguments.length;r++)n[r-3]=arguments[r];for(var o=t.length-1,a=0;o>=a;){var s=a+o>>1,u=t[s];i.apply(void 0,[u].concat(n))?o=s-1:a=s+1}t.splice(a,0,e)},Array.SORT_DEFAULT={number:0,string:"","boolean":!1},Object.freeze(Array.SORT_DEFAULT),Object.defineProperties(Array.prototype,{cloneTo:{value:function(t){t.length=this.length;var e=this.length;t.length=e;for(var i=0;e>i;i++)t[i]=this[i]},writable:!0},appendTo:{value:function(t){for(var e=this.length,i=0;e>i;i++)t.push(this[i])},writable:!0},pushOnce:{value:function(t){var e=this.indexOf(t);return~e||(e=this.length,this[e]=t),e},writable:!0},remove:{value:function(t){var e=this.indexOf(t);return~e?(this.splice(e,1),!0):!1},writable:!0},doSort:{value:function(){for(var t,e,i=arguments.length,n=0;i>n;n++){var r=arguments[n],o=typeof r;"string"===o?t=r:e=!!r}return t?this.sort(function(i,n){return e?n[t]-i[t]:i[t]-n[t]}):this.sort(function(t,i){return e?i-t:t-i})},writable:!0},multiSort:{value:function(t,e){var i=Array.isArray(e);return this.sort(function(n,r){for(var o=Array.SORT_DEFAULT,a=0,s=t.length;s>a;a++){var u=t[a],h=i?!!e[a]:!!e,c=n[u],l=r[u],p=typeof c,f=typeof l;if("object"==p||"object"==f)return 0;if(p!=f)if("undefined"==p)l=o[f];else{if("undefined"!=f)return 0;c=o[p]}if(l>c)return h?1:-1;if(c>l)return h?-1:1}return 0})},writable:!0}});var junyou;if(function(t){function e(t,e){return egret.is(t,egret.getQualifiedClassName(e))}function i(t){t&&t.parent&&t.parent.removeChild(t)}t.is=e,t.removeDisplay=i}(junyou||(junyou={})),"undefined"==typeof window.Map||!window.Map){var PolyfillMap=function(){function t(){this._keys=[],this._values=[],this._size=0}return t.prototype.set=function(t,e){var i=this._keys,n=i.indexOf(t);if(~n)this._values[n]=e;else{var r=this._size;i[r]=t,this._values[r]=e,this._size++}return this},t.prototype.get=function(t){var e=this._keys.indexOf(t);return~e?this._values[e]:void 0},t.prototype.has=function(t){return~this._keys.indexOf(t)},t.prototype["delete"]=function(t){var e=this._keys,i=e.indexOf(t);return~i?(e.splice(i,1),this._values.splice(i,1),this._size--,!0):!1},t.prototype.forEach=function(t,e){for(var i=this._keys,n=this._values,r=0,o=this._size;o>r;r++)t(n[r],i[r],e)},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._size=0},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),t}();window.Map=PolyfillMap}var egret;!function(t){!function(){var e=t.Bitmap.prototype;e.refreshBMD=function(){var t=this.texture;null!=t&&(this.texture=null,this.texture=t)};var i=t.Bitmap.prototype.$refreshImageData;e.$refreshImageData=function(){i.call(this);var t=this.$Bitmap,e=t[1];e&&(t[13]=e.width,t[14]=e.height)};var n=new t.HtmlTextParser;t.TextField.prototype.setHtmlText=function(t){void 0==t?t="":"number"==typeof t&&(t+=""),this.textFlow=t?n.parser(t):junyou.Temp.EmptyArray};var r=t.EventDispatcher.prototype;r.removeAllListeners=function(){var t=this.$EventDispatcher;t[1]={},t[2]={}},r.removeListeners=function(t,e){var i=this.$getEventMap(e),n=i[t];n&&(n.length=0)},r.on=r.addEventListener,r.off=r.removeEventListener,r.hasListen=r.hasEventListener,r.dispatch=r.dispatchEventWith;var o=t.DisplayObject.prototype;o.off=o.removeEventListener,o.removeListeners=function(e,i){var n;this.$getEventMap(i);"enterFrame"==e?n=t.DisplayObject.$enterFrameCallBackList:"render"==e&&(n=t.DisplayObject.$renderCallBackList),n&&n.remove(this),r.removeListeners.call(this,e,i)},o.removeAllListeners=function(){var e=this.$EventDispatcher;e[1]={},e[2]={},t.DisplayObject.$enterFrameCallBackList.remove(this),t.DisplayObject.$renderCallBackList.remove(this)},t.Graphics.prototype.drawRectangle=function(t){this.drawRect(t.x,t.y,t.width,t.height)}}()}(egret||(egret={}));var junyou;!function(t){function e(t,e,i){return function(n,r,o){var a=n._interests;a||(n._interests=a={});var s={};s.handler=o.value,s.priority=i||0,s.trigger=e,a[t]=s}}var i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.prototype.interest=function(t,e,i,n){var r={};r.handler=e,r.priority=n||0,r.trigger=i,this._interests[t]=r},i.prototype.removeSkinListener=function(t){t&&(t.off("removedFromStage",this.stageHandler,this),t.off("addedToStage",this.stageHandler,this))},i.prototype.addSkinListener=function(t){t&&(t.on("removedFromStage",this.stageHandler,this),t.on("addedToStage",this.stageHandler,this))},Object.defineProperty(i.prototype,"isReady",{get:function(){return this._ready},enumerable:!0,configurable:!0}),i.prototype.stageHandler=function(e){var i,n,r=this._interests;if("addedToStage"==e.type){for(i in r)n=r[i],t.on(i,n.handler,this,n.priority),n.trigger&&n.handler.call(this);this.awake&&this.awake()}else{for(i in r)n=r[i],t.off(i,n.handler,this);this.sleep&&this.sleep()}},i}(t.FHost);t.ViewController=i,__reflect(i.prototype,"junyou.ViewController"),t.interest=e}(junyou||(junyou={})),function(t){t.d_interest=t.interest}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.touchTapTime=500,t._scrollType=0,t.globalspeed=1,t.minEndSpeed=1e-4,t.blockSpeed=.98,t._moveSpeed=0,t._deriction=0,t._key="y",t._sizeKey="height",t}return __extends(i,e),Object.defineProperty(i.prototype,"scrollType",{get:function(){return this._scrollType},set:function(t){if(this._scrollType!=t){this._scrollType=t;var e=void 0,i=void 0;0==t?(e="y",i="height"):(e="x",i="width"),this._sizeKey=i,this._key=e,this.checkScrollBarView()}},enumerable:!0,configurable:!0}),i.prototype.checkScrollBarView=function(){var t=this._content;if(t){var e=this._scrollbar;if(e){var i=this,n=i._key,r=i._sizeKey,o=i._scrollType;e.scrollType=o;var a=t.scrollRect;e.bgSize=a[r],e[n]=t[n]}}},i.prototype.onScrollBarAdded=function(){this.alwaysShowBar?this._scrollbar.alpha=1:this._scrollbar.alpha=0},i.prototype.bindObj=function(t,e,i){t.scrollRect=e;var n=this._content;n!=t&&n&&(n.off("touchBegin",this.onTargetTouchBegin,this),n.off(-1999,this.contentSizeChange,this),t.stage.off("touchMove",this.moveOnContent,this),t.off("touchEnd",this.endTouchContent,this),t.off("touchReleaseOutside",this.endTouchContent,this)),this._content=t,"scroller"in t&&(t.scroller=this),t.touchEnabled=!0,t.on("touchBegin",this.onTargetTouchBegin,this),t.on(-1999,this.contentSizeChange,this),i?(this._scrollbar=i,this._useScrollBar=!0,this.checkScrollBarView(),this.scaleBar(),i.stage?this.onScrollBarAdded():i.on("addedToStage",this.onScrollBarAdded,this)):this._useScrollBar=!1,this.scrollToHead()},i.prototype.drawTouchArea=function(e){if(e=e||this._content){var i=e.graphics;if(i){i.clear(),i.beginFill(0,0);var n=t.Temp.EgretRectangle;e.getBounds(n),i.drawRectangle(n),i.endFill()}}},i.prototype.bindObj2=function(t,e,i){t.x=e.x,t.y=e.y,e.x=0,e.y=0,this.bindObj(t,e,i)},i.prototype.contentSizeChange=function(){this._useScrollBar&&this.scaleBar()},i.prototype.onTargetTouchBegin=function(e){var i=this._content;if(i){var n,r=i.scrollRect;if(0==this._scrollType){if(i.measuredHeight<r.height)return;n=e.stageY}else{if(i.measuredWidth<r.width)return;n=e.stageX}var o=t.Global.now;this._st=o,this._lastMoveTime=o,this._lastTargetPos=n,i instanceof egret.DisplayObjectContainer&&(this._touchChildren=i.touchChildren),i.stage.on("touchMove",this.moveOnContent,this),i.on("touchEnd",this.endTouchContent,this),i.on("touchReleaseOutside",this.endTouchContent,this),this.showBar()}},i.prototype.moveOnContent=function(e){var i;i=0==this._scrollType?e.stageY:e.stageX;var n=i-this._lastTargetPos;this._deriction=n>0?1:-1,n=Math.abs(n);var r=t.Global.now,o=r-this._lastMoveTime;r-this._st>this.touchTapTime&&void 0!=this._touchChildren&&(this._content.touchChildren=!1),this._lastMoveTime=r,this._lastTargetPos=i,this._moveSpeed=o>0?n/o:0,n=n*this.globalspeed*this._deriction,this.doScrollContent(n)},i.prototype.stopTouchTween=function(){this._moveSpeed=0,this._content.off("enterFrame",this.onEnterFrame,this)},i.prototype.onEnterFrame=function(){var e=this._content;if(e){if(0==this._moveSpeed)return e.off("enterFrame",this.onEnterFrame,this),void this.hideBar();var i=t.Global.now,n=i-this._lastFrameTime,r=this._moveSpeed,o=r*this._deriction*n*this.globalspeed;this.doScrollContent(o),this._lastFrameTime=i,r*=this.blockSpeed,r<this.minEndSpeed&&(r=0),this._moveSpeed=r}},i.prototype.endTouchContent=function(e){var i=this._content;if(i){i instanceof egret.DisplayObjectContainer&&(i.touchChildren=this._touchChildren,this._touchChildren=void 0);var n=i.stage||egret.sys.$TempStage;n.off("touchMove",this.moveOnContent,this),i.off("touchEnd",this.endTouchContent,this),i.off("touchReleaseOutside",this.endTouchContent,this);var r=t.Global.now;r-this._lastMoveTime<150?(i.on("enterFrame",this.onEnterFrame,this),this._lastFrameTime=this._lastMoveTime):this.hideBar()}},i.prototype.showBar=function(){if(this._useScrollBar&&!this.alwaysShowBar){var e=t.Global.getTween(this._scrollbar,void 0,void 0,!0);e.to({alpha:1},500)}},i.prototype.hideBar=function(){if(this._useScrollBar&&!this.alwaysShowBar){var e=t.Global.getTween(this._scrollbar,void 0,void 0,!0);e.to({alpha:0},1e3)}},i.prototype.doScrollContent=function(t){var e=this._content;if(e){var i=e.scrollRect,n=this._key,r=i[n],o=r,a=this.scrollEndPos;o-=t;var s=this._moveSpeed;0>o?(o=0,s=0):o>a&&(o=a,s=0),this._moveSpeed=s,r!=o&&(i[n]=o,e.scrollRect=i,e.dispatch(-1051)),this.doMoveScrollBar(t)}},i.prototype.doMoveScrollBar=function(t){var e=this._scrollbar;if(e){var i=e.bar,n=t/this._piexlDistance,r=this._key,o=i[r]-n;if(0>=o)o=0;else{var a=e.bgSize-e.barSize;o>=a&&(o=a)}i[r]=o}},i.prototype.scrollTo=function(t){if(0>=t)this.scrollToHead();else if(t>=this.scrollEndPos)this.scrollToEnd();else{var e=this._content.scrollRect[this._key];this.doScrollContent(t-e)}},i.prototype.scrollToHead=function(){var t=this._content;if(t){this._moveSpeed>0&&(this._moveSpeed=0,t.off("enterFrame",this.onEnterFrame,this));var e,i=t.scrollRect,n=this._scrollbar;n&&(e=n.bar);var r=this._key;i[r]=0,e&&(e[r]=0),t.scrollRect=i}},i.prototype.scrollToEnd=function(){var t=this._content;if(t){var e,i,n=t.scrollRect,r=this.scrollEndPos,o=this._scrollbar;o&&(i=o.bgSize-o.barSize,e=o.bar);var a=this._key;n[a]=r,e&&(e[a]=i),t.scrollRect=n}},i.prototype.scaleBar=function(){var t=this._content;if(t){var e;e=0==this._scrollType?t.measuredHeight:t.measuredWidth;var i=this._scrollbar,n=i.bgSize,r=n/e;r>=1&&(r=1),i.barSize=n*r,this._piexlDistance=e/n,this.checkAndResetBarPos()}},Object.defineProperty(i.prototype,"scrollEndPos",{get:function(){var t=this._content;if(!t)return 0;var e,i,n=t.scrollRect;return 0==this._scrollType?(e=t.measuredHeight,i=n.height):(e=t.measuredWidth,i=n.width),e-i},enumerable:!0,configurable:!0}),i.prototype.checkAndResetBarPos=function(){var t=this._content.scrollRect,e=this._scrollbar,i=e.bar,n=this.scrollEndPos,r=this._key,o=t[r]/n;o=0>=o?0:e.bgSize*o-e.barSize,i[r]=o},i}(egret.EventDispatcher);t.Scroller=e,__reflect(e.prototype,"junyou.Scroller")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._list=[],e._selectedIndex=-1,e._dataLen=0,e}return __extends(e,t),Object.defineProperty(e.prototype,"dataLen",{get:function(){return this._dataLen},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),e.prototype.doRender=function(t,e){var i,n=this._data;void 0==e&&(e=t);for(var r=t;e>=r;r++)if(i=this._get(r)){i.inited===!1&&(i.bindComponent&&i.bindComponent(),i.inited=!0);var o=i.data;(!o||o!=n[r]||i.dataChange)&&(i.data=n[r],i.handleView&&i.handleView(),i.dataChange&&(i.dataChange=!1))}},Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(t){if(!(this._selectedIndex==t&&t>=0)){if(0>t){var e=this._selectedItem;return e&&(e.selected=!1,this._selectedItem=void 0),void(this._selectedIndex=t)}this.$setSelectedIndex(t)}},enumerable:!0,configurable:!0}),e.prototype.$setSelectedIndex=function(t){var e,i=this._list,n=i.length-1;t>n&&(t=n),e=this._list[t],this.changeRender(e,t)},e.prototype.getItemAt=function(t){return t>>>=0,this._list[t]},e.prototype.selectItemByData=function(t,e,i){void 0===i&&(i=!1);for(var n=this._data,r=n.length,o=0;r>o;o++)if(t in n[o]&&n[o][t]==e){this.selectedIndex=o;break}},e.prototype.forEach=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=this._data,r=this._list,o=this._dataLen,a=0;o>a;a++){var s=n[a],u=r[a];
t.apply(void 0,[s,u,a].concat(e))}},e.prototype.find=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=this._data,r=this._list,o=this._dataLen,a=0;o>a;a++){var s=n[a],u=r[a];if(t.apply(void 0,[s,u,a].concat(e)))return u}},Object.defineProperty(e.prototype,"selectedItem",{get:function(){return this._selectedItem},enumerable:!0,configurable:!0}),e.prototype.updateByKey=function(t,e,i){var n=this;this.find(function(r,o,a){return r[t]==e?(n.updateByIdx(a,void 0===i?r:i),!0):void 0})},e.prototype.onTouchItem=function(t){var e=t.target;this.changeRender(e)},e.prototype.changeRender=function(t,e){var i=this._selectedItem;i!=t&&(void 0==e&&(e=this._list.indexOf(t)),i&&(i.selected=!1),this._selectedItem=t,this._selectedIndex=e,t.selected=!0,this.onChange(),this.dispatch(-1052))},e.prototype.getAllItems=function(){return this._list},Object.defineProperty(e.prototype,"length",{get:function(){return this._list.length},enumerable:!0,configurable:!0}),e.prototype.refresh=function(){var t=this._data;if(t)for(var e=t.length,i=0;e>i;i++)this.refreshAt(i)},e.prototype.refreshAt=function(t,e){var i=this._get(t);(e||i.view.stage)&&(i.data=this._data[t],"function"==typeof i.handleView&&i.handleView(),i.dataChange&&(i.dataChange=!1))},e.prototype.onChange=function(){},e}(egret.EventDispatcher);t.AbsPageList=e,__reflect(e.prototype,"junyou.AbsPageList")}(junyou||(junyou={}));var junyou;!function(t){function e(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];for(var r=e.prototype,o=0,a=Object.getOwnPropertyNames(r);o<a.length;o++){var s=a[o];if(!i||~i.indexOf(s)){var u=r.getPropertyDescriptor(s);u?Object.defineProperty(t,s,u):t[s]=r[s]}}return t}function i(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];for(var r=t.prototype,o=e.prototype,a=0,s=Object.getOwnPropertyNames(o);a<s.length;a++){var u=s[a];(!i||~i.indexOf(u))&&(u in r||(r[u]=o[u]))}return t}function n(t,e){var n=function(){};return Object.assign?Object.assign(n.prototype,t.prototype,e.prototype):(n=i(n,t),n=i(n,e)),n}function r(t,e,i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}function o(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];for(var o=0;o<i.length;o++){var a=i[o];r(t,e,a)}}t.expandInstance=e,t.expand=i,t.getMixin=n,t.copyProperty=r,t.copyProperties=o}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return i._suiData=t,i}return __extends(i,e),i.prototype.parseSelfData=function(t){var e=this;"number"==typeof t&&(0>t&&(this.isjpg=!0),this._createT=function(){var i=new egret.Bitmap;return i.texture=e._suiData.getTexture(t),e.bindEvent(i),i})},i.prototype.bindEvent=function(t){t.on("addedToStage",this.onAddedToStage,this),t.on("removedFromStage",this.onRemoveFromStage,this)},i.prototype.onAddedToStage=function(t){var e=this._suiData;if(e){var i=t.currentTarget;e.checkRefreshBmp(i,this.isjpg)}},i.prototype.onRemoveFromStage=function(e){var i=this._suiData;if(i){var n=this.isjpg?i.jpgbmd:i.pngbmd;n.using--,n.lastUseTime=t.Global.now}},i}(t.BaseCreator);t.BitmapCreator=e,__reflect(e.prototype,"junyou.BitmapCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._label="",t.TouchDown.bindItem(i),i}return __extends(i,e),i.prototype.useDisableFilter=function(t){this._useDisableFilter=t},i.prototype.bindChildren=function(){this.txtLabel&&this.addChild(this.txtLabel),this.refresh(!0)},Object.defineProperty(i.prototype,"label",{get:function(){return this._label},set:function(t){var e=this.txtLabel;e&&this._label!=t&&(e.text=t,this._label=t)},enumerable:!0,configurable:!0}),i.prototype.$setEnabled=function(t){e.prototype.$setEnabled.call(this,t),this.refresh()},Object.defineProperty(i.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected!=t&&this.$setSelected(t)},enumerable:!0,configurable:!0}),i.prototype.$setSelected=function(t){this._selected=t,this.refresh()},i.prototype.refresh=function(i){var n=this.$getBtnFrame(),r=this.bitmaps[n],o=this._currentBmp;r||(r=this.bitmaps[0]),o!=r&&(i=!0,t.removeDisplay(o),this._currentBmp=r),i&&(this.floor&&e.prototype.addChild.call(this,this.floor),r&&e.prototype.addChild.call(this,r),this.txtLabel&&e.prototype.addChild.call(this,this.txtLabel),this.ceil&&e.prototype.addChild.call(this,this.ceil),this._children&&e.prototype.addChild.call(this,this._children))},i.prototype.$getBtnFrame=function(){return+!this._enabled<<1|+this._selected},i.prototype.bindTouch=function(t,e,i,n){this.on("touchTap",t,e,n,i)},i.prototype.looseTouch=function(t,e,i){this.off("touchTap",t,e,i)},i.prototype.addChild=function(t){var e=this._children;return e||(this._children=e=new egret.DisplayObjectContainer,this.refresh(!0)),e.addChild(t),t},i.prototype.dispose=function(){e.prototype.dispose.call(this),t.TouchDown.looseItem(this)},i}(t.Component);t.Button=e,__reflect(e.prototype,"junyou.Button",["junyou.IButton"]);var i=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return __extends(n,i),n.prototype.parseSelfData=function(i){var n,r=this;i[0]&&(n=new t.TextFieldCreator,n.setBaseData(i[0][1]),n.parseSelfData(i[0][2]));for(var o=[],a=1;5>a;a++){var s=i[a];s&&(o[a-1]=s)}this._createT=function(){var t=new e;n&&(t.txtLabel=n.get());for(var a=[],s=0;4>s;s++)o[s]&&(a[s]=r.createElement(o[s]));a[1]||(a[1]=a[0]);var u;return a[2]||(a[2]=a[0],u=!0),a[3]||(a[3]=a[2]),t.bitmaps=a,i[5]&&(t.floor=r.createElement(i[5]),u=!0),i[6]&&(t.ceil=r.createElement(i[6]),u=!0),t.useDisableFilter(u),t}},n}(t.BaseCreator);t.ButtonCreator=i,__reflect(i.prototype,"junyou.ButtonCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(e,i){this.$layoutBins=new t.ArraySet,i=i||new egret.Sprite,this._host=i,this._basis=e,t.on(-1998,this.onResize,this),i.on("removedFromStage",this.offStage,this),i.on("addedToStage",this.onStage,this),i.stage&&this.onStage()}return e.prototype.resetBasis=function(t){this._basis=t},e.prototype.getFixedNarrow=function(t,e,i,n,r){var o=t,a=e,s=t/i,u=e/n,h=i,c=n;u>s==!r?(a=t*n/i,c=n*e/a):(o=e*i/n,h=i*t/o);var l=o/i;return{dw:o,dh:a,scale:l,lw:h,lh:c}},e.prototype.onStage=function(){this._host.stage.on("resize",this.onResize,this),this.onResize()},e.prototype.offStage=function(){egret.sys.$TempStage.off("resize",this.onResize,this)},Object.defineProperty(e.prototype,"view",{get:function(){return this._host},enumerable:!0,configurable:!0}),e.prototype.remove=function(t){return this.$layoutBins["delete"](t.hashCode)},e.prototype.addLayout=function(e,i,n,r,o,a,s,u){void 0===i&&(i=5);var h=this.$layoutBins;n=n||e;var c=e.hashCode;if(!h.get(c)){var l={dis:e,type:i,hoffset:r,voffset:o,outerV:a,outerH:s,size:n};h.set(c,l),u?t.removeDisplay(e):this._host.addChild(e);var p=e.stage;p&&this.binLayout(l),e.on("addedToStage",this.onAdded,this)}},e.prototype.onAdded=function(t){var e=t.currentTarget,i=e.$layoutHost;if(i){var n=i.$layoutBins;if(n){var r=n.get(e.hashCode);r&&this.binLayout(r)}}},e.prototype.binLayout=function(e){var i=e.dis,n=e.type,r=e.hoffset,o=e.voffset,a=e.outerV,s=e.outerH,u=e.size,h=t.Temp.SharedPoint1;t.Layout.getLayoutPos(u.width,u.height,this._lw,this._lh,n,h,r,o,a,s),i.x=h.x,i.y=h.y},e.prototype.$doLayout=function(){t.Global.callLater(this.layoutAll,0,this)},e.prototype.layoutAll=function(){var t=this.$layoutBins;if(t)for(var e=t.rawList,i=0,n=e.length;n>i;)this.binLayout(e[i++])},e.MIN=Object.freeze({width:0,height:0}),e}();t.LayoutContainer=e,__reflect(e.prototype,"junyou.LayoutContainer")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){}return e.prototype.itemClick=function(){var e=this._data;if(e){var i=e.callBack;i&&i.call(t.Menu.currentShow,e)}},e.prototype.getSize=function(){return this._size},Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this.$setData(t)},enumerable:!0,configurable:!0}),e.prototype.$setData=function(t){this._data=t},Object.defineProperty(e.prototype,"skin",{get:function(){return this._skin},set:function(t){t!=this._skin&&this.$setSkin(t)},enumerable:!0,configurable:!0}),e.prototype.$setSkin=function(t){this._skin=t,this._size=t.getBounds(),t.on("touchTap",this.itemClick,this),this.bindComponent()},e.prototype.bindComponent=function(){},Object.defineProperty(e.prototype,"view",{get:function(){return this._skin},enumerable:!0,configurable:!0}),e}();t.MenuBaseRender=e,__reflect(e.prototype,"junyou.MenuBaseRender")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t._list=[],t._selectedIndex=-1,t}return __extends(i,e),i.prototype.addItem=function(t){t&&(this._list.pushOnce(t),t.on("touchTap",this.touchHandler,this))},i.prototype.getAllItems=function(){return this._list},Object.defineProperty(i.prototype,"length",{get:function(){return this._list.length},enumerable:!0,configurable:!0}),i.prototype.getItemAt=function(t){return t>>>=0,this._list[t]},i.prototype.removeAt=function(t){t>>>=0;var e=this._list;if(t<e.length){var i=e[t];return this.removeItem(i),i}},i.prototype.touchHandler=function(t){this.$setSelectedItem(t.target)},i.prototype.removeItem=function(t){return t?(this._selectedItem==t&&this.$setSelectedItem(),this._list.remove(t),t.off("touchTap",this.touchHandler,this),t):void 0},i.prototype.addItems=function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];this.addItem(e)}},Object.defineProperty(i.prototype,"selectedItem",{get:function(){return this._selectedItem},set:function(t){this.$setSelectedItem(t)},enumerable:!0,configurable:!0}),i.prototype.$setSelectedItem=function(e){var i=this._selectedItem;if(i!=e){i&&(i.selected=!1);var n=-1;return e&&(n=this._list.indexOf(e),~n?e.selected=!0:(e=void 0,t.ThrowError("Group 设置的组件未添加到该组"))),this._selectedItem=e,this._selectedIndex=n,this.dispatch(-1020)}},Object.defineProperty(i.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(t){this.$setSelectedIndex(t)},enumerable:!0,configurable:!0}),i.prototype.$setSelectedIndex=function(t){if(this._selectedIndex!=t){var e=t>=0?this._list[t]:void 0;this.$setSelectedItem(e)}},i.prototype.clear=function(){for(var t=this._list,e=0;e<t.length;e++){var i=t[e];i.off("touchTap",this.touchHandler,this)}t.length=0,this._selectedIndex=-1},i.prototype.onRecycle=function(){this.clear()},i}(egret.EventDispatcher);t.Group=e,__reflect(e.prototype,"junyou.Group")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(e){var i=t.call(this,e)||this;return i._readyState=0,i}return __extends(e,t),Object.defineProperty(e.prototype,"isReady",{get:function(){return 2==this._readyState&&this._selfReady},enumerable:!0,configurable:!0}),e.prototype.startSync=function(){return 2==this._readyState?this.selfReady():0==this._readyState&&(this._readyState=1,this._startSync()),!1},e.prototype._startSync=function(){},e.prototype.selfReady=function(){this.parseSelfData(),this._selfReady=!0,this._dependerHelper?this._dependerHelper.check():this.allReadyHandler()},e.prototype.parseSelfData=function(){},e.prototype.dependerReadyCheck=function(){this._selfReady&&this.allReadyHandler()},e.prototype.allReadyHandler=function(){2!=this._readyState&&(this.afterAllReady(),this._readyState=2,this._asyncHelper&&this._asyncHelper.readyNow())},e}(t.FHost);t.Proxy=e,__reflect(e.prototype,"junyou.Proxy")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(){}return t.prototype.onRecycle=function(){this.data=void 0,this.msgType=void 0},t}();t.NetSendData=e,__reflect(e.prototype,"junyou.NetSendData",["junyou.IRecyclable"]);var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(e);t.NetData=i,__reflect(i.prototype,"junyou.NetData")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this.dispatchList=[],this._listenerMaps={}}return e.prototype.register=function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=!1);var r=this._listenerMaps,o={handler:e,priority:i,once:n},a=r[t];if(a){var s=void 0,u=a.length;for(s=0;u>s;s++){var h=a[s];if(h.handler==e){if(h.priority==i)return!1;a.splice(s,1),u--;break}}for(s=0;u>s;s++)if(i>a[s].priority)return a.splice(s,0,o),!0;a[u]=o}else a=[],r[t]=a,a.push(o);return!0},e.prototype.remove=function(t,e){var i=this._listenerMaps,n=i[t];if(!n)return!1;for(var r=n.length,o=0;r>o;o++)if(n[o].handler==e)return n.splice(o,1),1==r&&delete i[t],!0;return!1},e.prototype.dispatch=function(t){egret.callLater(this._dispatch,this,t)},e.prototype._dispatch=function(e){var i=e.cmd,n=this._listenerMaps[i];if(n){for(var r=this.dispatchList,o=0,a=n.length;a>o;o++)r[o]=n[o];for(var s,u,s=0;o>s;s++){var u=r[s];try{u.handler(e)}catch(h){t.ThrowError("NetHander Error:"+JSON.stringify(e),h)}if(u.once&&this.remove(i,u.handler),e.stopPropagation)break}e.recycle()}},e}();t.NetRouter=e,__reflect(e.prototype,"junyou.NetRouter")}(junyou||(junyou={}));var junyou;!function(t){function e(e,i){return function(n,r){new s(r,function(){i?"function"==typeof this.dispatch&&this.dispatch(e):t.dispatch(e,this)}).reset(n)}}function i(t,e,i){var n=null,r=null;if("function"==typeof i.value?(n="value",r=i.value):"function"==typeof i.get&&(n="get",r=i.get),!r)throw new Error("not supported");var o="$memoize$"+e;i[n]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.hasOwnProperty(o)||Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:r.apply(this,t)}),this[o]}}function n(t,e){for(var i=t[r],n=i.length,o=0;n>o;o+=2){var a=i[o],s=i[o+1];a.call(s,e,t)}}t.d_fire=e,t.d_memoize=i;var r="__listeners__",o="__bindables__",a=0,s=function(){function e(t,e,i,n){this.isExecuting=!1,this.property=t,this.handler=e,this.next=n,this.thisObject=i}return e.watch=function(t,i,n,r){if(i.length>0){var o=i.shift(),a=e.watch(null,i,n,r),s=new e(o,n,r,a);return s.reset(t),s}},e.checkBindable=function(e,i){var s=e[o];if(s&&-1!=s.indexOf(i))return!0;var u=egret.is(e,"egret.IEventDispatcher");u||e[r]||(e[r]=[]);var h=e.getPropertyDescriptor(i);if(h&&h.set&&h.get){var c=h.set;h.set=function(e){this[i]!=e&&(c.call(this,e),u?t.PropertyEvent.dispatchPropertyEvent(this,-2e3,i):n(this,i))}}else{if(h&&(h.get||h.set))return!1;a++;var l="_"+a+i;e[l]=h?h.value:null,h={enumerable:!0,configurable:!0},h.get=function(){return this[l]},h.set=function(e){this[l]!=e&&(this[l]=e,u?t.PropertyEvent.dispatchPropertyEvent(this,-2e3,i):n(this,i))}}Object.defineProperty(e,i,h),t.registerBindable(e,i)},e.prototype.unwatch=function(){this.reset(null),this.handler=null,this.next&&(this.next.handler=null)},e.prototype.getValue=function(){return this.next?this.next.getValue():this.getHostPropertyValue()},e.prototype.setHandler=function(t,e){this.handler=t,this.thisObject=e,this.next&&this.next.setHandler(t,e)},e.prototype.reset=function(t){var i=this.host;if(i)if(i instanceof egret.EventDispatcher)i.off(-2e3,this.wrapHandler,this);else{var n=i[r],o=n.indexOf(this);n.splice(o-1,2)}if(this.host=t,t)if(e.checkBindable(t,this.property),t instanceof egret.EventDispatcher)t.on(-2e3,this.wrapHandler,this,!1,100);else{var n=t[r];n.push(this.onPropertyChange),n.push(this)}return this.next&&this.next.reset(this.getHostPropertyValue()),this},e.prototype.getHostPropertyValue=function(){return this.host?this.host[this.property]:null},e.prototype.wrapHandler=function(t){this.onPropertyChange(t.property,t.currentTarget)},e.prototype.onPropertyChange=function(t,e){if(t==this.property&&!this.isExecuting)try{this.isExecuting=!0,this.next&&this.next.reset(this.getHostPropertyValue()),this.thisObject?this.handler.call(this.thisObject,this.getValue()):this.handler.call(e,this.getValue())}finally{this.isExecuting=!1}},e}();t.Watcher=s,__reflect(s.prototype,"junyou.Watcher")}(junyou||(junyou={})),function(t){var e=function(){function e(){}return e.bindProperty=function(e,i,n,r){var o=t.Watcher.watch(e,i,null,null);if(o){var a=function(t){n[r]=t};o.setHandler(a,null),a(o.getValue())}return o},e.bindHandler=function(e,i,n,r){var o=t.Watcher.watch(e,i,n,r);return o&&n.call(r,o.getValue()),o},e}();t.Binding=e,__reflect(e.prototype,"junyou.Binding")}(junyou||(junyou={})),function(t){var e=function(t){function e(e,i,n,r){var o=t.call(this,e,i,n)||this;return o.property=r,o}return __extends(e,t),e.dispatchPropertyEvent=function(t,i,n){if(!t.hasListen(i))return!0;var r=egret.Event.create(e,i);r.property=n;var o=t.dispatchEvent(r);return egret.Event.release(r),o},e}(egret.Event);t.PropertyEvent=e,__reflect(e.prototype,"junyou.PropertyEvent")}(junyou||(junyou={})),function(t){function e(t,e){if(t.hasOwnProperty(i))t[i].push(e);else{var n=[e];t[i]&&(n=t[i].concat(n)),t[i]=n}}var i="__bindables__";t.registerBindable=e}(junyou||(junyou={}));var junyou;!function(t){t.sendToUrl=$()}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.onOpen=function(){i._ws.onopen=null,t.dispatch(-197)},i.onError=function(e){t.dispatch(-196)},i.onClose=function(e){t.dispatch(-195)},i.onData=function(t){var e,n=i._readBuffer,r=new Uint8Array(t.data),o=n.position,a=n.buffer,s=a.byteLength;if(s>o){var u=new Uint8Array(a),h=s-o,c=r.length;e=new Uint8Array(h+c);var l=0,p=void 0;for(p=0;h>p;p++)e[l++]=u[o+p];for(p=0;c>p;p++)e[l++]=r[p]}else e=r;n.replaceBuffer(e.buffer),n.position=0,i.decodeBytes(n)},t.NetService._ins=i,i}return __extends(i,e),i.prototype.setUrl=function(t){if(this._actionUrl!=t){this._actionUrl=t;var e=this._ws;e&&e.readyState<=WebSocket.OPEN&&this.connect()}},i.prototype.connect=function(){var t=this._ws;t&&(t.onclose=null,t.onerror=null,t.onmessage=null,t.onopen=null),this._ws=t=new WebSocket(this._actionUrl),t.binaryType="arraybuffer",t.onclose=this.onClose,t.onerror=this.onError,t.onmessage=this.onData,t.onopen=this.onOpen},i.prototype._send=function(e,i,n){var r=this._ws;if(r.readyState==WebSocket.OPEN){var o=t.recyclable(t.NetSendData);o.cmd=e,o.data=i,o.msgType=n;var a=this._sendBuffer;a.reset(),this.writeToBuffer(a,o),o.recycle();for(var s=this._pcmdList,u=0,h=s;u<h.length;u++){var c=h[u];this.writeToBuffer(a,c),c.recycle()}s.length=0,r.send(a.outBytes)}},i}(t.NetService);t.WSNetService=e,__reflect(e.prototype,"junyou.WSNetService")}(junyou||(junyou={}));var junyou;!function(t){function e(e){if(void 0===e&&(e=1),"Unknown"==egret.Capabilities.supportVersion){var i=window;if(i.indexedDB=i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,i.indexedDB){i.IDBTransaction=i.IDBTransaction||i.webkitIDBTransaction||i.msIDBTransaction,i.IDBKeyRange=i.IDBKeyRange||i.webkitIDBKeyRange||i.msIDBKeyRange,i.URL=window.URL||i.webkitURL;var n="iOS"==egret.Capabilities.os?!1:!(!window.Blob||!window.URL),r=function(e){function i(t,i){try{var n=indexedDB.open(u,e)}catch(a){return i&&i(a)}n.onerror=function(t){i&&i(t.error),r(t)},n.onupgradeneeded=function(t){var e=t.target.result,i=e.objectStoreNames;i.contains(u)||e.createObjectStore(u,{keyPath:o})},n.onsuccess=function(e){var i=n.result;i.onerror=r,t(i)}}function n(t,e){return t.transaction(u,e).objectStore(u)}function r(e){t.ThrowError("indexedDB error",e.error)}var o="uri",a="readwrite",s="readonly",u="res";return{save:function(t,e){i(function(i){var r=n(i,a),o=t.uri?r.put(t):r.add(t);o.onsuccess=e})},get:function(t,e){i(function(i){var r=n(i,s),o=r.get(t);o.onsuccess=function(t){e(t.target.result)}},function(t){e(null)})},"delete":function(t,e){i(function(i){var r=n(i,a),o=r["delete"](t);o.onsuccess=e})},clear:function(t){i(function(e){var i=n(e,a),r=i.clear();r.onsuccess=t})}}}(e),o=document.createElement("canvas"),a=o.getContext("2d"),s=RES.BinAnalyzer.prototype;s.loadFile=function(e,i,n){var o=this,a=e.name;if(this.fileDic[a])return i.call(n,e);var s=e.url,u=t.ConfigUtils.getResUri(s);return u?(e.uri=u,r.get(u,function(r){if(r){var u=r.local;if(u){var h=t.ConfigUtils.getResVer(r.uri);if(h==r.version)return e.data=u,e.loaded=!0,o.fileDic[a]=u,i.call(n,e)}}o.tryLoad(s,e,i,n)})):void this.tryLoad(s,e,i,n)},s.tryLoad=function(t,e,i,n){var r=this.getRequest();this.resItemDic[r.hashCode]={item:e,func:i,thisObject:n},r.open(t),r.send()},s.onLoadFinish=function(e){var i=e.target,n=i.hashCode,o=this.resItemDic,a=o[n];delete o[n];var s=a.item,u=s.local,h="complete"==e.type;h&&this.analyzeData(s,i.response),s.loaded=h;var c=s.uri;return!u&&c&&(u=this.fileDic[s.name],u&&(s.local=u,s.version=t.ConfigUtils.getResVer(c),r.save(s))),this.recycler.push(i),a.func.call(a.thisObject,s)};var u=RES.ImageAnalyzer.prototype;return u.loadFile=function(e,i,n){var o=this;if(this.fileDic[e.name])return i.call(n,e);var a=e.url,s=t.ConfigUtils.getResUri(a);s?(e.uri=s,r.get(s,function(r){if(r){var s=t.ConfigUtils.getResVer(r.uri);if(s==r.version){var u=r.local;u instanceof Blob?a=URL.createObjectURL(u):"string"==typeof u&&(a=u),e.local=u}else e.local=void 0}o.tryLoad(a,e,i,n)})):this.tryLoad(a,e,i,n)},u.tryLoad=function(t,e,i,n){var r=this.getLoader();this.resItemDic[r.$hashCode]={item:e,func:i,thisObject:n},r.load(t)},u.onLoadFinish=function(e){var i=e.$target,s=i.$hashCode,u=this.resItemDic,h=u[s];delete u[s];var c=h.item,l=c.local,p=c.uri;if(!l&&p){var f=c.url;c.version=t.ConfigUtils.getResVer(c.uri);var d=i.request;if(d&&d._url==f){var y=d.responseType;"blob"==y&&(l=d.response)}else{var v=i.data;if(v instanceof egret.BitmapData){var g=v.source,_=g.width,m=g.height,y="image/"+f.substring(f.lastIndexOf(".")+1);o.width=_,o.height=m,a.clearRect(0,0,_,m),a.drawImage(g,0,0);try{n&&0!=f.indexOf("wxLocalResource:")?o.toBlob(function(t){c.local=t,r.save(c)},y):l=o.toDataURL(y)}catch(b){}}}if(!l)if(n||"string"==typeof l)c.local=l,r.save(c);else{var w=new FileReader;w.onload=function(t){c.local=this.result,r.save(c)},w.readAsDataURL(l)}}if(c.loaded="complete"==e.$type,c.loaded){var j=new egret.Texture;j._setBitmapData(i.data),this.analyzeData(c,j)}return delete i.request,this.recycler.push(i),h.func.call(h.thisObject,c)},r}}}t.tryLocalRes=e}(junyou||(junyou={}));var junyou;!function(t){function e(t){return n[t]}function i(t,e){var i=n;return t in i?i[t]===e:(i[t]=e,!0)}var n={};t.ResourceManager={get:function(t,n,r){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var s=e(t);return s||(s=n.apply(r,o),i(t,s)),s},getTextureRes:function(e,i){var r=n,o=r[e];return o&&(o instanceof t.TextureResource||(t.ThrowError("["+e+"]资源有误，不是TextureResource"),o=void 0)),o||(o=new t.TextureResource,o.resID=e,o.url=t.ConfigUtils.getResUrl(e+(i?"":t.Global.webp)),r[e]=o),o},getResource:e,init:function(){var e=[];t.TimerUtil.addCallback(3e4,function(){var i=t.Global.now-3e5,r=n,o=0;for(var a in r){var s=r[a];!s.isStatic&&s.lastUseTime<i&&(e[o++]=a)}for(var u=0;o>u;u++){var a=e[u],s=r[a];s&&(s.dispose(),RES.destroyRes(s.url),delete r[a])}})}}}(junyou||(junyou={}));var ErrorTexture,img,junyou;!function(t){var e=function(){function e(){this._list=[]}return Object.defineProperty(e.prototype,"isStatic",{get:function(){return this._list.length>0},enumerable:!0,configurable:!0}),e.prototype.bind=function(e){this._tex&&(e.texture=this._tex,e.dispatch(-193)),this._list.pushOnce(e),this.lastUseTime=t.Global.now},e.prototype.loose=function(e){this._list.remove(e),this.lastUseTime=t.Global.now},e.prototype.load=function(){RES.getResByUrl(this.url,this.loadComplete,this,"image")},e.prototype.loadComplete=function(t,e){if(e==this.url){this._tex=t;for(var i=0,n=this._list;i<n.length;i++){var r=n[i];r.texture=t;r.dispatch(-193)}}},e.prototype.dispose=function(){this._tex&&(this._tex.dispose(),this._tex=void 0),this._list.length=0},e}();t.TextureResource=e,__reflect(e.prototype,"junyou.TextureResource",["junyou.IResource"])}(junyou||(junyou={}));var junyou;!function(t){t.MotionGuidePlugin=function(){function t(t,e){if(void 0===t.__rotGlobalS||void 0===t.__rotGlobalE){if(t.__needsRot)return;var i=t._curQueueProps;void 0!==i.rotation?t.__rotGlobalS=t.__rotGlobalE=i.rotation:t.__rotGlobalS=t.__rotGlobalE=e.rotation=t.target.rotation||0}if(void 0!==t.__guideData){var n=t.__guideData,r=t.__rotGlobalE-t.__rotGlobalS,o=t.__rotPathE-t.__rotPathS,a=r-o;if("auto"==n.orient)a>180?a-=360:-180>a&&(a+=360);else if("cw"==n.orient){for(;0>a;)a+=360;0==a&&r>0&&180!=r&&(a+=360)}else if("ccw"==n.orient){for(a=r-(o>180?360-o:o);a>0;)a-=360;0==a&&0>r&&-180!=r&&(a-=360)}n.rotDelta=a,n.rotOffS=t.__rotGlobalS-t.__rotPathS,t.__rotGlobalS=t.__rotGlobalE=t.__guideData=t.__needsRot=void 0}}function e(t,e,i){if(void 0==t._segments)throw"Missing critical pre-calculated information, please file a bug";void 0==i&&(i={x:0,y:0,rotation:0});for(var n=t._segments,r=t.path,o=t._length*e,a=n.length-2,s=0;o>n[s]&&a>s;)o-=n[s],s+=2;var u=n[s+1],h=0;for(a=u.length-1;o>u[h]&&a>h;)o-=u[h],h++;var c=h/++a+o/(a*u[h]);s=2*s+2;var l=1-c;return i.x=l*l*r[s-2]+2*l*c*r[s+0]+c*c*r[s+2],i.y=l*l*r[s-1]+2*l*c*r[s+1]+c*c*r[s+3],t.orient&&(i.rotation=57.2957795*Math.atan2((r[s+1]-r[s-1])*l+(r[s+3]-r[s+1])*c,(r[s+0]-r[s-2])*l+(r[s+2]-r[s+0])*c)),i}return{priority:0,install:function(t){t.installPlugin(this,["guide","x","y","rotation"])},init:function(t,e,i){var n=t.target;return void 0==n.x&&(n.x=0),void 0==n.y&&(n.y=0),void 0==n.rotation&&(n.rotation=0),"rotation"==e&&(t.__needsRot=!0),"guide"==e?null:i},step:function(i,n,r,o,a){if("rotation"==n&&(i.__rotGlobalS=r,i.__rotGlobalE=o,t(i,a)),"guide"!=n)return o;var s,u=o;u.hasOwnProperty("path")||(u.path=[]);var h=u.path;if(u.hasOwnProperty("end")||(u.end=1),u.hasOwnProperty("start")||(u.start=r&&r.hasOwnProperty("end")&&r.path===h?r.end:0),u.hasOwnProperty("_segments")&&u._length)return o;var c=h.length,l=10;if(!(c>=6&&(c-2)%4==0))throw"invalid 'path' data, please see documentation for valid paths";u._segments=[],u._length=0;for(var p=2;c>p;p+=4){for(var f,d,y=h[p-2],v=h[p-1],g=h[p+0],_=h[p+1],m=h[p+2],b=h[p+3],w=y,j=v,x=0,S=[],T=1;l>=T;T++){var C=T/l,D=1-C;f=D*D*y+2*D*C*g+C*C*m,d=D*D*v+2*D*C*_+C*C*b,x+=S[S.push(Math.sqrt((s=f-w)*s+(s=d-j)*s))-1],w=f,j=d}u._segments.push(x),u._segments.push(S),u._length+=x}s=u.orient,u.orient=!0;var R={};return e(u,u.start,R),i.__rotPathS=Number(R.rotation.toFixed(5)),e(u,u.end,R),i.__rotPathE=Number(R.rotation.toFixed(5)),u.orient=!1,e(u,u.end,a),u.orient=s,u.orient?(i.__guideData=u,t(i,a),o):o},tween:function(t,i,n,r,o,a,s,u){var h=o.guide;if(void 0==h||h===r.guide)return n;if(h.lastRatio!=a){var c=(h.end-h.start)*(s?h.end:a)+h.start;switch(e(h,c,t.target),h.orient){case"cw":case"ccw":case"auto":t.target.rotation+=h.rotOffS+h.rotDelta*a;break;case"fixed":default:t.target.rotation+=h.rotOffS}h.lastRatio=a}return"rotation"!=i||h.orient&&"false"!=h.orient?t.target[i]:n}}}()}(junyou||(junyou={}));var junyou;!function(t){function e(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];(r=t.UILimiter.listener).addToStates.apply(r,[e].concat(i));var r}function i(e,i){t.UILimiter.listener.addToState(e,i)}var n=function(){function e(){this._queue=[],this.listener=new t.StateMachine}return e.prototype.addLimiter=function(t){var e=this._queue;return e.indexOf(t)>-1?(t.setState(this._current),e.push(t),!0):void 0},e.prototype.setState=function(t){this._current=t;var e=this._queue;if(e)for(var i=0;i<e.length;i++){var n=e[i];n.setState(t)}var r=this.listener;r&&r.setState(t)},e.prototype.removeLimiter=function(t){return this._queue.remove(t)},e.prototype.clear=function(){this._queue.length=0},e.prototype.check=function(t){var e=this._queue;if(e)for(var i=0;i<e.length;i++){var n=e[i];if(n&&n.check(t))return!0}},e}();t.LimitQueue=n,__reflect(n.prototype,"junyou.LimitQueue",["junyou.ILimit"]);var r,o=[];t.UILimiter={impl:new n,MaxHistory:5,get current(){return r},get listener(){return this.impl.listener},enter:function(t){r!=t&&(r=t,this.impl.setState(t),o.push(t),o.length>this.MaxHistory&&o.shift())},exit:function(t){if(t=t||r,r==t){var e=o.length;o.pop();var i=e>1?o.pop():0;this.enter(i)}},check:function(t){return this.impl.check(t)}},t.addToStates=e,t.addToState=i}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(){this._list=[],this._dict={}}return Object.defineProperty(t.prototype,"rawList",{get:function(){return this._list},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rawDict",{get:function(){return this._dict},enumerable:!0,configurable:!0}),t.prototype.setRawDict=function(t){this._dict=t;var e=this._list,i=0;for(var n in t)e[i++]=t[n];return e.length=i,this},t.prototype.setRawList=function(t,e){var i=this._list,n=this._dict={},r=0;if(t)for(var o=t.length;o>r;r++){var a=t[r];n[a[e]]=a,i[r]=a}return i.length=r,this},t.prototype.set=function(t,e){var i=this._list,n=i.indexOf(e);return-1==n&&(n=i.length,i[n]=e),this._dict[t]=e,n},t.prototype.get=function(t){return this._dict[t]},t.prototype["delete"]=function(t){var e=this._dict[t];if(delete this._dict[t],e){var i=this._list.indexOf(e);i>-1&&this._list.splice(i,1)}return e},t.prototype.clear=function(){this._list.length=0,this._dict={}},Object.defineProperty(t.prototype,"size",{get:function(){return this._list.length},enumerable:!0,configurable:!0}),t}();t.ArraySet=e,__reflect(e.prototype,"junyou.ArraySet")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(t){return e.call(this,t)||this}return __extends(i,e),i.prototype.replaceBuffer=function(t){this.write_position=t.byteLength,this._bytes=new Uint8Array(t),this.data=new DataView(t)},i.prototype.readBuffer=function(t){if(this.validate(t)){var e=this.position;return this.position+=t,this.buffer.slice(e,this.position)}},i.prototype.writeInt64=function(e){this.validateBuffer(8);var i=t.Int64.fromNumber(e),n=i.high,r=i.low,o=0==this.$endian,a=this.data,s=this._position;o?(a.setUint32(s,r,o),a.setUint32(s+4,n,o)):(a.setUint32(s,n,o),a.setUint32(s+4,r,o)),this.position=s+8},i.prototype.readInt64=function(){if(this.validate(8)){var e=void 0,i=void 0,n=0==this.$endian,r=this.data,o=this._position;return n?(e=r.getUint32(o,n),i=r.getUint32(o+4,n)):(i=r.getUint32(o,n),e=r.getUint32(o+4,n)),this.position=o+8,t.Int64.toNumber(e,i)}},i.prototype.readFix32=function(){if(this.validate(4)){var t=this.data.getUint32(this._position,!0);return this.position+=4,t}},i.prototype.writeFix32=function(t){this.validateBuffer(4),this.data.setUint32(this._position,t,!0),this.position+=4},i.prototype.readSFix32=function(){if(this.validate(4)){var t=this.data.getInt32(this._position,!0);return this.position+=4,t}},i.prototype.writeSFix32=function(t){this.validateBuffer(4),this.data.setInt32(this._position,t,!0),this.position+=4},i.prototype.readFix64=function(){if(this.validate(8)){var e=this._position,i=this.data,n=i.getUint32(e,!0),r=i.getUint32(e+4,!0);return this.position=e+8,t.Int64.toNumber(n,r)}},i.prototype.writeFix64=function(e){var i=t.Int64.fromNumber(e);this.validateBuffer(8);var n=this._position,r=this.data;r.setUint32(n,i.low,!0),r.setUint32(n+4,i.high,!0),this.position=n+8},i.prototype.readByteArray=function(e){return new t.ByteArray(this.readBuffer(e))},i.prototype.writeVarint64=function(e){var i=t.Int64.fromNumber(e),n=i.high,r=i.low;if(0==n)this.writeVarint(r);else{for(var o=0;4>o;++o)this.writeByte(127&r|128),r>>>=7;0==(2147483640&n)?this.writeByte(n<<4|r):(this.writeByte(127&(n<<4|r)|128),this.writeVarint(n>>>3))}},i.prototype.writeVarint=function(t){for(;;){if(128>t)return void this.writeByte(t);this.writeByte(127&t|128),t>>>=7}},i.prototype.readVarint=function(){for(var t=0,e=0;;e+=7){if(!(32>e)){for(;this.readUnsignedByte()>=128;);break}var i=this.readUnsignedByte();if(!(i>=128)){t|=i<<e;break}t|=(127&i)<<e}return t},i.prototype.readVarint64=function(){for(var e,i,n,r=0;e=this.readUnsignedByte(),28!=r;r+=7){if(!(e>=128))return i|=e<<r,t.Int64.toNumber(i,n);i|=(127&e)<<r}if(!(e>=128))return i|=e<<r,n=e>>>4,t.Int64.toNumber(i,n);for(e&=127,i|=e<<r,n=e>>>4,r=3;;r+=7)if(e=this.readUnsignedByte(),32>r){if(!(e>=128)){n|=e<<r;break}n|=(127&e)<<r}return t.Int64.toNumber(i,n)},Object.defineProperty(i.prototype,"outBytes",{get:function(){return new Uint8Array(this._bytes.buffer,0,this.write_position)
},enumerable:!0,configurable:!0}),i.prototype.reset=function(){this.write_position=this.position=0},i}(egret.ByteArray);t.ByteArray=e,__reflect(e.prototype,"junyou.ByteArray")}(junyou||(junyou={}));var junyou;!function(t){}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(t,e){this.low=0|t,this.high=0|e}return t.prototype.toNumber=function(){return this.high*n+(this.low>>>0)},t.toNumber=function(t,e){return(0|e)*n+(t>>>0)},t.fromNumber=function(e){if(isNaN(e)||!isFinite(e))return a;if(-o>=e)return u;if(e+1>=o)return s;if(0>e){var i=t.fromNumber(-e);return i.high===u.high&&i.low===u.low?u:(i.low=~i.low,i.high=~i.high,i.add(h))}return new t(e%n|0,e/n|0)},t.prototype.add=function(e){var i=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,a=e.high>>>16,s=65535&e.high,u=e.low>>>16,h=65535&e.low,c=0,l=0,p=0,f=0;return f+=o+h,p+=f>>>16,f&=65535,p+=r+u,l+=p>>>16,p&=65535,l+=n+s,c+=l>>>16,l&=65535,c+=i+a,c&=65535,new t(p<<16|f,c<<16|l)},t}();t.Int64=e,__reflect(e.prototype,"junyou.Int64");var i=65536,n=i*i,r=n*n,o=r/2,a=new e,s=new e(-1,2147483647),u=new e(0,-2147483648),h=new e(1)}(junyou||(junyou={}));var junyou;!function(t){t.Location={getDist:function(t,e){var i=Math.DEG_TO_RAD,n=t.latitude*i,r=e.latitude*i,o=n-r,a=(t.longitude-e.longitude)*i;return 12756274*Math.asin(Math.sqrt(Math.pow(Math.sin(.5*o),2)+Math.cos(n)*Math.cos(r)*Math.pow(Math.sin(.5*a),2)))}}}(junyou||(junyou={}));var junyou;!function(t){function e(t,e){var i;if("object"!=typeof t){if(i=l[t],!i)return void(f[t]=e)}else i=t;Object.defineProperty(i,"def",{value:e})}function i(e,i,s){void 0===s&&(s=-1);var u=0;s>-1&&(u=i.bytesAvailable-s);var h="object"==typeof e?e:l[e];if(!h)return void t.ThrowError("非法的通信类型["+e+"]");for(var p=Object.create(h.def);i.bytesAvailable>u;){var f=i.readVarint();if(0!=f){var d=f>>>3,y=h[d];if(y){var v=y[0],g=y[1],_=y[2],m=y[3],b=void 0,w=3==g;if(!w||7!=(7&f))switch(_){case 1:b=i.readDouble();break;case 2:b=i.readFloat();break;case 3:case 4:case 18:b=i.readVarint64();break;case 5:b=i.readVarint();break;case 17:b=c(i.readVarint());break;case 13:case 14:b=i.readVarint();break;case 6:case 16:b=i.readFix64();break;case 7:b=i.readFix32();break;case 8:b=i.readBoolean();break;case 9:b=r(i);break;case 10:b=void 0;break;case 11:b=o(i,m);break;case 12:b=a(i);break;case 15:b=i.readSFix32();break;default:b=n(f,i)}if(w){var j=p[v];j||(p[v]=j=[]),j.push(b)}else p[v]=b}else t.ThrowError("读取消息类型为："+e+"，索引"+d+"时数据出现错误，找不到对应的数据结构配置"),n(f,i)}}return p}function n(e,i){var n,o=7&e;switch(o){case 0:n=i.readVarint();break;case 2:n=r(i);break;case 5:n=i.readInt();break;case 1:n=i.readDouble();break;default:t.ThrowError("protobuf的wireType未知")}return n}function r(t){var e=t.readVarint();return e>0?t.readUTFBytes(e):""}function o(t,e){var n=t.readVarint();return i(e,t,n)}function a(t){var e=t.readVarint();return t.readByteArray(e)}function s(e,i,n,r){if(void 0!=e){var o="object"==typeof i?i:l[i];if(!o)return void t.ThrowError("非法的通信类型["+i+"]，堆栈信息:"+new Error);n||(n=new t.ByteArray);for(var a in o){var s=+a,h=o[s],c=h[0],f=h[1];if(1!=f||c in e){var d=e[c];if(void 0!=d&&d!==h[4]){var y=h[2],v=h[3],g=p[y],_=s<<3|g;if(3==f){for(var m in d){var b=d[m];u(b,y,void 0==b?s<<3|7:_,n,v)}}else u(d,y,_,n,v)}}}return n}}function u(e,i,n,r,o){function a(e,i){return e=+e||0,(e>4294967295||0>e)&&t.ThrowError("PBMessageUtils写入数据时候，使用的类型："+i+"，值为："+e+"，但超出整型范围。"),e}function u(e,i){return e=+e||0,(e>2147483647||-2147483648>e)&&t.ThrowError("PBMessageUtils写入数据时候，使用的类型："+i+"，值为："+e+"，但超出整型范围。"),e}switch(r.writeVarint(n),i){case 7:r.writeFix32(a(e,i));break;case 15:r.writeSFix32(u(e,i));break;case 2:r.writeFloat(e);break;case 1:r.writeDouble(e);break;case 6:case 16:r.writeFix64(e);break;case 5:r.writeVarint(u(e,i));break;case 17:r.writeVarint(h(u(e,i)));break;case 14:case 13:r.writeVarint(a(e,i));break;case 3:case 18:case 4:r.writeVarint64(e);break;case 8:r.writeVarint(e?1:0);break;case 9:case 12:case 11:if(11==i)var c=s(e,o);else 12==i?c=e:(c=new t.ByteArray,c.writeUTFBytes(e));length=c?c.length:0,r.writeVarint(length),length>0&&r.writeBytes(c,0,length)}}function h(t){return t<<1^t>>31}function c(t){return t>>1^(1&t)<<31>>31}var l={},p=[,1,5,0,0,0,1,5,0,2,,2,2,0,0,5,1,0,0],f={};t.PBUtils={regDef:e,add:function(t){if(t){var i=f;if(!t.$$inted){for(var n in t){var r=t[n];"object"!=typeof r&&(r=t[r]);var o=i[n];o&&e(r,o);for(var a in r){var s=r[a];if(4 in s){var u=r.def;u||(Object.defineProperty(r,"def",{value:{}}),u=r.def);var h=s[0];u[h]=s[4]}}r.def||Object.defineProperty(r,"def",{value:Object.prototype}),l[n]=r}t.$$inted=1}}},readFrom:i,writeTo:s}}(junyou||(junyou={}));var junyou;!function(t){function e(e){function r(t){return n[t]}return i()&&(t.DateUtils.getDefaultCDFOption=r),r(e)}function i(){if(!n){var e=t.LangUtil;return i={},i[0]={d:e.getMsg("$_ndays"),h:e.getMsg("$_nhours"),m:e.getMsg("$_nminutes"),s:e.getMsg("$_nsecends")},i[1]={h:e.getMsg("$_nhours"),m:e.getMsg("$_nminutes"),s:e.getMsg("$_nsecends")},i[2]={h:e.getMsg("$_nhours"),m:e.getMsg("$_nminutes")},i[3]={m:e.getMsg("$_nminutes"),s:e.getMsg("$_nsecends")},i[4]={s:e.getMsg("$_nsecends")},n=i,!0}var i}var n,r=new Date,o=6e4*-r.getTimezoneOffset(),a=o;t.DateUtils={get sharedDate(){return r},getDefaultCDFOption:e,regCDFormat:function(t,e){i(),n[t]=e},initServerTime:function(t,e){o=6e4*-e,this.setServerTime(t)},setServerTime:function(t){a=t-Date.now()+o},get serverTime(){return a+Date.now()},get rawServerTime(){return this.serverTime-o},get serverDate(){return r.setTime(this.serverTime),r},getFormatTime:function(t,e,i){return void 0===i&&(i=!0),i&&(t=this.getUTCTime(t)),r.setTime(t),r.format(e)},getDayEnd:function(t){return void 0===t&&(t=this.serverTime),r.setTime(t),r.setUTCHours(23,59,59,999)},getDayStart:function(t){return void 0===t&&(t=this.serverTime),r.setTime(t),r.setUTCHours(0,0,0,0)},getUTCTime:function(t){return t+o},getCountdown:function(t,i){"number"==typeof i&&(i=e(i));var n="",r=i.d;if(r){var o=t/864e5>>0;t-=864e5*o,n+=r.substitute(o)}if(r=i.h){var a=t/36e5>>0;t-=36e5*a,n+=r.substitute(a)}if(r=i.m){var s=t/6e4>>0;t-=6e4*s,n+=r.substitute(s)}if(r=i.s){var u=t/1e3>>0;n+=r.substitute(u)}return n}}}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(t){t&&this.decode(t)}return e.prototype.decodeMinutes=function(t){return this._decode(t/60|0,t%60)},e.prototype.decodeBit=function(t){return this._decode(t>>6,63&t)},e.prototype._decode=function(t,e){return this.hour=t,this.minute=e,this.time=36e5*t+6e4*e,this.strTime=t.zeroize(2)+":"+e.zeroize(2),this},e.prototype.decode=function(e){var i=e.split(":");return i.length>=2?this._decode(+i[0],+i[1]):void t.ThrowError("时间格式不正确，不为HH:mm格式，当前配置："+e)},Object.defineProperty(e.prototype,"todayTime",{get:function(){return t.DateUtils.getDayStart()+this.time},enumerable:!0,configurable:!0}),e}();t.TimeVO=e,__reflect(e.prototype,"junyou.TimeVO")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this._callLaters=[],this._temp=[]}return e.prototype.tick=function(t){for(var e=0,i=0,n=0,r=this._callLaters,o=this._temp,a=r.length;a>e;e++){var s=r[e];t>s.time?o[i++]=s:r[n++]=s}for(r.length=n,e=0;i>e;e++)o[e].execute()},e.prototype.callLater=function(e,i,n,r){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];var s=t.CallbackInfo.addToList.apply(t.CallbackInfo,[this._callLaters,e,r].concat(o));s.time=i+(n||0)},e.prototype.clearCallLater=function(t,e){for(var i=this._callLaters,n=i.length-1;n>=0;--n){var r=i[n];if(r.checkHandle(t,e))return i.splice(n,1),r.recycle()}},e}();t.CallLater=e,__reflect(e.prototype,"junyou.CallLater")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this._sw=2,this._total=0,this._cfgs=[]}return e.prototype.setGraphis=function(t){return this._g=t,this},e.prototype.setCenter=function(t,e){return this._cX=t,this._cY=e,this},e.prototype.setRadius=function(t){return this._radius=t,this},e.prototype.setRad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=Math.PI),this._sRad=t,this._eRad=e,this._dRad=e-t,this},e.prototype.setStrokeWidth=function(t){return void 0===t&&(t=2),this._sw=t,this},e.prototype.setCfgs=function(t){for(var i=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t||(t=e.defaultColor),"number"==typeof t&&(t={color:t,weight:1}),this.reset(),this.addCfg(t),n&&n.length&&n.forEach(function(t){i.addCfg(t)}),this},e.prototype.addCfg=function(t){t=t.clone();var e=this._cfgs,i=e[e.length-1];i&&!i.noGradient&&(i.endColor=t.color);var n=this._total;return t.start=n,n+=t.weight,t.end=n,this._total=n,e.push(t),this},e.prototype.reset=function(){return this._cfgs.length=0,this._total=0,this._cfg=void 0,this},e.prototype.progress=function(e,i){0>e&&(e=0),0>i&&(i=1e-5),e>i&&(e=i),this._p=e/i,t.Global.callLater(this.render,0,this)},e.prototype.reuse=function(){this.isEnd=!1},e.prototype.clear=function(){this.isEnd=!0,this._g.clear()},e.prototype.render=function(){function t(t,e,i,n){var r=t>>n&255,o=e>>n&255;return Math.round(r+(o-r)*i)}if(!this.isEnd){for(var e,i=this._cfgs,n=i.length,r=this._p,o=r*this._total,a=0;n>a&&(e=i[a],!(e.end>o));a++);if(e){var s=(o-e.start)/e.weight,u=e.color,h=e.endColor,c=t(u,h,s,16),l=t(u,h,s,8),p=t(u,h,s,0),f=e.shine&&100*r&1;f&&(c^=p,p^=c,c^=p,l=~l);var d=c<<16|l<<8|p,y=this._g;y.clear(),y.lineStyle(this._sw,d);var v=this._sRad;y.drawArc(this._cX,this._cY,this._radius,v,v+this._dRad*r)}}},e.defaultColor=16711680,e}();t.CircleCountdown=e,__reflect(e.prototype,"junyou.CircleCountdown")}(junyou||(junyou={}));var junyou;!function(t){t.ColorUtil={getColorString:function(t){return"#"+t.toString(16).zeroize(6)},getColorValue:function(t){return/#[0-9a-f]{6}/i.test(t)?+("0x"+t.substring(1)):0}}}(junyou||(junyou={}));var junyou;!function(t){function e(t){r.appendChild(i),i.innerText=t;var e=getSelection(),o=n.createRange();o.selectNodeContents(i),e.removeAllRanges(),e.addRange(o);var a=n.execCommand("copy");return r.removeChild(i),a}var i=document.createElement("div"),n=document,r=n.documentElement;t.doCopy=e}(junyou||(junyou={}));var junyou;!function(t){function e(t,e,i,n,o){return r||(r=new egret.RenderTexture),i=i||t.getBounds(),r.drawToTexture(t,i,o),r.toDataURL(e,null,n)}function i(t){return t.substr(t.indexOf(",")+1)}function n(t){for(var e=this.getBase64(t),i=window.atob(e),n=i.length,r=new Uint8Array(n),o=0;n>o;o++)r[o]=i.charCodeAt(o);return r}var r;t.DataUrlUtils={getBase64:i,getBytes:n,getDisplayDataURL:e,getDisplayBase64:function(t,n,r,o,a){return i(e(t,n,r,o,a))},getDisplayBytes:function(t,i,r,o,a){return n(e(t,i,r,o,a))}}}(junyou||(junyou={}));var junyou;!function(t){t.FilterUtils={gray:[new egret.ColorMatrixFilter([.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0])],dark:[new egret.ColorMatrixFilter([.5,0,0,0,6.75,0,.5,0,0,6.75,0,0,.5,0,6.75,0,0,0,1,0])],blur:[new egret.BlurFilter(5,5)]}}(junyou||(junyou={}));var junyou;!function(t){function e(t,e){e=e||{};for(var i=t.length,n=0,r=0,o=0;i>o;o++){var a=t[o];n+=a.x,r+=a.y}return e.x=n/i,e.y=r/i,e}function i(t,e){var i=t.x+t.width,n=t.y+t.height,r=e.x+e.width,o=e.y+e.height;return Math.max(t.x,e.x)<=Math.min(i,r)&&Math.max(t.y,e.y)<=Math.min(n,o)}function n(t){for(var e=t[0],i=0,n=e,r=1;r<length;r++){var o=t[r];i+=(o.x-n.x)*(o.y+n.y),n=o}return i+=(e.x-n.x)*(e.y+n.y),.5*i}t.getCenter=e,t.intersects=i,t.getArea=n}(junyou||(junyou={}));var junyou;!function(t){function e(t){return r[t]}function i(t){return n[t]}var n={"&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&amp;":"&","&nbsp;":" ","&#x000A;":"\n"},r={"<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;","&":"&amp;"};t.HTMLUtil={createColorHtml:function(e,i){var n;return n="number"==typeof i?t.ColorUtil.getColorString(i):"#"!=i.charAt(0)?"#"+i:i,"<font color='"+n+"'>"+e+"</font>"},clearHtml:function(t){return t.replace(/<[^><]*?>/g,"")},escHTML:function(t){return t.replace(/<|>|"|'|&/g,e)},unescHTML:function(t){return t.replace(/&lt;|&gt;|&quot;|&apos;|&amp;|&nbsp;|&#x000A;/g,i)}}}(junyou||(junyou={}));var junyou;!function(t){var e={};t.LangUtil={getMsg:function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];return t in e?e[t].substitute(i):"string"==typeof t?t.substitute.apply(t,i):t+""},has:function(t){return t in e},regMsgDict:function(t){e=t}}}(junyou||(junyou={}));var $nl_nc,junyou;!function(t){var e=[],i=[],n=[,[],[]],r=function(){function r(t){this.setRandomFunc(t)}return r.loadNameLib=function(r){t.loadScript(r,function(){if($nl_nc){var t=$nl_nc.a,r=$nl_nc.b,o=$nl_nc.c1,a=$nl_nc.c2,s=";";t&&(e=t.split(s)),r&&(i=r.split(s)),o&&(n[1]=o.split(s)),a&&(n[2]=a.split(s)),$nl_nc=void 0}})},r.prototype.setRandomFunc=function(t){null!=t?this._random=t:this._random=Math.random},r.prototype.getName=function(t){void 0===t&&(t=1);var r="",o=n[t];if(o){var a=e.length,s=i.length,u=o.length,h=this._random;return a&&(r+=e[a*h()>>0]),s&&(r+=1&Date.now()?"":i[s*h()>>0]),u&&(r+=o[u*h()>>0]),r}},r.prototype.dispose=function(){this._random=null},r}();t.NameUtils=r,__reflect(r.prototype,"junyou.NameUtils")}(junyou||(junyou={}));var junyou;!function(t){var e={};t.RequestLimit={check:function(i,n){if(void 0===n&&(n=500),n=0|n,0>=n)return!0;var r=e[i],o=t.Global.now;if(!r)return e[i]=n+o,!0;var a=r-o;return a>0?!1:(e[i]=n+o,!0)},remove:function(t){delete e[t]}}}(junyou||(junyou={}));var junyou;!function(t){function e(t,e){return function(i){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t.call.apply(t,[e,void 0].concat(n))}}function i(e,i,n){void 0===n&&(n=2e3);var r=s++;return u[r]={id:r,expired:t.Global.now+n,success:e,error:i},c++,a||(t.TimerUtil.addCallback(1e3,o),a=!0),r}function n(e){e in u&&(delete u[e],c--,0==c&&(t.TimerUtil.removeCallback(1e3,o),a=!1))}function r(t,e,i){var r=u[t];if(r){n(t);var o,a=r.success,s=r.error;return i?("string"==typeof i&&(i=new Error(i)),s&&(o=s.call(i),s.recycle()),a&&a.recycle()):(s&&s.recycle(),a&&(o=a.call(e),a.recycle())),o}}function o(){var e=l,i=0,n=t.Global.now;for(var o in u){var a=u[o];n>a.expired&&(e[i++]=o)}for(var s=0;i>s;s++){var o=e[s];r(o,null,h)}}var a,s=1,u={},h="RPCTimeout",c=0,l=[];t.RPC={Timeout:h,callback:r,registerCallback:i,registerCallbackFunc:function(n,r,o,a){void 0===o&&(o=2e3);for(var s=[],u=4;u<arguments.length;u++)s[u-4]=arguments[u];var h=t.CallbackInfo.get.apply(t.CallbackInfo,[n,a].concat(s)),c=t.CallbackInfo.get.apply(t.CallbackInfo,[r?n:e(n,a),a].concat(s));return i(h,c,o)},removeCallback:function(t){var e=u[t];if(n(t),e){var i=e.success,r=e.error;i&&i.recycle(),r&&r.recycle()}}}}(junyou||(junyou={}));var junyou;!function(t){function e(t,e){var n=p[e];if(n){var r=n.channel;r?r.volume=t:i(n,arguments)}}function i(t,e){var i=t.actions;i||(t.actions=i=[]);for(var n=[],r=0;r<e.length;r++)n[r]=e[r];i.push([e.callee,n])}function n(t,e){l(function(i){return o(i,function(e){return e.domain==t},e)})}function r(t,e){l(function(i){return o(i,function(e){return e.id==t},e)},!0)}function o(e,i,n){var r=e.channel,o=i(e);return o&&(n?t.Global.getTween(r).to({volume:0}).call(r.stop):r.stop()),!o}function a(t){c(t)}function s(e,i,n,r,o){void 0===n&&(n=1),void 0===r&&(r=500);var a=c(e),s=a.state;if(-1==s)return 0;var h=d++;i=~~i;var l={id:h,url:e,domain:i};if(p[h]=l,2==s)u(a,l,o,n);else{l.option={startTime:o,playStart:t.Global.now,timeout:r,loop:n};var f=a.promises;f||(a.promises=f=[]),f.push(h)}return h}function u(t,e,i,n){var r=t.sound.play(i,n);r.once("complete",h,void 0),e.channel=r;var o=e.actions;if(o){for(var a=0;a<o.length;a++){var s=o[a];s[0].apply(null,s[1])}delete e.actions}}function h(t){var e=t.currentTarget;l(function(t){return t.channel!=e})}function c(e){var i=f[e];return i||(f[e]=i={url:e,sound:void 0,state:1},RES.getResByUrl(e,function(n){if(n){i.sound=n,i.state=2;var r=i.promises;if(r){delete i.promises;for(var o=t.Global.now,a=0,s=r.length;s>a;a++){var h=r[a],c=p[h];if(c){var f=c.option;if(f){delete c.option;var d=o-f.playStart;if(d<f.timeout){var y=f.startTime+d;u(i,c,y,f.loop)}else delete p[h]}}}}}else delete i.promises,i.state=-1,l(function(t){return t.url!=e})},null,"sound")),i}function l(t,e){for(var i in p){var n=p[i];if(!t(n)&&(delete p[i],e))break}}var p={},f={},d=1;t.SoundManager={play:s,preload:a,stopSound:r,stopSounds:n,volume:e}}(junyou||(junyou={}));var junyou;!function(t){t.Temp={SharedArray1:[],SharedArray2:[],SharedArray3:[],SharedRect1:{x:0,y:0,width:0,height:0},SharedRect2:{x:0,y:0,width:0,height:0},EgretPoint:new egret.Point,EgretRectangle:new egret.Rectangle,SharedPoint1:{x:0,y:0,z:0},SharedPoint2:{x:0,y:0,z:0},voidFunction:function(){},willReplacedFunction:function(){},EmptyObject:Object.freeze({}),EmptyArray:Object.freeze([]),pipeFunction:function(t){return t}}}(junyou||(junyou={}));var junyou;!function(t){function e(t){var e=0;for(var i in o){var n=o[i];if(n.nt<t){n.nt=t+n.tid;var r=n.list,u=r.length;if(u>0){for(var h=0;u>h;h++)a[h]=r[h];for(var h=0;u>h;h++)a[h].execute(!1)}u=r.length,0==u&&(s[e++]=i)}}for(var h=0;e>h;h++)delete o[s[h]]}function i(t){return 10*Math.ceil(t/10)}function n(e,n,r){for(var a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];e=i(e);var u=o[e];if(u)t.CallbackInfo.addToList.apply(t.CallbackInfo,[u.list,n,r].concat(a));else{u={},u.tid=e,u.nt=t.Global.now+e;var h=[];u.list=h,o[e]=u,h.push(t.CallbackInfo.get.apply(t.CallbackInfo,[n,r].concat(a)))}}function r(t,e,n){t=i(t);var r=o[t];if(r){for(var a=r.list,s=-1,u=0,h=a.length;h>u;u++){var c=a[u];if(c.checkHandle(e,n)){s=u;break}}~s&&a.splice(s,1),a.length||(clearInterval(r.tid),delete o[t])}}var o={},a=[],s=[];t.TimerUtil={addCallback:n,removeCallback:r,tick:e}}(junyou||(junyou={}));var junyou;!function(t){function e(t,e){return/^((http|https):)?\/\//.test(t)||(t=i(t,e)),t}var i=window.URL?function(t,e){return e=e||location.href,new URL(t,e).href}:function(t,e){return e||(e=location.href,location.href!=location.origin&&(e=e.substr(0,e.lastIndexOf("/")))),e+"/"+t};t.solveLink=e}(junyou||(junyou={}));var $dirty,junyou;!function(t){function e(e,u){var c=e.split(u);s=c.length;var l,p,f=e.length+7*s,d=/([\/*().?|+\-$\^=:!@])/g,y=/([\\\[\]])/g;if(32768>f){var v=s-1,g="(?:";for(p=0;v>p;p++)l=c[p],l&&(l=l.replace(y,"[\\$1]"),l=l.replace(d,"[$1]"),g+=l+")|(?:");if(l=c[v],l=l.replace(y,"[\\$1]"),l=l.replace(d,"[$1]"),g+=l+")|[|]",g.length<32768)return h=new RegExp(g,"g"),t.WordFilter.wordCensor=i,void(t.WordFilter.checkWord=n)}for(a=new Array(s+1),p=0;s>p;p++)l=c[p],l=l.replace(y,"[\\$1]"),l=l.replace(d,"[$1]"),a[p]=new RegExp(l,"g");a[p]=new RegExp("[|]","g"),s+=1,t.WordFilter.wordCensor=r,t.WordFilter.checkWord=o}function i(t){return t.replace(h,u)}function n(t){return h.test(t)}function r(t){for(var e=0;s>e;e++)t=t.replace(a[e],u);return t}function o(t){for(var e=0;s>e;e++)if(a[e].lastIndex=0,a[e].test(t))return!0}var a,s,u=function(t){for(var e=t.length,i="";e--;)i+="*";return i},h=/卐|妓|婊|尻|屄|屌|睾|肏|[|]/g;t.WordFilter={loadDirtyWord:function(i,n){void 0===n&&(n=";"),t.loadScript(i,function(){$dirty&&(e($dirty,n),$dirty=void 0)})},initFilterstring:e,wordCensor:i,setDirtyHandler:function(t){u=t},checkWord:n}}(junyou||(junyou={}));var junyou;!function(t){t.ClientCheck={isClientCheck:!0}}(junyou||(junyou={}));var junyou;!function(t){function e(e){n.length>t.ThrowError.MaxCount&&n.shift();var e=i(e);return n.push(e),e}function i(t){return(new Date).format("[yyyy-MM-dd HH:mm:ss]",!0)+"[info:]"+t}t.errorPrefix="";var n=[];t.ThrowError=function(i,n,r){i=t.errorPrefix+i,i+="%c",n?i+="\nError:\n[name]:"+n.name+",[message]:"+n.message:n=new Error,i+="\n[stack]:\n"+n.stack,i=e(i),console.log(i,"color:red")},t.ThrowError.MaxCount=50,t.ThrowError.errorMsg=n}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return i._layers=[],i._sortedLayers=[],i._stage=t,i.init(),i}return __extends(i,e),i.init=function(t,e){e=e||i,i.instance=new e(t)},i.addLayerConfig=function(e,n,r){void 0===n&&(n=0);var o={};o.id=e,o.parentid=n,o.ref=r||t.GameLayer,i.layerConfigs[e]=o},i.invalidateSort=function(){i.instance.invalidateSort()},i.prototype.invalidateSort=function(){this._sortDirty=!0},Object.defineProperty(i.prototype,"viewRect",{get:function(){return this._viewRect},enumerable:!0,configurable:!0}),i.prototype.getLayer=function(e){var n=this._layers,r=n[e];if(!r){var o=i.layerConfigs[e];if(!o)return;var a=o.ref;r=new a(e),this.addLayer(r,o),n[e]=r,r instanceof t.SortedLayer&&this._sortedLayers.push(r)}return r},i.prototype.sleepLayer=function(e){var i=this._layers[e];t.removeDisplay(i)},i.prototype.awakeLayer=function(t){var e=this._layers[t],n=i.layerConfigs[t];e&&n&&this.addLayer(e,n)},i.prototype.addLayer=function(t,e){if(e&&e.parentid){var i=this.getLayer(e.parentid);this.addLayerToContainer(t,i)}else this.addLayerToContainer(t,this._stage)},i.prototype.addLayerToContainer=function(e,i){for(var n=i.$children,r=e.id,o=0,a=n.length;a>o;o++){var s=n[o];if(s instanceof t.GameLayer){var u=s;if(u.id>r)break}}i.addChildAt(e,o)},i.prototype.init=function(){},i.layerConfigs={},i}(egret.EventDispatcher);t.GameEngine=e,__reflect(e.prototype,"junyou.GameEngine")}(junyou||(junyou={}));var junyou;!function(t){t.Global=function(){function e(){var e=egret.ticker||egret.sys.$ticker,i=e.render,n=0|1e3/e.$frameRate,r=[];c=new t.CallLater,l||(l=new t.TweenManager),e.render=function(){var o=Date.now(),a=o-d;d=o,a>2e3?(t.dispatch(-190),y=o):y+=n;for(var s=v.length,u=r,h=0;s>h;h++)u[h]=v[h];v.length=0;for(var h=0;s>h;h++)u[h].execute();c.tick(o),t.TimerUtil.tick(o),l.tick(a),i.call(e)}}function i(e,i){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];v.push(t.CallbackInfo.get.apply(t.CallbackInfo,[e,i].concat(n)))}function n(t,e,i){for(var n=[],r=3;r<arguments.length;r++)n[r-3]=arguments[r];return c.callLater.apply(c,[t,d,e,i].concat(n))}function r(t,e){return c.clearCallLater(t,e)}function o(t,e,i,n){return l.get(t,e,i,n)}function a(t){return l.removeTween(t)}function s(t){return l.removeTweens(t)}try{var u=0==document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}catch(h){}var c,l,p=u?".webp":"",f="Unknown"!=egret.Capabilities.supportVersion,d=0,y=0,v=[];return{initTick:e,nextTick:i,callLater:n,clearCallLater:r,getTween:o,removeTween:a,removeTweens:s,get isNative(){return f},get tweenManager(){return l||(l=new t.TweenManager)},get now(){return d},get frameNow(){return y},get webp(){return p}}}()}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.depth=0,e}return __extends(e,t),e}(egret.Sprite);t.DSprite=e,__reflect(e.prototype,"junyou.DSprite",["junyou.IDepth"])}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.state=0,t}return __extends(i,e),i.prototype.bind=function(e){var i=this.state;if(2!=i&&(this._refList||(this._refList=[]),this._refList.push(e),0==i)){var n="a/"+this.key+"/d.json";this.url=t.ConfigUtils.getResUrl(n),RES.getResByUrl(this.url,this.dataLoadComplete,this,"json"),this.state=1}},i.prototype.dataLoadComplete=function(t,e){if(e==this.url){if(t){if(this.init(this.key,t),this._refList)for(var i=0,n=this._refList;i<n.length;i++){var r=n[i];r.callback()}}else this.state=2;this._refList=void 0}},i.prototype.loose=function(t){var e=this._refList;e&&e.remove(t)},i.prototype.init=function(i,n){e.prototype.init.call(this,i,n[0]);var r=new t.UnitResource("a/"+i,this.splitInfo);r.decodeData(n[1]),this._resources=r,this.state=2},i.prototype.getResource=function(t){return this._resources},Object.defineProperty(i.prototype,"actionInfo",{get:function(){return this.frames[0]},enumerable:!0,configurable:!0}),i}(t.PstInfo);t.AniInfo=e,__reflect(e.prototype,"junyou.AniInfo")}(junyou||(junyou={}));var junyou;!function(t){function e(e){var i={a:0,d:-1,f:0,t:100},n=["a","f","t","e","d"];if(!Array.isArray(e)){if("object"==typeof e){for(var r=0;5>r;r++){var o=n[r];void 0==e[o]&&(e[o]=i[o])}return e}return i}var a=t.DataUtils.getData(e,n,i);return 0==+a.e&&(a.e=void 0),-1==a.t&&(a.t=1/0),a}function i(t,i){var n={};n.key=i;var r=t[0],o=0,a=0;return r.forEach(function(t){var i=e(t);o+=i.t,r[a++]=i}),n.frames=r,n.totalTime=o,n.isCircle=!!t[1],n}function n(t,i){i=i||r--;for(var n=[],o=0,a=0;a<t.length;a++){var s=e(t[a]);n[a++]=s,o+=s.t}return{key:i,frames:n,totalTime:o}}t.getFrameInfo=e,t.getActionInfo=i;var r=-.5;t.getCustomAction=n}(junyou||(junyou={}));var $gm,junyou;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.state=0,t.recyclePolicy=3,t.a=0,t}return __extends(i,e),Object.defineProperty(i.prototype,"guid",{get:function(){return this._guid},enumerable:!0,configurable:!0}),i.prototype.render=function(){var e=this._aniInfo;if(e){var i=e.actionInfo;if(i){var n=t.Global.now;this.onData(i,n),this.doRender(n)}}},i.prototype.doData=function(t){if(this._aniInfo){var e=this._aniInfo.actionInfo;e&&this.onData(e,t)}},i.prototype.renderFrame=function(t,e){if(t){this.f=t.f;var i=this.display;i&&i.draw(this,e)&&(this.willRenderFrame=void 0)}},i.prototype.dispatchEvent=function(t,e){var i=this.handler;i&&i.call(t,this,e)},i.prototype.doComplete=function(t){var e=this.handler;e&&e.call(-1993,this,t),this.state=2;var n=this.recyclePolicy;if(2==(2&n))i.recycle(this.guid);else{var r=this.display;r&&(r.off("enterFrame",this.render,this),1==(1&n)&&(this.display=void 0,r.recycle()))}},i.prototype.isComplete=function(t){var e=this.loop;return void 0!=e?(e--,this.loop=e,1>e):!t.isCircle},i.prototype.callback=function(){var t=this._aniInfo;if(t){var e=this,i=e.f,n=e.loop,r=e.display,o=e.state,a=t.actionInfo;if(n||void 0==n&&a.isCircle){var s=t.actionInfo.frames.length;i>s&&(i%=s)}r.res=t.getResource(),1==o&&this.checkPlay()}},i.prototype.play=function(e){var i=t.Global.now;e=void 0===e?i:e,this.plTime=i,this.renderedTime=e,this.nextRenderTime=e,this.state=1,this.resOK=!1,this._render=void 0,this.checkPlay()},i.prototype.checkPlay=function(){var e=this.display,i=e.res;if(i){var n=this._render,r=void 0;if(this.waitTexture){var o=this,a=o.a,s=o.d;if(i.isResOK(a,s)){if(!this.resOK){this.resOK=!0;var u=t.Global.now-this.plTime;this.renderedTime=this.nextRenderTime=this.renderedTime+u}r=this.render}else r=this.checkPlay,i.loadRes(a,s)}else r=this.render;n!=r&&(n&&e.off("enterFrame",n,this),r&&e.on("enterFrame",r,this)),this._render=r}},i.prototype.onRecycle=function(){var t=this.handler;t&&(t.call(-1992,this),t.recycle(),this.handler=void 0),delete i._renderByGuid[this._guid],this.state=3;var e=this.display;e&&(this.display=void 0,e.off("enterFrame",this.render,this),1==(1&this.recyclePolicy)&&e.recycle()),this._aniInfo&&(this._aniInfo.loose(this),this._aniInfo=void 0),this.idx=0,this._guid=0/0,this.waitTexture&&(this.waitTexture=!1),this.loop=void 0,this._render=void 0},i.prototype.onSpawn=function(){this.f=0,this.state=0,this.recyclePolicy=3,this._playSpeed=1},i.prototype.init=function(t,e,i){this._aniInfo=t,this.display=e,2==t.state?e.res=t.getResource():t.bind(this),this._guid=i},i.getAni=function(e,n){var r=$DD.ani,o=r[e];o||(o=new t.AniInfo,o.key=e,r[e]=o);var a,s,u=t.recyclable(t.ResourceBitmap),h=t.recyclable(i);if(n){a=n.guid;var c=n.pos,l=n.x,p=n.y;c&&(l=c.x,p=c.y),void 0!=l&&(u.x=l),void 0!=p&&(u.y=p),s=n.stop;var f=n.parent;if(f){var d=n.childIdx;void 0==d?f.addChild(u):f.addChildAt(u,d)}h.loop=n.loop,h.handler=n.handler;var y=n.recyclePolicy;void 0==y&&(y=3),h.recyclePolicy=y,h.waitTexture=!!n.waitTexture,h.f=n.start>>>0}return!a&&(a=this.guid++),this._renderByGuid[a]=h,h.init(o,u,a),s||h.play(),h},i.getRunningAni=function(t){return this._renderByGuid[t]},i.recycle=function(t){var e=this._renderByGuid[t];e&&e.recycle()},i._renderByGuid={},i.guid=1,i}(t.BaseRender);t.AniRender=e,__reflect(e.prototype,"junyou.AniRender",["junyou.IRecyclable"])}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(egret.Texture);t.JTexture=e,__reflect(e.prototype,"junyou.JTexture")}(junyou||(junyou={}));var junyou;!function(t){function e(t,e,i){for(var n=[],r=3;r<arguments.length;r++)n[r-3]=arguments[r];if(t){var o=document.createElement("script");o.type="text/javascript",o.readyState?o.onreadystatechange=function(){("loaded"===o.readyState||"complete"===o.readyState)&&(o.onreadystatechange=null,e.apply(i,n))}:o.onload=function(){e.apply(i,n)},o.src=t,document.documentElement.appendChild(o)}}t.loadScript=e}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.z=0,t}return __extends(i,e),Object.defineProperty(i.prototype,"depth",{get:function(){return this.y+this.z},enumerable:!0,configurable:!0}),i.prototype.draw=function(t,e){var i=this.res;return i?i.draw(this,t,e):void 0},Object.defineProperty(i.prototype,"rotation",{set:function(t){e.prototype.$setRotation.call(this,t)},enumerable:!0,configurable:!0}),i.prototype.onRecycle=function(){t.removeDisplay(this),this.removeAllListeners(),this.res=void 0,this.rotation=0,this.x=0,this.y=0,this.z=0,this.scaleX=1,this.scaleY=1,this.anchorOffsetX=0,this.anchorOffsetY=0,this.texture=void 0},i}(egret.Bitmap);t.ResourceBitmap=e,__reflect(e.prototype,"junyou.ResourceBitmap",["junyou.IRecyclable","junyou.IDepth"])}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(e){this.state=0,this.resID=e,this.url=t.ConfigUtils.getResUrl(e+t.Global.webp),this.textures=[]}return Object.defineProperty(e.prototype,"isStatic",{get:function(){return 1!=this.state},enumerable:!0,configurable:!0}),e.prototype.bindTextures=function(e,i){var n=this;i.forEach(function(i){var r=t.PstUtils.getAFromADKey(i),o=e[r];if(o){var a=t.PstUtils.getDFromADKey(i),s=o[a];s&&s.forEach(function(t){n.bindTexture(t)})}})},e.prototype.bindTexture=function(t){var e=this.textures;~e.indexOf(t)||(e.push(t),this.bmd&&(t._bitmapData=this.bmd))},e.prototype.load=function(){0==this.state&&(this.state=1,RES.getResByUrl(this.url,this.loadComplete,this,"image"))},e.prototype.loadComplete=function(t,e){if(e==this.url)if(t){var i=t.bitmapData;this.bmd=i,this.state=2;for(var n=this.textures,r=0;r<n.length;r++){var o=n[r];o&&(o._bitmapData=i)}}else this.state=-1},e.prototype.dispose=function(){for(var t=this.textures,e=0;e<t.length;e++){var i=t[e];i&&i.dispose()}t.length=0,this.bmd&&(this.bmd=void 0),this.state=0},e}();t.SplitUnitResource=e,__reflect(e.prototype,"junyou.SplitUnitResource",["junyou.IResource"])}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(t,e){this.state=0,this.key=t,this._splitInfo=e}return e.prototype.decodeData=function(e){function i(e){var i=new t.JTexture,n=e[0],r=e[1];i.tx=e[2]||0,i.ty=e[3]||0;var o=e[4],a=e[5];return i.$initData(n,r,o,a,0,0,o,a,o,a),i}var n={};for(var r in e){var o=[];n[r]=o;var a=e[r];if(a)for(var s=0,u=a.length;u>s;s++){var h=[];o[s]=h;var c=a[s];if(c)for(var l=0,p=c.length;p>l;l++)0!==c[l]&&(h[l]=i(c[l]))}}this._datas=n,this.state=2},e.prototype.loadData=function(){if(0==this.state){var e=this.key+"/d.json",i=t.ConfigUtils.getResUrl(e);this.url=i,this.state=1,RES.getResByUrl(i,this.dataLoadComplete,this,"json")}},e.prototype.dataLoadComplete=function(t,e){e==this.url&&this.decodeData(t)},e.prototype.draw=function(e,i,n){var r=this.getTexture(i);if(r){var o=this.loadRes(i.d,i.a);if(o.lastUseTime=t.Global.now,r.bitmapData)return e.texture=r,e.anchorOffsetX=r.tx,e.anchorOffsetY=r.ty,!0;e.texture=void 0}},e.prototype.getTexture=function(t){var e=this._datas;if(e){var i=t.a,n=t.f,r=t.d,o=e[i];if(o){var a=o[r];if(a){var s=a[n];if(s)return s}}}},e.prototype.loadRes=function(e,i){var n=this._splitInfo.getResource(e,i),r=this.key+"/"+n+".png";this._datas;return t.ResourceManager.get(r,this.noRes,this,r,n)},e.prototype.noRes=function(e,i){var n=new t.SplitUnitResource(e);return n.bindTextures(this._datas,this._splitInfo.adDict[i]),n.load(),n},e.prototype.isResOK=function(e,i){var n=this._splitInfo,r=n.getResource(e,i),o=this.key+"/"+r+".png",a=t.ResourceManager.getResource(o);return!(!a||!a.bmd)},e}();t.UnitResource=e,__reflect(e.prototype,"junyou.UnitResource")
}(junyou||(junyou={}));var junyou;!function(t){function e(t){return t.x<<16|65535&t.y}function i(t,e){return t<<16|65535&e}var n=function(t){function i(e,i){var n=t.call(this)||this;n._lx=0,n._ly=0,n._lw=1/0,n._lh=1/0,n._hScroll=!0,n._vScroll=!0,n._rect=new egret.Rectangle;var r=egret.sys.$TempStage;return e||(e=r.stageWidth),i||(i=r.stageHeight),n.setSize(e,i),n}return __extends(i,t),Object.defineProperty(i.prototype,"changed",{get:function(){var t=this._target;if(t){var i=e(t);if(i!=this._lastPos)return this._lastPos=i,!0}return this._changed},enumerable:!0,configurable:!0}),i.prototype.change=function(){this._changed=!1},i.prototype.invalidate=function(){this._changed=!0},i.prototype.lookat=function(t){return this._target=t,!!t},i.prototype.setSize=function(t,e){var i,n=this._rect;return t!=n.width&&(n.width=t,i=!0),e!=n.height&&(n.height=e,i=!0),i&&(this._changed=i,this.check()),this},i.prototype.setLimits=function(t,e,i,n){return this._lx=i||0,this._ly=n||0,this._lw=t||1/0,this._lh=e||1/0,this.check(),this},i.prototype.check=function(){var t=this,e=(t._lx,t._ly,t._lw),i=t._lh,n=t._rect,r=n.width,o=n.height,a=e>r;this._hScroll=a,a||(n.x=0),a=i>o,this._vScroll=a,a||(n.y=0)},i.prototype.moveTo=function(t,e){var i,n=this,r=n._hScroll,o=n._vScroll,a=n._rect,s=n._lx,u=n._ly,h=n._lw,c=n._lh,l=a.width,p=a.height,f=a.x,d=a.y;return r&&(t-=l>>1,t=Math.clamp(t,s,h-l),t!=f&&(a.x=t,i=!0)),o&&(e-=p>>1,e=Math.clamp(e,u,c-p),e!=d&&(a.y=e,i=!0)),this._changed=i,this},Object.defineProperty(i.prototype,"rect",{get:function(){var t=this._target;return t&&this.moveTo(t.x,t.y),this._rect},enumerable:!0,configurable:!0}),i}(egret.HashObject);t.Camera=n,__reflect(n.prototype,"junyou.Camera"),t.getPosHash=e,t.getPosHash2=i}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(){this._icdDisArr=[],this._duration=0}return t.prototype.addICDDisplay=function(t){this._icdDisArr.pushOnce(t)},t.prototype.removeICDDisplay=function(t){t.remove(),this._icdDisArr.remove(t)},t.prototype.start=function(){this.state=1,this._duration=0,this.icd.isCooling=!0,this.updateICDDisplay(1)},t.prototype.stop=function(){this.state=0,this.icd.isCooling=!1,this.updateICDDisplay(0)},t.prototype.updateICDDisplay=function(t){var e=this;this._icdDisArr.forEach(function(i){i&&(1==t?i.add(e.icd.cd):i.remove())})},t.prototype.doData=function(t){this._duration+=t;var e=this.icd.cd-this._duration;0>=e&&this.stop()},t.prototype.doRender=function(t){if(1==this.state){this._duration+=t;var e=this.icd.cd-this._duration;0>=e?this.stop():this._icdDisArr.forEach(function(e){e.doRender(t)})}},t.prototype.dispose=function(){this.state=0,this.icd.isCooling=!1,this._icdDisArr.forEach(function(t){t.dispose()}),this._icdDisArr.length=0},t}();t.Cooldown=e,__reflect(e.prototype,"junyou.Cooldown")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this._cdObj={},this._cdArr=[],this._disObj={}}return e.prototype.addDisplay=function(t,e){var i=this._cdObj[t];i&&(i.addICDDisplay(e),this._disObj[t]=e)},e.prototype.removeDisplay=function(t){var e=this._cdObj[t];if(e){var i=this._disObj[t];i&&e.removeICDDisplay(i),delete this._disObj[t]}},e.prototype.doData=function(t){if(this._cdArr.length>0)for(var e=this._cdArr,i=e.length,n=void 0,r=i-1;r>=0;r--)n=e[r],n&&(n.doData(t),0==n.state&&this._cdArr.splice(r,1))},e.prototype.doRender=function(t){if(this._cdArr.length>0)for(var e=this._cdArr,i=e.length,n=void 0,r=i-1;r>=0;r--)n=e[r],n&&n.doRender(t)},e.prototype.add=function(e,i){if(e&&e.cd){var n=new t.Cooldown;n.icd=e;var r=e.id;this._cdObj[r]=n,i&&this.addDisplay(r,i),this._cdArr.push(n)}},e.prototype.start=function(t){var e=this._cdObj[t];e&&e.start()},e.prototype.remove=function(t){if(t){var e=this._cdObj[t];e&&(e.stop(),this._cdArr.remove(e)),this.removeDisplay(t)}},e.prototype.removeByCDTime=function(t){if(t){var e=this._cdObj,i=void 0;for(var n in e)i=e[n],i&&i.icd&&i.icd.cd==t&&this.remove(+n)}},e.prototype.dispose=function(t){if(t){var e=this._cdObj[t];e&&(e.dispose(),this._cdArr.remove(e)),delete this._cdObj[t]}},e.prototype.disposeAll=function(){var t=this._cdObj;for(var e in t){var i=t[e];i&&i.dispose()}this._cdArr.length=0,this._cdObj={},this._disObj={}},e}();t.CooldownManager=e,__reflect(e.prototype,"junyou.CooldownManager")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(t,e,i){this._sl=t,this._hl=this._sl>>1,this._ox=e,this._oy=i}return t.prototype.bind=function(t){this._mask=new egret.Shape,this._g=this._mask.graphics,t&&t.addChild(this._mask)},t.prototype.unbind=function(){this._mask.parent&&this._mask.parent.removeChild(this._mask)},t.prototype.setRadian=function(e){if(this._mask.stage){var i=this._g;i.clear(),i.beginFill(t.COLOR,t.ALPHA);var n=this._hl,r=this._sl,o=this._oy,a=this._ox,s=this._x,u=this._y;e<t._45?(u=o,s=n+Math.tan(e)*n,i.moveTo(n,o),i.lineTo(n,n),i.lineTo(s,u),i.lineTo(r,o),i.lineTo(r,r),i.lineTo(a,r),i.lineTo(a,o),i.lineTo(n,o)):e>=t._45&&e<t._135?(s=r,u=n-n/Math.tan(e),i.moveTo(n,o),i.lineTo(n,n),i.lineTo(s,u),i.lineTo(r,r),i.lineTo(a,r),i.lineTo(a,o),i.lineTo(n,o)):e>=t._135&&e<t._225?(u=r,s=e>t._lt180&&e<t._gt180?n:n-n*Math.tan(e),i.moveTo(n,o),i.lineTo(n,n),i.lineTo(s,u),i.lineTo(a,r),i.lineTo(a,o),i.lineTo(n,o)):e>=t._225&&e<t._315?(s=a,u=n+n/Math.tan(e),i.moveTo(n,o),i.lineTo(n,n),i.lineTo(s,u),i.lineTo(a,o),i.lineTo(n,o)):e>=t._315&&(u=o,s=n+Math.tan(e)*n,i.moveTo(n,o),i.lineTo(n,n),i.lineTo(s,u),i.lineTo(n,o)),i.endFill()}},t.prototype.doRender=function(t){this._duration=~~this._duration+t;var e=this._deltaRadian*this._duration;this.setRadian(e)},t.prototype.add=function(e){e&&(this._deltaRadian=2*Math.PI/e),this._duration=0;var i=this._g;i.clear(),i.beginFill(t.COLOR,t.ALPHA),i.drawRect(this._ox,this._oy,this._sl,this._sl),i.endFill()},t.prototype.remove=function(){this._duration=0,this._deltaRadian=0,this._g&&this._g.clear()},t.prototype.dispose=function(){this.remove(),this.unbind()},t._45=.25*Math.PI,t._135=.75*Math.PI,t._225=1.25*Math.PI,t._315=1.75*Math.PI,t._gt180=180.1*Math.PI/180,t._lt180=179.9*Math.PI/180,t.COLOR=0,t.ALPHA=.6,t}();t.CooldownMask=e,__reflect(e.prototype,"junyou.CooldownMask",["junyou.ICooldownDisplay"])}(junyou||(junyou={}));var junyou;!function(t){var e=".jpg"+(t.Global.webp?".webp":""),i=function(t){function e(){var e=t.call(this)||this;return e.pWidth=256,e.pHeight=256,e}return __extends(e,t),e.decodeFromArray=function(t,i){i=i||e;var n=new i;n.id=t[0],n.path=t[1],n.columns=t[2],n.rows=t[3],n.width=t[4],n.height=t[5],n.gridWidth=t[6],n.gridHeight=t[7],n.maxPicX=n.width/n.pWidth-1>>0,n.maxPicY=n.height/n.pHeight-1>>0;var r=t[8];return r&&(n.pathdata=new Uint8Array(egret.Base64Util.decode(r))),n},e}(egret.HashObject);t.MapInfo=i,__reflect(i.prototype,"junyou.MapInfo"),i.prototype.getMapUri=function(t,i){return"m2/"+this.path+"/"+i+"_"+t+e}}(junyou||(junyou={}));var $gm,junyou;!function(t){var e=function(e){function n(t){var i=e.call(this,t)||this;return i._showing=[],i}return __extends(n,e),n.prototype.setRect=function(e){var i=this.currentMap;if(i){var n=e.x,r=e.y,o=e.width,a=e.height,s=i.pWidth,u=i.pHeight,h=n/s|0,c=r/u|0,l=(n+o)/s|0,p=(r+a)/u|0;if(h=Math.max(h,0),c=Math.max(c,0),l=Math.min(l,i.maxPicX),p=Math.min(p,i.maxPicY),h!=this.lsc||c!=this.lsr||l!=this.lec||p!=this.ler){this.lsc=h,this.lsr=c,this.lec=l,this.ler=p;for(var f=this._showing,d=t.Global.now,y=f.length;y>0;){var v=f[--y];v.isStatic=!1,v.lastUseTime=d,this.$doRemoveChild(y,!1)}y=0;for(var g=t.ResourceManager.get,_=c;p>=_;_++)for(var m=h;l>=m;m++){var b=i.getMapUri(m,_),w=g(b,this.noRes,this,b,m,_,s,u);w.isStatic=!0,this.$doAddChild(w,y,!1),f[y++]=w}f.length=y}}},n.prototype.noRes=function(t,e,n,r,o){var a=new i;return a.reset(e,n,t),a.x=e*r,a.y=n*o,a.load(),a},n.prototype.removeChildren=function(){this._showing.length=0,e.prototype.removeChildren.call(this)},n}(t.GameLayer);t.TileMapLayer=e,__reflect(e.prototype,"junyou.TileMapLayer");var i=function(e){function i(){return e.call(this)||this}return __extends(i,e),Object.defineProperty(i.prototype,"resID",{get:function(){return this.uri},enumerable:!0,configurable:!0}),i.prototype.reset=function(e,i,n){this.col=e,this.row=i,this.uri=n,this.url=t.ConfigUtils.getResUrl(n)},i.prototype.load=function(){RES.getResByUrl(this.url,this.loadComplete,this,RES.ResourceItem.TYPE_IMAGE)},i.prototype.loadComplete=function(t,e){e==this.url&&(this.texture=t)},i.prototype.dispose=function(){var t=this.texture;t&&(t.dispose(),this.texture=void 0)},i}(egret.Bitmap);t.TileMap=i,__reflect(i.prototype,"junyou.TileMap",["junyou.IResource"])}(junyou||(junyou={}));var junyou;!function(t){var e=[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]],i=function(){function t(){this.minCacTime=5}return t.prototype.bindMap=function(t){this._map=t,this._maxLength=t.gridHeight*t.gridWidth},t.prototype.getPath=function(t,i,n,r,o){function a(){for(var t=Date.now(),i=function(){if(b.stop)return w.off("enterFrame",a,null),{value:void 0};var i=y.shift(),d=i.x,g=i.y,j=i.g,x=i.key;return v[x]?"continue":(v[x]=!0,d==n&&g==r?(w.off("enterFrame",a,null),{value:o.callAndRecycle(s(f))}):(e.forEach(function(t){var e=t[0]+d,o=t[1]+g;if(!(0>e||0>o||e>=c||o>=l)){var a=h.getWalk(e,o);if(0!=a&&!v[o*c+e]){var s=e-d+o-g;s=0>s?-s:s;var p=n-e;p=0>p?-p:p;var f=r-o;f=0>f?-f:f;var y=0;(e!=d||o!=g)&&(y=1==s?10+j:14+j,y+=a),u(e,o,y,10*(p+f),i)}}}),_++,_>p?"break":Date.now()-t>m?{value:void 0}:void 0))};y.length;){var d=i();if("object"==typeof d)return d.value;if("break"===d)break}return o.callAndRecycle(s(f))}function s(t){w.off("enterFrame",a,null);for(var e=[],i=0,n=t.step;n>0;n--)e[i++]=t,t=t.prev;return e}function u(t,e,i,n,r){var o=e*c+t,a=d[o],s=i+n;a||(d[o]=a={key:o,x:t,y:e,g:i,h:n,f:s,prev:r,step:r?r.step+1:0}),g>n&&(g=n,f=a);var u=y.length;if(u){var h=u>>1,l=u;for(u--;l>1;)l=l+(1&l)>>1,s<=y[h].f?(h-=l,0>h&&(h=0)):(h+=l,h>u&&(h=u));s>y[h].f&&h++;for(var p=u+1;p>h;p--)y[p]=y[p-1];y[p]=a}else y[0]=a}if(t==n&&i==r)return void o.callAndRecycle(null);var h=this._map,c=h.columns,l=h.rows,p=this._maxLength;if(t>c||i>l)return void o.callAndRecycle(null);var f,d=[],y=[],v=[],g=1/0,_=0,m=this.minCacTime,b={stop:!1};u(t,i,0,10*(Math.abs(n-t)+Math.abs(r-i)));var w=egret.sys.$TempStage;return w.on("enterFrame",a,null),b},t}();t.Astar=i,__reflect(i.prototype,"junyou.Astar",["junyou.PathFinder"])}(junyou||(junyou={}));var junyou;!function(t){function e(t,e){var i=[],n=0;if(e)for(;n<e.length;n++)i[n]=e[n];var r=t.args;if(r)for(var o=0;o<r.length;o++)i[n++]=r[o];var a=t.callback;if(void 0!=a)try{return a.apply(t.thisObj,i)}catch(s){}else;}var i=function(){function i(){}return i.prototype.init=function(t,e,i){this.callback=t,this.args=i,this.thisObj=e},i.prototype.checkHandle=function(t,e){return this.callback===t&&this.thisObj==e},i.prototype.execute=function(t){void 0===t&&(t=!0);var i=(this.callback,e(this));return t&&this.recycle(),i},i.prototype.call=function(){return e(this,arguments)},i.prototype.callAndRecycle=function(){var t=e(this,arguments);return this.recycle(),t},i.prototype.onRecycle=function(){this.callback=void 0,this.args=void 0,this.thisObj=void 0},i.get=function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var a=t.recyclable(i);return a.init(e,n,r),a},i.addToList=function(t,e,i){for(var n=[],r=3;r<arguments.length;r++)n[r-3]=arguments[r];for(var o=0,a=t;o<a.length;o++){var s=a[o];if(s.checkHandle(e,i))return s.args=n,s}return s=this.get.apply(this,[e,i].concat(n)),t.push(s),s},i}();t.CallbackInfo=i,__reflect(i.prototype,"junyou.CallbackInfo",["junyou.IRecyclable"])}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(t,e,i,n,r){void 0===r&&(r=150),this._eR=e;var o=e/Math.PI2*r;return 0>t&&(t=-t),this._swing=t,this._dRad=e/o,this._dSwing=-t/o,this._total=o,this.setTargetPos(i,n),this},e.prototype.tick=function(t,e){var i=t*this._dRad,n=this._swing+t*this._dSwing;e.x=Math.round(this._cx+n*Math.cos(i)),e.y=Math.round(this._cy+n*Math.sin(i))},e}(t.BaseShake);t.CircleShake=e,__reflect(e.prototype,"junyou.CircleShake")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init1=function(t,e,i,n,r,o,a,s,u){void 0===a&&(a=30),void 0===s&&(s=3),void 0===u&&(u=90);var h=i-t,c=n-e,l=Math.sqrt(h*h+c*c);this.init(h/l,c/l,r,o,a,s,u)},e.prototype.init2=function(t,e,i,n,r,o){void 0===n&&(n=30),void 0===r&&(r=3),void 0===o&&(o=90),this.init(Math.cos(t),Math.sin(t),e,i,n,r,o)},e.prototype.init=function(t,e,i,n,r,o,a){void 0===r&&(r=30),void 0===o&&(o=3),void 0===a&&(a=90),30>~~a&&(a=30),1>~~o&&(o=1);var s=a*o;return this._dSwing=-r/s,this._dRad=Math.PI/a,this._count=o,this.setTargetPos(i,n),this._cos=t,this._sin=e,this._total=s,this},e.prototype.tick=function(t,e){var i=this._dSwing*t*Math.sin(t*this._dRad);e.x=Math.round(this._cx+this._cos*i),e.y=Math.round(this._cy+this._sin*i)},e}(t.BaseShake);t.DirectionShake=e,__reflect(e.prototype,"junyou.DirectionShake")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(t,e,i,n,r,o){return void 0===i&&(i=30),void 0===o&&(o=150),this._sR=t,this._eR=e,this._swing=i,this._dRad=(e-t)/o,this.setTargetPos(n,r),this},e.prototype.tick=function(t,e){var i=t*this._dRad,n=this._swing+Math.sin(t*Math.PI);e.x=Math.round(this._cx+n*Math.cos(i)),e.y=Math.round(this._cy+n*Math.sin(i))},e}(t.BaseShake);t.RotateShake=e,__reflect(e.prototype,"junyou.RotateShake")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this.shakable=!0,this._pt={x:0,y:0},this._tmp=new egret.Rectangle}return e.prototype.setLimits=function(t,e,i,n){return void 0===t&&(t=1/0),void 0===e&&(e=1/0),void 0===i&&(i=0),void 0===n&&(n=0),this._limits=new egret.Rectangle(i,n,t,e),this},e.prototype.start=function(e){if(this.shakable){var i=this._cur;i&&i.end(),this._cur=e;var n=t.GameEngine.instance,r=n.getLayer(1e3);i!=e&&e.setShakeTarget(r),e.start(),this._st=t.Global.now,egret.startTick(this.tick,this)}return e},e.prototype.tick=function(){var e=this._cur,i=t.Global.now-this._st;if(i<e.total){var n=this._pt,r=this._cur;r.tick(i,n);var o=r.target,a=this._limits;if(a){var s=t.GameEngine.instance.viewRect,u=n.x,h=n.y,c=void 0,l=void 0;if(0>u){var p=a.x,f=s.x;c=f+u>p?u:p}else{var d=a.width-s.width;c=d>u?u:d}if(0>h){var y=a.y,v=s.y;l=v+h>y?u:y}else{var g=a.height-s.height;l=g>h?h:g}o.x=c,o.y=l}}else e.end();return!0},e}();t.ScreenShakeManager=e,__reflect(e.prototype,"junyou.ScreenShakeManager")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.getAction=function(e){return e in this.actions?this.actions[e]:t.UnitAction.defaultAction},i}(t.UnitAction);t.MUnitAction=e,__reflect(e.prototype,"junyou.MUnitAction")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.prototype.checkResList=function(e,i){for(var n,r=this.$children,o=0,a=r.length,s=0,u=e;s<u.length;s++){var h=u[s],c=i[h];c&&(a>o?n=r[o++]:(n=t.recyclable(t.ResourceBitmap),this.addChild(n)),n.res=c)}for(var l=a-1;l>=o;l--)n=this.$doRemoveChild(l),n.recycle()},i.prototype.renderFrame=function(t,e,i,n){var r=i>4,o=r?8-i:i;if(t){var a=i>4?-1:1;-1==t.d?(this.scaleX=a,n.d=o):n.d=t.d,n.f=t.f,n.a=t.a}else n.d=o;for(var s=!0,u=0,h=this.$children;u<h.length;u++){var c=h[u];s=c.draw(n,e)&&s}return s},i.prototype.clear=function(){this.scaleX=1,this.scaleY=1,this.rotation=0,this.alpha=1,this.x=0,this.y=0;for(var t=this.$children,e=0,i=t;e<i.length;e++){var n=i[e];n.recycle()}},i.prototype.onRecycle=function(){t.removeDisplay(this),this.clear()},i}(egret.DisplayObjectContainer);t.UModel=e,__reflect(e.prototype,"junyou.UModel")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t._mountType=0,t._z=0,t._rotation=0,t}return __extends(i,e),Object.defineProperty(i.prototype,"playSpeed",{get:function(){return this._render.playSpeed},set:function(t){this._render.playSpeed=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"resDict",{get:function(){return this._resDict},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pst",{set:function(t){var e=this.getPstInfo(t);e!=this._pstInfo&&(this._pstInfo=e,this.pstInfoChange())},enumerable:!0,configurable:!0}),i.prototype.init=function(t,e){return this._resDict={},this.initDisplayList(e),this.pst=t,this.initDefaultAction(),this.startUnitAction(),this.onSpawn(),this},i.prototype.onSpawn=function(){this.state=0,this.dispatch(-1998)},i.prototype.resetRenderTime=function(t){this._render.reset(t)},i.prototype.initDisplayList=function(e){var i=new t.UnitRender(this),n=new t.UModel,r=new t.DSprite;this._render=i,i.model=n,this._model=n,this.body=r,r.addChild(n),this._depth=e.getDepth(),e.addToEngine&&this.addedToEngine()},Object.defineProperty(i.prototype,"faceTo",{get:function(){return this._render.faceTo},set:function(t){this._render.faceTo=t>>0},enumerable:!0,configurable:!0}),i.prototype.doCustomAction=function(t,e){void 0===e&&(e=-1);var i=this._render,n=t.key;this._action!=n&&(this._action=n,i.actionInfo=t,e=0),e>-1&&(i.f=e)},i.prototype.doAction=function(t,e,i){void 0===i&&(i=-1);var n=this._render;return e=~~e,this._action!=e&&(this._action=e,n.actionInfo=this._pstInfo.frames[e],n.reset(t),i=0),i>-1&&(n.f=i),n.actionInfo},i.prototype.getCurAction=function(){return this._render.actionInfo},i.prototype.setRes=function(t,e,i){var n,r=this._resDict[t];if(e){var o=void 0;o=i?this.getPstInfo(i):this._pstInfo,o&&(n=o.getUnitResource(e))}n!=r&&(this._resDict[t]=n,this.invalidateResList())},i.prototype.invalidateResList=function(){this._resListChange=!0},i.prototype.refreshResList=function(){this._resListChange&&(this.checkResList(this._partList),this._resListChange=!1)},i.prototype.checkResList=function(t,e){this._model.checkResList(t||this._partList,e||this._resDict)},i.prototype.$render=function(){var e=t.Global.now;this.refreshResList();var i=this._currentAction;i&&(i.doData(this,e),i.doRender(this,e)),this._render.render(e)},i.prototype.doData=function(t){var e=this._currentAction;e&&e.doData(this,t),this._render.doData(t)},i.prototype.doRender=function(t){this.refreshResList();var e=this._currentAction;e&&e.doRender(this,t),this._render.doRender(t)},i.prototype.onRecycle=function(){t.removeDisplay(this.body);var e=this._model;e.off("enterFrame",this.$render,this),e.clear(),this.rotation=0,this.z=0;var i=this._resDict;for(var n in i)delete i[n];var r=this._currentAction;r&&(r.recycle(),this._currentAction=void 0);var o=this._nextAction;o&&(o.recycle(),this._nextAction=void 0),this._action=void 0,this._render&&this._render.reset(0),this.lastFrame=void 0,this.dispatch(-1999)},i.prototype.initDefaultAction=function(){this.aStandBy=new t.UnitAction},i.prototype.startUnitAction=function(e,i,n){if(1==this.state){e||(e=this.aStandBy),i=i||t.Global.now;var r=this._currentAction,o=!1;if(r){if(r!=e)if(r.isEnd)r.recycle(),o=!0;else if(n||r.canStop)r.terminate(),r.recycle(),o=!0;else{var a=this._nextAction;a?a!=e&&(a.recycle(),this._nextAction=e):this._nextAction=e}}else o=!0;return o&&(r=e,r.start(this,i),this._currentAction=r),r.playAction(this,this._mountType,i),o}},i.prototype.stopUnitAction=function(t){this.startUnitAction(null,t,!0)},i.prototype.setMountType=function(t){t!=this._mountType&&(this._mountType=t)},i.prototype.playComplete=function(t){var e,i=this._currentAction;if(i?(i.playComplete(this,t),i.isEnd?e=!0:i.playAction(this,this._mountType,t)):e=!0,e){var n=this._nextAction;this._nextAction=void 0,this.startUnitAction(n,t)}},i.prototype.onRenderFrame=function(t){var e=this._currentAction;e?e.isEnd&&this.startUnitAction(this._nextAction,t):this.startUnitAction(this._nextAction,t)},i.prototype.fire=function(t,e){var i=this._currentAction;i&&i.dispatchEvent(this,t,e)},i.prototype.addedToEngine=function(e){void 0===e&&(e=!0),t.GameEngine.instance.getLayer(1760).addChild(this.body),e&&this.model.on("enterFrame",this.$render,this),this.state=1,this.dispatch(-1997)},i.prototype.addToContainer=function(t,e){void 0===e&&(e=!0),t.addChild(this.body),e&&this.model.on("enterFrame",this.$render,this),this.state=1,this.dispatch(-1997)},Object.defineProperty(i.prototype,"x",{get:function(){return this._x},set:function(t){t>>=0,this._x!=t&&(this._x=t,this.checkPosition())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this._y},set:function(e){e>>=0,this._y!=e&&(this._y=e,this.checkPosition(),t.GameEngine.invalidateSort())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"z",{get:function(){return this._z},set:function(t){t>>=0,this._z!=t&&(this._z=t,this.checkPosition())},enumerable:!0,configurable:!0}),i.prototype.checkPosition=function(){var t=this.body;t&&(t.depth=this._depth+this._y,t.y=this._y+this._z,t.x=this._x)},Object.defineProperty(i.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!=t&&(this._rotation=t,this._model.scaleX>=0?this._model.rotation=t:this._model.rotation=-t)},enumerable:!0,configurable:!0}),i.prototype.getTexture=function(t,e){if(e=e||this._render){var i=this._resDict[t];if(i)return i.getTexture(e)}},i}(egret.EventDispatcher);t.Unit=e,__reflect(e.prototype,"junyou.Unit")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this._domains={},this._domainCounts={},this._domains[0]=this._domainAll={},this._domainCounts[0]=0}return e.prototype.registerUnit=function(){for(var t=arguments,e=t[0],i=e.guid,n=this,r=n._domains,o=n._domainCounts,a=1;a<t.length;a++){var s=t[a],u=r[s];u||(u={},r[s]=u,o[s]=0),u[i]=e}this._domainAll[i]=e},e.prototype.removeUnit=function(t){var e=this._domainAll[t];if(e){var i=this,n=i._domainCounts,r=i._domains;n[0]--;for(var o in r){var a=r[o],s=a[t];s&&(n[o]--,delete a[t])}}return e},e.prototype.get=function(t){return this._domains[t]},e.prototype.getCount=function(t){return this._domainCounts[t]},e.prototype.getUnit=function(t){return this._domainAll[t]},e.prototype.clear=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=t.Temp.SharedArray1,r=0;for(var o in this._domainAll)e&&~e.indexOf(o)||(n[r++]=o);for(n.length=r;--r>=0;)this.removeUnit(n[r]);n.length=0},e}();t.UnitController=e,__reflect(e.prototype,"junyou.UnitController")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(i){var n=e.call(this)||this;return n.faceTo=0,n.nextRenderTime=0,n.renderedTime=0,n.unit=i,n.reset(t.Global.now),n}return __extends(i,e),i.prototype.reset=function(t){this.renderedTime=t,this.nextRenderTime=t,this.idx=0},i.prototype.doData=function(t){var e=this.actionInfo;e&&this.onData(e,t)},i.prototype.render=function(t){var e=this.actionInfo;e&&(this.onData(e,t),this.doRender(t))},i.prototype.onData=function(t,i){e.prototype.onData.call(this,t,i),this.unit.lastFrame=this.willRenderFrame},i.prototype.clearRes=function(){for(var t=0,e=this.model.$children;t<e.length;t++){var i=e[t];i.bitmapData=void 0}},i.prototype.renderFrame=function(t,e){var i=this.model.renderFrame(t,e,this.faceTo,this);this.unit.onRenderFrame(e),i&&(this.willRenderFrame=void 0)},i.prototype.dispatchEvent=function(t,e){this.unit.fire(t,e)},i.prototype.doComplete=function(t){this.unit.playComplete(t)},i.prototype.dispose=function(){this.unit=void 0},i}(t.BaseRender);t.UnitRender=e,__reflect(e.prototype,"junyou.UnitRender")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(){this.hasUILayer=!0,this.hasBuffLayer=!0,this.hasHaloLayer=!0,this.addToEngine=!0,this.depthA=0,this.depthB=.19}return t.prototype.getDepth=function(){return this.depthA+Math.random()*this.depthB},t}();t.UnitSetting=e,__reflect(e.prototype,"junyou.UnitSetting"),t.defaultUnitSetting=new e}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){}return e.prototype.init=function(t){return void 0===t&&(t=4),1>t&&(t=1),this._max=t,this._count=0,this._head=void 0,this._tail=void 0,this},e.prototype.record=function(e,i){if(e){var n=void 0;this._count<this._max?(n=t.recyclable(t.PSeries),this._head=n):(n=this._head,this._head=n.next,this._head.prev=void 0,n.next=void 0),n.record(e,i);var r={};n.resDict=r,e.resDict.copyto(r);var o=this._tail;return o&&(o.next=n,n.prev=o),this._tail=n,n}},e.prototype.getByIndex=function(t,e){var i,n=0;if(e)for(i=this._tail;i&&n++<t;)i=i.prev;else for(i=this._head;i&&n++<t;)i=i.next;return n==t?i:void 0},e.prototype.getSeries=function(t,e){t=t||[];var i,n=0,r=this._max;if(e)for(i=this._tail;i&&n++<r;)t.push(i),i=i.prev;else for(i=this._head;i&&n++<r;)t.push(i),i=i.next},e.prototype.onRecycle=function(){for(var t=this._head,e=this._max,i=0;t&&i++<e;)t.recycle();this._head=void 0,this._tail=void 0},e}();t.PSRecorder=e,__reflect(e.prototype,"junyou.PSRecorder")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(){}return t.prototype.record=function(t,e){this.t=e,this.x=t.x,this.y=t.y,this.z=t.z,this.faceTo=t.faceTo,this.frame=t.lastFrame},t}();t.PSeries=e,__reflect(e.prototype,"junyou.PSeries")}(junyou||(junyou={}));var junyou;!function(t){t.FaceToUtils={FacePos:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],FaceToRad:[1.5707963267948966,.7853981633974483,0,-.7853981633974483,-1.5707963267948966,-2.356194490192345,3.141592653589793,2.356194490192345],FaceToDeg:[90,60,45,30,0,-30,-45,-60],FaceToRadSin:[1,.7071067811865475,0,-.7071067811865475,-1,-.7071067811865476,1.2246467991473532e-16,.7071067811865476],FaceToRadCos:[6.123233995736766e-17,.7071067811865476,1,.7071067811865476,6.123233995736766e-17,-.7071067811865475,-1,-.7071067811865475],OPPS:[4,5,6,7,0,1,2,3],getFaceTo:function(t){return-2.748893571891069>t?6:-1.9634954084936207>t?5:-1.1780972450961724>t?4:-.39269908169872414>t?3:.39269908169872414>t?2:1.1780972450961724>t?1:1.9634954084936207>t?0:2.748893571891069>t?7:6},getFaceTo8:function(t,e,i,n){var r=(n-e)/(i-t);return i>=t?r>1.2071067811865472?0:r>.20710678118654754?1:r>-.20710678118654754?2:r>-1.2071067811865472?3:4:-1.2071067811865472>=r?0:-.20710678118654754>=r?7:.20710678118654754>=r?6:1.2071067811865472>=r?5:4},getMouseFaceTo8:function(t,e,i,n){var r=(n-e)/(i-t);return i>=t?r>2.414213562373095?0:r>.41421356237309503?1:r>-.41421356237309503?2:r>-2.414213562373095?3:4:-2.414213562373095>=r?0:-.41421356237309503>=r?7:.41421356237309503>=r?6:2.414213562373095>=r?5:4}}}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this._ready=!1}return Object.defineProperty(e.prototype,"isReady",{get:function(){return this._ready},enumerable:!0,configurable:!0}),e.prototype.readyNow=function(){if(!this._ready){this._ready=!0;var t=this._readyExecutes;if(t){for(var e=[],i=0,n=t.length;n>i;i++)e[i]=t[i];for(t=void 0,i=0;n>i;i++){var r=e[i];r.execute()}e.length=0}}},e.prototype.addReadyExecute=function(e,i){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(this._ready)return void e.apply(i,n);var o=this._readyExecutes;o||(o=[],this._readyExecutes=o),t.CallbackInfo.addToList.apply(t.CallbackInfo,[o,e,i].concat(n))},e}();t.AsyncHelper=e,__reflect(e.prototype,"junyou.AsyncHelper")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];this._host=t,this._callback=e,this._args=i,this._unreadyDepender=[]}return t.prototype.addDepend=function(t){t.isReady?this.readyHandler(t):(this._unreadyDepender.push(t),t.addReadyExecute(this.readyHandler,this,t))},t.prototype.readyHandler=function(t){this._unreadyDepender.remove(t),this.check()},t.prototype.check=function(){this._uncheck||(this._uncheck=!0,egret.callLater(this._check,this))},t.prototype._check=function(){this._uncheck=!1;for(var t=!0,e=0,i=this._unreadyDepender;e<i.length;e++){var n=i[e];n.isReady||(n.startSync(),t=!1)}t&&this._callback&&(this._unreadyDepender.length=0,this._callback.apply(this._host,this._args))},t}();t.DependerHelper=e,__reflect(e.prototype,"junyou.DependerHelper")}(junyou||(junyou={}));var junyou;!function(t){function e(t){return t&&(i in t||"function"!=typeof t[i])&&n in t&&"function"==typeof t[n]&&0==t[n].length?!0:!1}var i="addReadyExecute",n="startSync";t.isIAsync=e}(junyou||(junyou={}));var junyou;!function(t){function e(){return t.facade.getProxy.apply(t.facade,arguments)}function i(){return t.facade.executeProxy.apply(t.facade,arguments)}function n(){return t.facade.getMediator.apply(t.facade,arguments)}function r(){return t.facade.executeMediator.apply(t.facade,arguments)}function o(e,i){t.facade.dispatch(e,!1,i)}function a(e,i,n,r){void 0===n&&(n=!0),t.facade.toggle(e,i,n,r)}function s(e,i,n,r){t.facade.on(e,i,n,!1,r)}function u(e,i,n,r){t.facade.once(e,i,n,!1,r)}function h(e,i,n){t.facade.off(e,i,n,!1)}function c(e){return t.facade.hasListen(e)}var l=function(e){function i(){var t=e.call(this)||this;return t._mediators={},t._scripts={},t._proxys={},t._indecting=[],t}return __extends(i,e),i.getNameOfInline=function(t,e){e=e||egret.getQualifiedClassName(t);var i;return i="NAME"in t?t.NAME:e.substr(e.lastIndexOf(".")+1)},i.prototype.bindModuleManager=function(t){t.init(),this._mm=t},Object.defineProperty(i.prototype,"mm",{get:function(){return this._mm},enumerable:!0,configurable:!0}),i.prototype._removeHost=function(t,e){var i,n=e[t];return n&&(delete e[t],i=n.host,i&&i.onRemove()),i},i.prototype.removeMediator=function(t){return this._removeHost(t,this._mediators)},i.prototype.removeProxy=function(t){var e=this._proxys[t];if(!e.host._$isDep)return this._removeHost(t,this._proxys)},i.prototype.registerInlineProxy=function(e,n,r){if(e){var o=egret.getQualifiedClassName(e);if(n||(n=i.getNameOfInline(e,o)),this.registerProxyConfig(o,n),!r){var a=this._proxys[n],s=new e;a.host=s,t.facade.inject(s),s.onRegister()}}},i.prototype.registerInlineMediator=function(t,e){if(t){var n=egret.getQualifiedClassName(t);e||(e=i.getNameOfInline(t,n)),this.registerMediatorConfig(n,e)}},i.prototype.registerProxyConfig=function(t,e,i,n){var r;r={},r.scriptid=n,r.className=t,r.name=e,r.url=i,this._proxys[e]=r},i.prototype.registerMediatorConfig=function(t,e,i,n){var r;r={},r.scriptid=n,r.className=t,r.name=e,r.url=i,this._mediators[e]=r},i.prototype.getOrCreateScript=function(e){var i=e.scriptid,n=this._scripts[i];return n||(n=new t.ModuleScript,n.id=i,n.url=e.url,this._scripts[i]=n),n},i.prototype.getProxy=function(t,e,i){for(var n=[],r=3;r<arguments.length;r++)n[r-3]=arguments[r];var o=this._proxys[t];if(o){var a={};return a.dele=o,a.callback=e,a.thisObj=i,a.args=n,this._solveScriptCallback(a)}},i.prototype.getProxySync=function(t){var e=this._proxys[t];return e?e.host:void 0},i.prototype.getMediator=function(t,e,i){for(var n=[],r=3;r<arguments.length;r++)n[r-3]=arguments[r];var o=this._mediators[t];if(o){var a={};return a.dele=o,a.callback=e,a.thisObj=i,a.args=n,this._solveScriptCallback(a)}},i.prototype.getMediatorSync=function(t){var e=this._mediators[t];return e?e.host:void 0},i.prototype._solveScriptCallback=function(e){if(e.dele.scriptid){var i=this.getOrCreateScript(e.dele);if(2!=i.state)return i.callbacks.push(t.CallbackInfo.get(this._getHost,this,e)),void i.load()}return this._getHost(e)},i.prototype._getHost=function(e){var i=e.dele,n=i.host;if(!n){var r=egret.getDefinitionByName(i.className);i.host=n=new r,t.facade.inject(n),n.onRegister()}var o=e.callback;return n.isReady?o&&o.call.apply(o,[e.thisObj,n].concat(e.args)):(o&&n.addReadyExecute.apply(n,[o,e.thisObj,n].concat(e.args)),n.startSync()),n},i.prototype.toggle=function(t,e,i,n){void 0===i&&(i=!0),this._mm&&this._mm.toggle(t,e,i,n)},i.prototype.executeMediator=function(t,e,i,n){for(var r=[],o=4;o<arguments.length;o++)r[o-4]=arguments[o];
if(this._mm&&this._mm.isModuleOpened(t,e)){var a=n?this._executeAndShowMediator:this._executeMediator;return this.getMediator.apply(this,[t,a,this,i].concat(r))}},i.prototype.$executeMediator=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return this.getMediator(t,this._executeMediator,this,i)},i.prototype._executeMediator=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];"function"==typeof t[e]&&t[e].apply(t,i)},i.prototype._executeAndShowMediator=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];this.toggle(t.name,1,!1),this._executeMediator.apply(this,[t,e].concat(i))},i.prototype.executeProxy=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return this.getProxy.apply(this,[t,this._executeProxy,this,e].concat(i))},i.prototype._executeProxy=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];"function"==typeof t[e]&&t[e].apply(t,i)},i.prototype.inject=function(t){var e=this._indecting;if(!~e.indexOf(t)){e.push(t),this.doInject(t);var i=e.indexOf(t);e.splice(i,1)}},i.prototype.doInject=function(t){},i.Script="modules/{0}.js",i}(egret.EventDispatcher);t.Facade=l,__reflect(l.prototype,"junyou.Facade"),t.facade=new l,t.proxyCall=e,t.proxyExec=i,t.mediatorCall=n,t.mediatorExec=r,t.dispatch=o,t.toggle=a,t.on=s,t.once=u,t.off=h,t.hasListen=c}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(){this._tex=new egret.RenderTexture,this._canvas=document.createElement("canvas"),this._content=this._canvas.getContext("2d")}return t.prototype.drawDisplay=function(t,e,i,n,r){function o(t,e,i,n){return t.ymax>n&&(e[i++]=t,t.Rx+=t.dRx,t.Ry+=t.dRy,t.x=Math.round(t.x+t.dx)),i}function a(t,e,i){var n,r,o,a,s;if(t.y==e.y)return 0;t.y<e.y?(n=t.x,r=t.Rx,o=t.Ry,a=e.y,s=t.y):(n=e.x,r=e.Rx,o=e.Ry,a=t.y,s=e.y);var u=t.y-e.y,h=(t.x-e.x)/u,c=(t.Rx-e.Rx)/u,l=(t.Ry-e.Ry)/u,p=i[s];return p||(i[s]=p=[],p.minY=s),p.push({x:n,Rx:r,Ry:o,ymax:a,dx:h,dRx:c,dRy:l}),1}var s=t.width,u=t.height;e=e||{x:0,y:0},i=i||{x:s,y:0},n=n||{x:0,y:u},r=r||{x:s,y:u};var h=e.x,c=e.y,l=i.x,p=i.y,f=n.x,d=n.y,y=r.x,v=r.y,g=Math.min(h,l,f,y),_=Math.max(h,l,f,y),m=Math.min(c,p,d,v),b=Math.max(c,p,d,v),w=_-g,j=b-m,x=this._canvas;x.width=w,x.height=j;var S=this._content,T=S.createImageData(w,j),C=T.data,D=this._tex;D.drawToTexture(t);var R=D.getPixels(0,0,s,u);e.Rx=e.Rx||0,e.Ry=e.Ry||0,i.Rx=i.Rx||s,i.Ry=i.Ry||0,r.Rx=r.Rx||s,r.Ry=r.Ry||u,n.Rx=n.Rx||0,n.Ry=n.Ry||u;var k=[],B=0;if(B+=a(e,i,k),B+=a(i,r,k),B+=a(r,n,k),B+=a(n,e,k),B>0)for(var P=[],M=[],O=0;b>O;O++){var I=k[O];I&&I.length&&(I.appendTo(P),P.doSort("dx"));var L=P.length-1;if(L>0){for(var E=0;L>E;E++){var A=P[E],F=A.x,U=A.Rx,z=A.Ry,$=P[E+1],H=$.x,G=$.Rx,V=$.Ry,N=F-H,W=0,X=0;N&&(W=(U-G)/N,X=(z-V)/N);for(var q=F;H>=q;q++){var Y=0|U,K=U-Y,Q=0|z,J=z-Q,Z=4*(Q*s+Y),te=R[Z],ee=R[Z+1],ie=R[Z+2],ne=R[Z+3],re=Z+4,oe=R[re],ae=R[re+1],se=R[re+2],ue=R[re+3],he=4*((Q+1)*s+Y),ce=R[he],le=R[he+1],pe=R[he+2],fe=R[he+3],de=he+4,ye=R[de],ve=R[de+1],ge=R[de+2],_e=R[de+3],me=1-K,be=1-J,we=me*be,je=K*be,xe=me*J,Se=K*J,Te=4*(O*w+q);C[Te]=te*we+oe*je+ce*xe+ye*Se,C[Te+1]=ee*we+ae*je+le*xe+ve*Se,C[Te+2]=ie*we+se*je+pe*xe+ge*Se,C[Te+3]=ne*we+ue*je+fe*xe+_e*Se,U+=W,z+=X}}for(var Ce=0,E=0;L>=E;E++)Ce=o(P[E],M,Ce,O);M.length=Ce;var De=P;P=M,M=De}}return S.putImageData(T,0,0),egret.BitmapData.create("base64",x.toDataURL())},t}();t.QuadTransform=e,__reflect(e.prototype,"junyou.QuadTransform")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(t){var i=e.call(this,t)||this;return i.init&&i.init(),i}return __extends(i,e),Object.defineProperty(i.prototype,"view",{get:function(){return this.$view},set:function(e){var i=this.$view;i!=e&&(this.removeSkinListener(i),this.$view=e,this.addSkinListener(e),e.moduleID=this._name,t.isIAsync(e)?e.addReadyExecute(this.viewComplete,this):this.viewComplete())},enumerable:!0,configurable:!0}),i.prototype.startSync=function(){if(t.isIAsync(this.$view)){var e=this.$view;e.isReady?this.viewComplete():(e.addReadyExecute(this.viewComplete,this),e.startSync())}},i.prototype.viewComplete=function(){this._preViewReady=!0,this._dependerHelper?this._dependerHelper.check():this.dependerReadyCheck()},i.prototype.dependerReadyCheck=function(){this._preViewReady&&(this._ready||(this._ready=!0,this.afterAllReady(),this._asyncHelper&&this._asyncHelper.readyNow()))},i.prototype.hide=function(){t.toggle(this._name,-1)},i}(t.ViewController);t.Mediator=e,__reflect(e.prototype,"junyou.Mediator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this.state=0,this.callbacks=[]}return e.prototype.load=function(){if(0==this.state){var e=this.url||t.Facade.Script.substitute(this.id);t.loadScript(e,this.onScriptLoaded,this),this.state=1}},e.prototype.onScriptLoaded=function(){this.state=2;var t=this.callbacks.concat();this.callbacks.length=0;for(var e=0,i=t;e<i.length;e++){var n=i[e];n.execute()}},e}();t.ModuleScript=e,__reflect(e.prototype,"junyou.ModuleScript")}(junyou||(junyou={}));var junyou;!function(t){function e(t,e){return t+"/"+e}function i(t,e){if(/^((http|https):)?\/\//.test(t))return t;t=e.tPath+t;var i=e.iPrefix?"":o(t);return i+t}function n(t){return~~(s&&s[t.hash()])}var r,o,a,s={},u={},h={},c={};t.ConfigUtils={setData:function(t){function e(t){var n=t.parent;if(n){var r=i[n];if(r)return e(r)+t.path}return t.path}r=t,!r.params&&(r.params={});var i=r.paths;for(var n in i){var s=i[n];s.tPath=e(s)}a=r.paths.res,o=function(t){var e=0;switch(t&&(e=t.length),e){case 0:return function(t){return""};case 1:var i=t[0];return function(t){return i};default:return function(e){var i=e.hash()%t.length;return t[i]||""}}}(r.prefixes)},parseHash:function(e){var i=new DataView(e),n=0,r=i.byteLength;for(s={};r>n;){var o=i.getUint32(n);n+=4;var a=i.getUint16(n);n+=2,s[o]=a}t.dispatch(-188)},setHash:function(t){s=t},getResVer:n,getResUrl:function(t){var e=h[t];if(!e){var r=n(t);r&&(t=-1==t.indexOf("?")?t+"?"+r:t+"&jyver="+r),e=i(t,a),h[t]=e,c[e]=t}return e},getResUri:function(t){return c[t]},getParam:function(t){return r.params[t]},getSkinPath:e,getSkinFile:function(t,n){return i(e(t,n),u[t]||r.paths.skin)},regSkinPath:function(t,e,i){u[t]={tPath:e,path:e,iPrefix:i}},getUrl:function(t,e){var n=r.paths[e];return n?i(t,n):void 0}}}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(t){return e.call(this,t)||this}return __extends(i,e),i.prototype.onRegister=function(){this._ns=t.NetService.get()},i.prototype._startSync=function(){this.selfReady()},i.prototype.reg=function(){function t(t,i,n){e.register(t,i),e.regReceiveMSGRef(t,n)}for(var e=this._ns,i=arguments,n=0;n<i.length;n+=3){var r=i[n],o=i[n+1],a=i[n+2];if(a=a.bind(this),Array.isArray(r))for(var s=0;s<r.length;s++)t(r[s],a,o);else t(r,a,o)}},i.prototype.regMsg=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=this._ns,r=0,o=e;r<o.length;r++){var a=o[r];n.regReceiveMSGRef(a,t)}},i.prototype.regHandler=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=this._ns,r=0,o=e;r<o.length;r++){var a=o[r];n.register(a,t)}},i.prototype.removeHandler=function(t,e){this._ns.remove(t,e)},i.prototype.send=function(t,e,i,n){void 0===n&&(n=200),this._ns.send(t,e,i,n)},i}(t.Proxy);t.Service=e,__reflect(e.prototype,"junyou.Service")}(junyou||(junyou={}));var junyou;!function(t){function e(e,i,n){var r=e;return void 0===r.awakeBy&&(r.awakeBy=i||function(e){if("function"!=typeof r.awakeCheck||r.awakeCheck()){var i=this._view;i instanceof t.Panel&&i.show()}}),void 0===r.sleepBy&&(r.sleepBy=n||function(e){var i=this._view;i instanceof t.Panel&&i.hide()}),r}t.transformToStateMediator=e}(junyou||(junyou={}));var $DD={},$DE,junyou;!function(t){function e(t,e){o[t]=e,a.push(t)}function i(e,i,n){switch(i){case 0:(null==e||void 0==e)&&(e=n);break;case 1:(0===e||void 0==e)&&(e=n||"");break;case 2:(""===e||void 0==e)&&(e=+n||0);break;case 3:void 0==e&&(e=n),e=!!e;break;case 4:case 5:0===e&&(e=void 0),!e&&n&&(e=n);break;case 6:case 8:e=new Date(1e4*(e||n||0));break;case 7:e=(new t.TimeVO).decodeBit(e||n||0)}return e}function n(t,e,i,n){n.push(t)}function r(t,e,i,n,r){if(r in t){var o=t[r];n[o]=t}}var o={},a=[];t.DataLocator={regParser:e,parsePakedDatas:function(){var e=RES.getRes("cfgs");RES.destroyRes("cfgs");for(var n=0,r=a;n<r.length;n++){var s=r[n],u=o[s],h=u(e[s]);h&&($DD[s]=h)}var c={};for(var s in e)if("$"==s.charAt(0)){var l=e[s];if(s=s.substr(1),l){for(var p=0,f=l.length,h={};f>p;){var d=l[p++],y=l[p++],v=l[p];"number"==typeof v&&(p++,y=i(y,v)),h[d]=y}c[s]=h}}$DE=c,o=null,a=null,delete t.DataLocator},regCommonParser:function(o,a,s,u){void 0===s&&(s="id"),e(o,function(e){if(e){for(var h,c,l,p=e[0],f=0;f<p.length;f++){var d=p[f];2==(2&d[2])&&(l=1)}switch(""==s||0==s?u=2:u||(u=3),u){case 2:case 1:h=[],c=n;break;case 3:h={},c=r}try{for(var y=a||Object,v=1;v<e.length;v++){for(var g=e[v],_=new y,m=l&&{},f=0;f<p.length;f++){var d=p[f],b=d[0],w=d[1],j=d[2],x=d[3],S=i(g[f],w,x);2==(2&j)?m[b]=S:_[b]=S}c(_,v-1,o,h,s),"function"==typeof _.decode&&_.decode(m)}1==u&&(h=(new t.ArraySet).setRawList(h,s))}catch(T){}return h}})}}}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this.showState=0,this.serverOpen=!0}return e.prototype.init=function(e){e=e||this,t.DataUtils.parseDatas(this,e,0,3,"showlimit","showtype","showlimits"),t.DataUtils.parseDatas(this,e,0,3,"limit","limittype","limits")},e}();t.BaseMCfg=e,__reflect(e.prototype,"junyou.BaseMCfg")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this._needCheck=!1,this._needCheckShow=!1}return e.prototype.init=function(){this._bindedIOById=[],this._handlersByType=[],this._checkers=[],this._allById={},this._unshowns=[],this._handlersById={},this._ioBind=new Map,t.on(-993,this.checkShowHandler,this)},e.prototype.setCfgs=function(t){this._allById=t,this.doCheckLimits()},e.prototype.registerHandler=function(t,e){this._handlersByType[t]=e},e.prototype.registerHandlerById=function(e,i){var n=this._allById[e];n?this._handlersById[e]=i:t.ThrowError("ModuleManager 注册模块处理函数时，没有找到对应的模块配置，模块id:"+e)},Object.defineProperty(e.prototype,"checkers",{set:function(t){this._checkers=t,this.doCheckLimits()},enumerable:!0,configurable:!0}),e.prototype.doCheckLimits=function(){this._needCheck=!0,egret.callLater(this.checkLimits,this)},e.prototype.checkLimits=function(){if(this._needCheck){this._needCheck=!1;var e=this._checkers,i=this._allById;if(e){var n;for(var r in i){var o=i[r],a=o.showtype;a&&(n=e[a]);var s=o.limittype;if(s&&(n=e[s]),a==s&&a&&n&&n.adjustLimitDatas(o.showlimits,o.limits),!this.isModuleShow(o)){var u=o.id;this._unshowns.push(u);var h=this._bindedIOById[u];if(h)for(var c=0,l=h;c<l.length;c++){var p=l[c];p.visible=!1}}}t.dispatch(-998)}}},e.prototype.isModuleShow=function(t){var e=this.getCfg(t),i=e&&2!=e.close;if(i&&this._checkers){var n=this._checkers[e.showtype];n&&(i=n.check(e.showlimits,!1))}return i},e.prototype.isModuleOpened=function(t,e){var i=this.getCfg(t),n=i&&!i.close&&i.serverOpen;if(n){if(this._checkers){var r=this._checkers[i.limittype];r&&(n=r.check(i.limits,e))}}else e&&this.showTip&&this.showTip(1);return n},e.prototype.bindButton=function(e,i,n){if(void 0===n&&(n="touchTap"),this._ioBind.has(i))return void t.ThrowError("ModuleManager 注册按钮时候，重复注册了按钮");var r=this._allById[e];if(!r)return void t.ThrowError("ModuleManager 注册按钮时候，没有找到对应的模块配置，模块id:"+e);var o=this._bindedIOById[e];if(o||(this._bindedIOById[e]=o=[]),o.push(i),this._ioBind.set(i,e),i.on(n,this.ioHandler,this),this.createToolTip){var a=this.createToolTip(r);a&&t.ToolTipManager.register(i,a)}var s=this._handlersByType[r.type];s&&this.registerHandlerById(e,s);var u=this._unshowns;this.isModuleShow(e)?u.remove(e):(i.visible=!1,u.pushOnce(e))},e.prototype.ioHandler=function(t){this.toggle(this._ioBind.get(t.currentTarget))},e.prototype.checkShowHandler=function(){this._needCheckShow=!0,egret.callLater(this._checkShowHandler,this)},e.prototype._checkShowHandler=function(){if(this._needCheckShow){this._needCheckShow=!1;for(var e=!1,i=this._unshowns,n=i.length-1;n>=0;n--){var r=i[n];if(this.isModuleShow(r)){var o=this._bindedIOById[r];if(o)for(var a=0,s=o;a<s.length;a++){var u=s[a];u.visible=!0}e=!0,i.splice(n,1),t.dispatch(-991,r)}}e&&t.dispatch(-994,i.length)}},e.prototype.toggle=function(e,i,n,r){void 0===n&&(n=!0);var o=this._allById[e];if(!o)return t.ThrowError("ModuleManager execute时，无法找到对应模块配置,ModuleID为:"+e),!1;if(t.dispatch(-997,e),!this.isModuleOpened(o,n))return!1;var a=this._handlersById[e];if(a||(a=this._handlersByType[o.type]),a){switch(i=~~i){case 0:switch(o.showState){case 0:case 3:a.show(o,r);break;case 2:case 1:a.hide(o,r)}break;case-1:a.hide(o,r);break;case 1:a.show(o,r)}return!0}return!1},e.prototype.getCfg=function(t){return"object"==typeof t?t:this._allById[t]},e.prototype.serverChangeModuleState=function(e,i){var n=this._allById[e];n&&i!=n.serverOpen&&(n.serverOpen=i,t.dispatch(i?-995:-996,e))},e}();t.ModuleManager=e,__reflect(e.prototype,"junyou.ModuleManager")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this._engine=t.GameEngine.instance,this._bmp=new egret.Bitmap,this._stage=egret.sys.$TempStage,this._con=new egret.Sprite,this._tex=new egret.RenderTexture,this._dic={}}return e.prototype.registerModuleLayers=function(t){for(var e=this,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var r=this._dic,o=i.map(function(t){return e._engine.getLayer(t)});o.doSort("id"),r[t]=o},e.prototype.checkShowBlur=function(t){var e=this._dic,i=e[t];this._current=t,i&&i.length&&(this._stage.on("resize",this.drawBlur,this),this.drawBlur())},e.prototype.checkHideBlur=function(t){this._current=t;var e=this._dic,i=e[t];i&&i.length&&this.hideBlur()},e.prototype.drawBlur=function(e){e&&t.dispatch(-1998);var i=this._tex,n=this._bmp,r=this._stage,o=this._dic[this._current];if(o){for(var a=this._con,s=o.length,u=0;s>u;u++){var h=o[u];a.addChild(h)}i.drawToTexture(a),a.removeChildren(),n.texture=i,n.refreshBMD(),n.filters=t.FilterUtils.blur,r.addChildAt(n,0)}},e.prototype.hideBlur=function(){this._stage.off("resize",this.drawBlur,this),t.removeDisplay(this._bmp),this._tex.$renderBuffer.resize(0,0);var e=this._dic[this._current];if(e)for(var i=e.length,n=(this._engine,0);i>n;n++){var r=e[n];this._engine.awakeLayer(r.id)}},e}();t.BlurScreen=e,__reflect(e.prototype,"junyou.BlurScreen")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.init(),t}return __extends(i,e),Object.defineProperty(i.prototype,"suiRawRect",{get:function(){return this._baseRect},set:function(t){this._baseRect=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isReady",{get:function(){return this._ready},enumerable:!0,configurable:!0}),i.prototype.init=function(){},i.prototype.bind=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];this._key=t,this._className=e,this._otherDepends=i},i.prototype.startSync=function(){this._otherDepends?this._depends=this._otherDepends.concat():this._depends=[],this._depends.push(this._key),this.loadNext()},i.prototype.loadNext=function(){if(this._depends.length){var e=this._depends.pop(),i=t.singleton(t.SuiResManager);i.loadData(e,this)}else this.skinDataComplete()},i.prototype.suiDataComplete=function(e){this.preloadImage?e.loadBmd(t.CallbackInfo.get(this.loadNext,this)):this.loadNext()},i.prototype.suiDataFailed=function(t){},i.prototype.bindComponent=function(){t.singleton(t.SuiResManager).createComponents(this._key,this._className,this)},i.prototype.skinDataComplete=function(){if(this.bindComponent(),this.bg)this.bg.touchEnabled=!0;else if(this.numChildren){var t=this.getChildAt(0);t.touchEnabled=!0}this._ready=!0,this._asyncHelper&&this._asyncHelper.readyNow()},i.prototype.modalToStage=function(){this._isModal&&this.addModal()},Object.defineProperty(i.prototype,"isModal",{get:function(){return this._isModal},set:function(t){this._isModal!=t&&(this._isModal=t,t?(this.setModalTouchClose(!0),this.stage?this.addModal():this.once("addedToStage",this.modalToStage,this)):(this.removeModal(),this.off("addedToStage",this.modalToStage,this)))},enumerable:!0,configurable:!0}),i.prototype.setModalTouchClose=function(t){if(this._mTouchClose!=t){this._mTouchClose=t;var e=this.modal;e||(this.modal=e=new egret.Shape,e.touchEnabled=!0),t?e.on("touchTap",this.hide,this):e.off("touchTap",this.hide,this)}},i.prototype.addModal=function(t,e){var n=this.modal;n||(this.modal=n=new egret.Shape,n.touchEnabled=!0);var r=this.suiRawRect,o=n.graphics;o.clear(),o.beginFill(i.MODAL_COLOR,i.MODAL_ALPHA);var a=egret.sys.$TempStage;a.on("resize",this.onModalResize,this),t=t||a.stageWidth,e=e||a.stageHeight;var s=r.x-(t-r.width>>1),u=r.y-(e-r.height>>1);o.drawRect(s,u,t,e),o.endFill(),this.addChildAt(n,0),this.x=-s,this.y=-u,this._mTouchClose&&n.on("touchTap",this.hide,this)},i.prototype.onModalResize=function(){this.addModal()},i.prototype.removeModal=function(){this.modal&&(this.modal.off("touchTap",this.hide,this),t.removeDisplay(this.modal)),egret.sys.$TempStage.off("resize",this.onModalResize,this)},i.prototype.hide=function(){t.toggle(this.moduleID,-1)},Object.defineProperty(i.prototype,"isShow",{get:function(){return void 0!=this.stage&&1==this.visible},enumerable:!0,configurable:!0}),i.prototype.show=function(){t.toggle(this.moduleID,1)},i.MODAL_COLOR=0,i.MODAL_ALPHA=.8,i}(egret.Sprite);t.Panel=e,__reflect(e.prototype,"junyou.Panel",["junyou.SuiDataCallback","junyou.IAsyncPanel","egret.DisplayObject","junyou.IAsync","junyou.IModulePanel"]),t.expand(e,t.FHost,"addReadyExecute")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(i,n){var r=e.call(this)||this;return t.singleton(t.SuiResManager).createComponents(i,n,r),r}return __extends(i,e),i}(egret.Sprite);t.View=e,__reflect(e.prototype,"junyou.View")}(junyou||(junyou={}));var junyou;!function(t){var e={x:0,y:0},i=function(i){function n(){var t=null!==i&&i.apply(this,arguments)||this;return t.frontCon=new egret.Sprite,t.backCon=new egret.Sprite,t.frontMask=new egret.Shape,t.backMask=new egret.Shape,t.backPoints=[],t.frontPoints=[],t}return __extends(n,i),n.prototype.init=function(t,e,i,n){function r(t){if(t instanceof egret.DisplayObject){var e=new egret.RenderTexture;return e.drawToTexture(t),e}return t}void 0===i&&(i=5);var o=r(t),a=e&&e!=t?r(e):o,s=new egret.Bitmap,u=new egret.Bitmap;s.texture=o,u.texture=a,this.init2(s,u,i,n)},n.prototype.init2=function(e,i,n,r){void 0===n&&(n=5);var o=this,a=o.frontCon,s=o.backCon,u=o.frontMask,h=o.backMask;e.x=e.y=i.x=i.y=0,this.frontDis=e,this.backDis=i,this.sCorner=n,this.touchEnabled=!0,a.addChild(e),t.removeDisplay(u),e.mask=null,s.addChild(i),i.mask=h,i.scaleX=-1,h.scaleX=-1,t.removeDisplay(h),this.addChild(a),r||(r={width:e.width,height:e.height});var c=r.width,l=r.height;this.bl={x:0,y:l},this.tr={x:c,y:0},this.br={x:c,y:l},this.size=r,this.on("touchBegin",this.touchBegin,this)},n.prototype.touchBegin=function(t){var e=this.size,i=e.width,n=e.height,r=this.getLocal(t),o=r.x,a=r.y,s=n>>1>a,u=i>>1>o,h=s?u?1:2:u?4:8;if(this.farea=0,this.barea=0,h==(h&this.sCorner)){this.cCorner=h,this.oX=u?0:i,this.oY=s?0:n;var c=this.stage;c.on("touchMove",this.touchMove,this),c.on("touchEnd",this.touchEnd,this),c.on("touchReleaseOutside",this.touchEnd,this),this.draw(o,a)}},n.prototype.touchMove=function(t){var e=this.getLocal(t),i=e.x,n=e.y;this.draw(i,n)},n.prototype.getLocal=function(e){var i=e.stageX,n=e.stageY,r=t.Temp.EgretPoint;return this.globalToLocal(i,n,r),r},n.prototype.touchEnd=function(t){var e=this.farea;this.dispatchEventWith(-1060,!1,0==e?1:this.barea/e),this.reset(),this.clearEvents()},n.prototype.clearEvents=function(){var t=egret.sys.$TempStage;t.off("touchMove",this.touchMove,this),t.off("touchEnd",this.touchEnd,this),t.off("touchReleaseOutside",this.touchEnd,this)},n.prototype.reset=function(){var e=this,i=e.frontDis,n=e.backCon,r=e.frontMask;i.mask=null,t.removeDisplay(r),t.removeDisplay(n)},n.prototype.draw=function(t,i){function n(t,e,i){var n=e.graphics;n.clear();var r=t[0];n.beginFill(0),n.moveTo(r.x,r.y);for(var o=0,a=r,s=1;i>s;s++){var u=t[s];n.lineTo(u.x,u.y),o+=(u.x-a.x)*(u.y+a.y),a=u}return o+=(r.x-a.x)*(r.y+a.y),n.lineTo(r.x,r.y),n.endFill(),.5*o}var r=this,o=r.oX,a=r.oY,s=r.size,u=s.width,h=s.height,c=t-o,l=i-a;if(0==c||0==l)return void this.reset();var p,f=this,d=f.cCorner,y=f.backMask,v=f.frontCon,g=(f.backDis,f.frontDis),_=f.backCon,m=f.frontMask,b=f.backPoints,w=f.frontPoints,j=o+.5*c,x=a+.5*l,S=l/c,T=x+j/S,C=T-u/S,D=j+x*S,R=D-h*S,k=this,B=k.bl,P=k.br,M=k.tr,O=0,I=0;switch(d){case 1:D.between(0,u)?(p={x:D,y:0},b[O++]=p):(p={x:u,y:C},b[O++]=p,b[O++]=M),w[I++]=p,b[O++]=e,T.between(0,h)?(p={x:0,y:T},b[O++]=p,w[I++]=p,w[I++]=B):(b[O++]=B,p={x:R,y:h},b[O++]=p,w[I++]=p),w[I++]=P,w[I++]=M;break;case 4:T.between(0,h)?(p={x:0,y:T},b[O++]=p):(p={x:D,y:0},b[O++]=p,b[O++]=e),w[I++]=p,b[O++]=B,R.between(0,u)?(p={x:R,y:h},b[O++]=p,w[I++]=p,w[I++]=P):(b[O++]=P,p={x:u,y:C},b[O++]=p,w[I++]=p),w[I++]=M,w[I++]=e;break;case 8:R.between(0,u)?(p={x:R,y:h},b[O++]=p):(p={x:0,y:T},b[O++]=p,b[O++]=B),w[I++]=p,b[O++]=P,C.between(0,u)?(p={x:u,y:C},b[O++]=p,w[I++]=p,w[I++]=M):(b[O++]=M,p={x:D,y:0},b[O++]=p,w[I++]=p),w[I++]=e,w[I++]=B;break;case 2:C.between(0,h)?(p={x:u,y:C},b[O++]=p):(p={x:R,y:h},b[O++]=p,b[O++]=P),w[I++]=p,b[O++]=M,D.between(0,u)?(p={x:D,y:0},b[O++]=p,w[I++]=p,w[I++]=e):(b[O++]=e,p={x:0,y:T},b[O++]=p,w[I++]=p),w[I++]=B,w[I++]=P}this.farea=n(w,m,I),this.barea=n(b,y,O),g.mask=m,v.addChild(m),_.addChild(y),_.anchorOffsetX=-D,_.x=D,_.rotation=(Math.PI-2*Math.atan2(c,l))*Math.RAD_TO_DEG,this.addChild(_)},n}(egret.Sprite);t.Flip=i,__reflect(i.prototype,"junyou.Flip")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.on("addedToStage",t.addedToStage,t),t.on("removedFromStage",t.removedFromStage,t),t}return __extends(i,e),i.prototype.addedToStage=function(){if(this.uri){var e=t.ResourceManager.getTextureRes(this.uri,this.noWebp);e&&(e.bind(this),e.load())}},i.prototype.removedFromStage=function(){if(this.uri){var e=t.ResourceManager.getResource(this.uri);e&&e.loose(this)}},Object.defineProperty(i.prototype,"source",{set:function(t){this.uri!=t&&(this.uri&&this.removedFromStage(),this.uri=t,t?this.stage&&this.addedToStage():this.texture=void 0)},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this.removedFromStage(),this.off("addedToStage",this.addedToStage,this),this.off("removedFromStage",this.removedFromStage,this)},i}(egret.Bitmap);t.Image=e,__reflect(e.prototype,"junyou.Image")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._defaultWidth=5,t._defalutHeight=5,t._oldWidth=-1,t._oldHeight=-1,t.inited=!1,t._visible=!0,t}return __extends(i,e),Object.defineProperty(i.prototype,"index",{get:function(){return this._idx},set:function(t){this._idx=t;var e=this._skin;e&&(e.$_rndIdx=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dataChange",{get:function(){return this._noCheckSame||this._dataChange},set:function(t){this._dataChange=t},enumerable:!0,configurable:!0}),i.prototype.bindComponent=function(){this._skin?this.inited=!0:this.skinlib&&this.skinClass&&(this.skin=t.singleton(t.SuiResManager).createDisplayObject(this.skinlib,this.skinClass))},i.prototype.onTouchTap=function(){this.dispatch(-1001),this.dispatchEventWith("touchTap")},i.prototype.$setData=function(t){this._data=t,this.inited||this.bindComponent()},Object.defineProperty(i.prototype,"data",{get:function(){return this._data},set:function(t){(this._noCheckSame||t!=this._data)&&this.$setData(t)},enumerable:!0,configurable:!0}),i.prototype.setContainer=function(t){var e=this._container;this._container=t;var i=this._skin;return i&&(t?t.addChild(i):e&&e.contains(i)&&e.removeChild(i)),this},Object.defineProperty(i.prototype,"skin",{get:function(){return this._skin},set:function(t){t!=this._skin&&this.$setSkin(t)},enumerable:!0,configurable:!0}),i.prototype.$setSkin=function(t){var e=this._skin;e&&(e.$_rndIdx=void 0,this.removeSkinListener(e)),this._skin=t,t.$_rndIdx=this._idx,this.$setVisible(t.visible),t.touchEnabled=!0,this.addSkinListener(this._skin);var i=this._container;i&&i.addChild(t),this.bindComponent()},i.prototype.handleView=function(){this._sizeChecked||(this._sizeChecked=!0,this.checkViewSize())},i.prototype.checkViewSize=function(t){this._sizeChecked=!1;var e=this._skin,i=e.width,n=e.height;t||(this._oldHeight!=n||this._oldWidth!=i)&&(t=!0),this._oldHeight=n,this._oldWidth=i,t&&this.dispatch(-1999)},Object.defineProperty(i.prototype,"view",{get:function(){return this._skin},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"visible",{get:function(){return this._visible},set:function(t){t!=this._visible&&this.$setVisible(t)},enumerable:!0,configurable:!0}),i.prototype.$setVisible=function(t){this._visible=t;var e=this._skin;e&&(e.visible=t)},Object.defineProperty(i.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected!=t&&this.$setSelected(t)},enumerable:!0,configurable:!0}),i.prototype.setPos=function(t,e){var i=this._skin;return i&&("object"==typeof t?(i.x=t.x,i.y=t.y):(void 0!=t&&(i.x=t),void 0!=e&&(i.y=e))),this},i.prototype.$setSelected=function(t){this._selected=t,this.dispatch(-1e3)},i.prototype.dispatch=function(t,i,n,r){var o=this._skin;return o&&o.dispatch(t,i,n,r),e.prototype.dispatch.call(this,t,i,n,r)},i.prototype.dispose=function(){this.removeSkinListener(this._skin),this.removeAllListeners()},i.prototype.removeSkinListener=function(e){e&&(e.off("touchTap",this.onTouchTap,this),t.ViewController.prototype.removeSkinListener.call(this,e))},i.prototype.addSkinListener=function(e){e&&(e.on("touchTap",this.onTouchTap,this),t.ViewController.prototype.addSkinListener.call(this,e))},i.prototype.bindTouch=function(t,e,i,n){this.skin.touchEnabled=!0,this.on("touchTap",t,e,n,i)},i.prototype.looseTouch=function(t,e,i){this.off("touchTap",t,e,i)},Object.defineProperty(i.prototype,"isReady",{get:function(){return!1},enumerable:!0,configurable:!0}),i.prototype.startSync=function(){},i}(egret.EventDispatcher);t.ListItemRenderer=e,__reflect(e.prototype,"junyou.ListItemRenderer",["junyou.ListItemRender","egret.EventDispatcher","junyou.SelectableComponents"]),t.expand(e,t.ViewController,"addReadyExecute","addDepend","stageHandler","interest")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.currentPage=1,t.autoScrollSpeed=1,t.minPageScrollSpeed=.05,t._totalpageCount=1,t}return __extends(i,e),i.prototype.settotalpageInfo=function(t,e){1>t&&(t=1),0>e&&(e=0),this._pageSize=e,this._totalpageCount=t},Object.defineProperty(i.prototype,"totalpageCount",{get:function(){return this._totalpageCount},enumerable:!0,configurable:!0}),i.prototype.bindObj=function(t,i,n){e.prototype.bindObj.call(this,t,i,null)},i.prototype.onTargetTouchBegin=function(t){0==this._scrollType?this._firstTouchPos=t.stageY:this._firstTouchPos=t.stageX,e.prototype.onTargetTouchBegin.call(this,t)},i.prototype.endTouchContent=function(e){var i=this._content,n=i.stage||egret.sys.$TempStage;n.off("touchMove",this.moveOnContent,this),i.off("touchEnd",this.endTouchContent,this),i.off("touchReleaseOutside",this.endTouchContent,this);var r,o=t.Global.now;r=0==this._scrollType?e.stageY:e.stageX;var a=r-this._firstTouchPos;if(!(a>=0&&1==this.currentPage||0>a&&this.currentPage==this._totalpageCount)){var s;s=0==this._scrollType?this._content.scrollRect.y:this._content.scrollRect.x;var u=Math.round(s/this._pageSize)+1;1>u&&(u=1),u>this._totalpageCount&&(u=this._totalpageCount);var h=u>this.currentPage?-1:1;this._scrollToPage=u,this._lastFrameTime=t.Global.now,o-this._lastMoveTime<150?this._deriction==h?this._moveSpeed=this.autoScrollSpeed:this._moveSpeed>this.minPageScrollSpeed?(this._scrollToPage=this.currentPage,this._moveSpeed=this.autoScrollSpeed):this._moveSpeed=this.autoScrollSpeed:this._moveSpeed=this.autoScrollSpeed,i.stage&&n.on("enterFrame",this.autoScrollToNextPage,this)}},i.prototype.autoScrollToNextPage=function(e){var i,n=this._content,r=n.scrollRect,o=this._pageSize*(this._scrollToPage-1);i=0==this._scrollType?r.y:r.x;var a=t.Global.now,s=a-this._lastFrameTime,u=this._moveSpeed*s*this.globalspeed,h=o-i,c=h>0?-1:1;return Math.abs(h)<u||Math.abs(h)<2?(n.stage.off("enterFrame",this.autoScrollToNextPage,this),this.doScrollContent(h*c),r=n.scrollRect,i=0==this._scrollType?r.y:r.x,void(this.currentPage=Math.round(i/this._pageSize)+1)):(this.doScrollContent(u*c),this._lastFrameTime=a,void(this._moveSpeed*=this.blockSpeed))},i}(t.Scroller);t.PageScroller=e,__reflect(e.prototype,"junyou.PageScroller")}(junyou||(junyou={}));var junyou;!function(t){function e(t,e,i){i=i||{};for(var n=0,r=e.length;r>n;n++){var o=e[n],a=t[n];void 0!=a&&(i[o]=t[n])}return i}function i(t,e,i){for(var n=0,r=i.length;r>n;n++){var o=i[n];t[o]=e[n]}}t.DataUtils={parseDatas:function(t,e,i,n,r,o,a){for(var s,u=i;n>=u;u++){var h=r+u;h in e&&(s||(s=[]),s[u]=e[h])}s||o in e&&(s=[],t[o]=e[o]),s&&(t[a]=s)},parseDatas2:function(t,e,i,n,r,o,a,s){for(var u,h=n;r>=h;h++){var c=o+h,l=i.indexOf(c);~l&&(u||(u=[]),u[h]=e[l])}if(!u){var l=i.indexOf(a);~l&&(u=[],t[a]=e[l])}u&&(t[s]=u)},getData:e,getDataList:function(t,i){var n=[];if(t)for(var r=0,o=t.length;o>r;r++){var a=t[r];n.push(e(a,i))}return n},parseDataList:function(t,i,n,r){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];if(t)for(var s=0,u=t.length;u>s;s++){var h=t[s],c=e(h,i);n.call(r,c,o,s)}},copyData:i,copyDataList:function(t,e,n,r,o){for(var a=[],s=5;s<arguments.length;s++)a[s-5]=arguments[s];if(e)for(var u=0,h=e.length;h>u;u++){var c=e[u],l=new t;i(l,c,n),r.call(o,l,a,u)}}}}(junyou||(junyou={}));var junyou;!function(t){function e(t){return{x:t[0],y:t[1]}}t.DataUtils.getZuobiao=e,t.DataUtils.getZuobiaos=function(t,i){i=i||[];for(var n=0;n<t.length;n++)i.push(e(t[n]))},t.DataUtils.parseXAttr=function(t,e,i,n){void 0===i&&(i=!0),void 0===n&&(n=/^x\d+$/);var r=0;for(var o in t)if(n.test(o)){var a=+t[o];a>0&&(r++,e[o]=a),i&&delete t[o]}return r},t.DataUtils.parseXAttr2=function(t,e,i,n,r){void 0===i&&(i="pro"),void 0===n&&(n="provalue"),void 0===r&&(r=!0);var o=new RegExp("^"+i+"(\\d+)$"),a=0;for(var s in t){var u=o.exec(s);if(u){var h=+u[1]||0,c=n+h,l=+t[c];l>0&&(a++,e[t[s]]=l),r&&(delete t[s],delete t[c])}}return a}}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(){var e=t.call(this,null)||this;return e._viewCount=0,e}return __extends(e,t),e.prototype.displayList=function(t){this._selectedIndex=-1;for(var e=t&&t.length||0,i=Math.max(this._dataLen,this._viewCount);i>e;){var n=this.getItemAt(i-1);n&&(n.data=void 0,n.handleView&&n.handleView()),i--}this._data=t,this._dataLen=e,this.doRender(0,e-1)},e.prototype.updateByIdx=function(t,e){var i=this.getItemAt(t);i&&(this._data[t]=e,i.data=e,i.handleView&&i.handleView())},e.prototype.addItem=function(t,e){var i=this._list,n=i.indexOf(t);-1==n&&(n=i.length,i[n]=t,t.on(-1001,this.onTouchItem,this)),t.index=void 0==e?n:e,this._viewCount=i.length},e.prototype._get=function(t){var e=this._list,i=e[t];return i?(i.index=t,i):void 0},e.prototype.clear=function(){this._dataLen=0,this._data=void 0;for(var t=0,e=this._list;t<e.length;t++){var i=e[t];i.data=void 0}this._selectedIndex=-1,this._selectedItem=void 0},e.prototype.dispose=function(){for(var t=0,e=this._list;t<e.length;t++){var i=e[t];i.off("touchTap",this.onTouchItem,this)}this.clear()},e}(t.AbsPageList);t.MPageList=e,__reflect(e.prototype,"junyou.MPageList")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function n(i,n){var r=e.call(this)||this;return r._sizeChanged=!1,r.scroller=null,r._waitForSetIndex=!1,r.renderChange=!1,i instanceof t.ClassFactory||(i=new t.ClassFactory(i)),r._factory=i,r.init(n),r}return __extends(n,e),Object.defineProperty(n.prototype,"container",{get:function(){return this._con
},set:function(t){if(t){var e=this._con;e!=t&&(e&&(delete e.$_page,delete e.scrollRect),this._con=t,t.$_page=this,Object.defineProperty(t,"scrollRect",i))}},enumerable:!0,configurable:!0}),n.prototype.init=function(e){e=e||t.Temp.EmptyObject;var i=e.hgap,n=e.vgap,r=e.type,o=e.itemWidth,a=e.itemHeight,s=e.columnCount,u=e.staticSize;this.staticSize=u,s=~~s,1>s&&(s=1),this._columncount=s,this._hgap=~~i,this._vgap=~~n,this.itemWidth=o,this.itemHeight=a,this._scrollType=~~r,this.container=e.con||new egret.Sprite},n.prototype.displayList=function(t){this._selectedIndex=-1,this._data!=t&&(this.rawDataChanged=!0);var e=t?t.length:0;if(this._data){var i=this._list,n=i.length;if(n>e){for(var r=e;r<i.length;r++){var o=i[r];this._removeRender(o)}i.length=e}}return this._data=t,this._lastRect=void 0,e?(this._dataLen=e,this.initItems(),this.scroller&&this.scroller.scrollToHead(),void(this.rawDataChanged=!1)):(this.dispose(),this._dataLen=0,void(this.rawDataChanged=!1))},n.prototype.initItems=function(){var t=this._data.length;this.doRender(0,t-1),this._sizeChanged=!0,this.reCalc(),this.checkViewRect()},n.prototype.onChange=function(){this.itemWidth&&this.itemHeight||(this._sizeChanged=!0,this.reCalc())},n.prototype._get=function(t){var e=this._list,i=e[t];return i||(i=this._factory.get(),e[t]=i,i.on(-1999,this.onSizeChange,this),i.on(-1001,this.onTouchItem,this)),i.index=t,i},n.prototype.onSizeChange=function(){this._sizeChanged||(this._sizeChanged=!0,this.once("enterFrame",this.reCalc,this))},n.prototype.reCalc=function(){if(this._sizeChanged){this._sizeChanged=!1;for(var t=this._list,e=t.length,i=e-1,n=this,r=n.itemWidth,o=n.itemHeight,a=n._columncount,s=n._hgap,u=n._vgap,h=n.staticSize,c=e/a,l=0,p=0,f=0,d=0,y=0,v=0;c>=v;v++){for(var g=0,_=0;a>_&&!(y>i);_++){var m=t[y++],b=m.view,w=0;if(b){var j=b;if(h){var x=b.suiRawRect;x&&(j=x)}w=j.width;var S=j.height;b.x=p,b.y=l;var T=b.x+w;T>f&&(f=T),S>g&&(g=S)}p+=s+(r||w)}var C=l+g;if(C>d&&(d=C),y>i)break;p=0,l+=u+(o||g)}if(f!=this._w||d!=this._h){this._w=f,this._h=d;var D=this._con.graphics;D.clear(),D.beginFill(0,0),D.drawRect(0,0,f,d),D.endFill(),this.dispatch(-1999)}}},n.prototype.$setSelectedIndex=function(t){if(this._waitIndex=t,!this._data)return void(this._waitForSetIndex=!0);var e,i=this._list,n=i.length-1;t>n&&(t=n),e=this._list[t],this.changeRender(e,t);var r=e.view;r&&r.stage?(this._waitForSetIndex=!1,this.moveScroll(e)):this._waitForSetIndex=!0,this._waitForSetIndex&&this.moveScroll(e)},n.prototype.moveScroll=function(e){var i=this._con,n=i.scrollRect;if(n){var r=e.view;if(r){var o,a,s;0==this._scrollType?(o=n.y,a=r.y,s=this._h-r.height):(o=n.x,a=r.x,s=this._w-r.width),a>s&&(a=s),n&&(a-=0==this._scrollType?n.height:n.width,0>a&&(a=0));var u=this.scroller;if(u&&u.stopTouchTween(),this.useTweenIndex){var h=t.Global.getTween(this,null,null,!0),c=1==this._scrollType?{tweenX:a}:{tweenY:a};h.to(c,500,t.Ease.quadOut),u&&(u.showBar(),h.call(u.hideBar,u))}else u&&u.doMoveScrollBar(o-a),0==this._scrollType?n.y=a:n.x=a,i.scrollRect=n}}},Object.defineProperty(n.prototype,"tweenX",{get:function(){var t=this._con.scrollRect;return t?t.x:0},set:function(t){var e=this._con,i=e.scrollRect||new egret.Rectangle(0/0);if(t!=i.x){var n=t-i.x;i.x=t;var r=this.scroller;r&&r.doMoveScrollBar(n),e.scrollRect=i}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tweenY",{get:function(){var t=this._con.scrollRect;return t?t.y:0},set:function(t){var e=this._con,i=e.scrollRect||new egret.Rectangle(0,0/0);if(t!=i.y){var n=t-i.y;i.y=t;var r=this.scroller;r&&r.doMoveScrollBar(n),e.scrollRect=i}},enumerable:!0,configurable:!0}),n.prototype.tweenToIndex=function(t){this.useTweenIndex=!0,this.selectedIndex=t},n.prototype.selectItemByData=function(t,e,i){void 0===i&&(i=!1);for(var n=this._data,r=n.length,o=0;r>o;o++)if(t in n[o]&&n[o][t]==e){i?this.tweenToIndex(o):this.selectedIndex=o;break}},n.prototype.updateByIdx=function(t,e){var i=this.getItemAt(t);i&&(this._data[t]=e,t>=this._showStart&&t<=this._showEnd&&this.doRender(t))},n.prototype.removeAt=function(t){t>>>=0;var e=this._list;if(t<e.length){var i=e[t];e.splice(t,1),this._data.splice(t,1),this._removeRender(i)}},n.prototype.removeItem=function(t){var e=this._list.indexOf(t);-1!=e&&this.removeAt(e)},n.prototype._removeRender=function(e){e.data=void 0,t.removeDisplay(e.view),e.off(-1999,this.onSizeChange,this),e.off(-1001,this.onTouchItem,this),e.dispose(),this.renderChange||(this.renderChange=!0,this.once("enterFrame",this.refreshByRemoveItem,this))},n.prototype.refreshByRemoveItem=function(){this.renderChange&&(this.renderChange=!1,this._sizeChanged=!0,this.reCalc(),this.checkViewRect())},n.prototype.dispose=function(){this.clear()},n.prototype.clear=function(){this._con.graphics.clear(),this._selectedIndex=-1,this._data=void 0;for(var t=this._list,e=0;e<t.length;e++)this._removeRender(t[e]);t.length=0,this._selectedItem=void 0,this._waitForSetIndex=!1,this._waitIndex=-1,this._w=0,this._h=0},n.prototype.checkViewRect=function(){function e(e){var i=r[e],o=i.view;if(o){var a=void 0;if(S){a=x,a.x=o.x,a.y=o.y;var s=o.suiRawRect;a.width=s.width,a.height=s.height}else a=o;if(t.intersects(a,n))_||(_=i,b=e),j.push(o);else if(_&&(m=i,w=e,S))return!0}}var i=this._con,n=i.scrollRect,r=this._list,o=r.length,a=o-1;if(!n){for(var s=0;o>s;s++){var u=r[s],h=u.view;h&&i.addChild(h)}return this._showStart=0,void(this._showEnd=o-1)}var c,l,p=this._lastRect;if(p){var f="x",d="width";0==this._scrollType&&(f="y",d="height");var y=n[f]-p[f];if(0==y&&n[d]==p[d]&&!this.rawDataChanged)return;for(var v=this._showStart,g=this._showEnd,s=v;g>=s;s++){var u=r[s];u&&t.removeDisplay(u.view)}y>0?(c=v,l=!0):(c=g,l=!1),p[f]=n[f],p[d]=n[d]}else{if(!o)return;p=n.clone(),this._lastRect=p,c=0,l=!0}var _,m,b,w,j=t.Temp.SharedArray3,x=t.Temp.SharedRect1,S=this.staticSize;if(j.length=0,l){b=0,w=a;for(var s=c;o>s&&!e(s);s++);for(var s=0,T=j.length;T>s;s++){var h=j[s];i.addChild(h)}this._showStart=b,this._showEnd=w}else{b=a,w=0;for(var s=c;s>=0&&!e(s);s--);for(var s=j.length-1;s>=0;s--){var h=j[s];i.addChild(h)}this._showStart=w,this._showEnd=b}j.length=0},n}(t.AbsPageList);t.PageList=e,__reflect(e.prototype,"junyou.PageList");var i={set:function(t){egret.Sprite.prototype.$setScrollRect.call(this,t),this.$_page.checkViewRect()},get:function(){return this.$scrollRect},configurable:!0}}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(t){this._txs={},this.name=t}return e.prototype.getTexture=function(t){return this._txs[t]},e.prototype.parseData=function(e,i){this._suiData=i;for(var n=this._txs,r=0,o=e.length;o>r;r++){var a=e[r],s=a[0];n[s]=i.getTexture(a[1])}t.refreshTexs(i,this)},e}();t.ArtWord=e,__reflect(e.prototype,"junyou.ArtWord")}(junyou||(junyou={}));var junyou;!function(t){function e(t,e){Object.defineProperties(t,{width:{get:function(){return e.size.width},enumerable:!0,configurable:!0},height:{get:function(){return e.size.height},enumerable:!0,configurable:!0}})}t.bindSize=e}(junyou||(junyou={}));var junyou;!function(t){function e(t,e){function i(){n.recycle(this)}var n=t._pool;if(!n){if(e)n=new r(function(){var e=new t;return e.recycle=i,e});else{n=new r(t);var o=t.prototype;void 0==o.recycle&&(o.recycle=i)}Object.defineProperty(t,"_pool",{value:n})}return n.get()}function i(t){var e=t._instance;return e||(e=new t,Object.defineProperty(t,"_instance",{value:e})),e}var n=function(){function t(t,e){this._creator=t,this._props=e}return t.prototype.get=function(){var t=new this._creator,e=this._props;for(var i in e)t[i]=e[i];return t},t}();t.ClassFactory=n,__reflect(n.prototype,"junyou.ClassFactory");var r=function(){function t(t,e){void 0===e&&(e=100),this._pool=[],this._max=e,this._creator=t}return t.prototype.get=function(){var t,e=this._pool;return t=e.length?e.pop():new this._creator,"function"==typeof t.onSpawn&&t.onSpawn(),t},t.prototype.recycle=function(t){var e=this._pool,i=e.indexOf(t);~i||("function"==typeof t.onRecycle&&t.onRecycle(),e.length<this._max&&e.push(t))},t}();t.RecyclablePool=r,__reflect(r.prototype,"junyou.RecyclablePool");t.recyclable=e,t.singleton=i}(junyou||(junyou={}));var junyou;!function(t){function e(t,e){var i=t.pngbmd;"refreshBMD"in e||(e.refreshBMD=function(){var t=this._txs,e=i.bmd;for(var n in t)t[n]._bitmapData=e}),t.checkRefreshBmp(e)}t.refreshTexs=e}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(t,e){this.textures=[],this.bmdState=0,this._maxErrCount=3,this.using=0,this.lastUseTime=0,this.loading=[],this._uri=t,this._url=e}return Object.defineProperty(e.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isStatic",{get:function(){return this.using>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resID",{get:function(){return this._uri},enumerable:!0,configurable:!0}),e.prototype.loadBmd=function(){this.bmdState<=0&&(RES.getResByUrl(this._url,this.checkBitmap,this,"image"),this.bmdState=1)},e.prototype.checkBitmap=function(e,i){if(!e){this.bmdState=-1;var n=~~this._errCount;return n++,this._errCount=n,void(n<this._maxErrCount?this.loadBmd():(t.ThrowError("尝试"+n+"次加载资源["+this._url+"]失败"),t.dispatch(-1070,this._uri)))}var r=e.bitmapData,o=this.textures;this.bmd=r;for(var a=0,s=o;a<s.length;a++){var u=s[a];u._bitmapData=r}var h=this.loading;if(h){for(var c=0,l=h;c<l.length;c++){var p=l[c];p.refreshBMD()}h.length=0}this.bmdState=2},e.prototype.checkExpire=function(t){0!=this.bmdState&&!this.using&&this.lastUseTime<t&&this.dispose()},e.prototype.dispose=function(){var t=this.bmd;this.bmdState=0,t&&(t.$dispose(),this.bmd=void 0,RES.destroyRes(this._url))},e}();t.SuiBmd=e,__reflect(e.prototype,"junyou.SuiBmd",["junyou.IResource"])}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this.state=0,this.lib={}}return e.prototype.createBmpLoader=function(e,i){var n="d"+(e?".png":".jpg"),r="skin/"+t.ConfigUtils.getSkinPath(this.key,n),o=t.ResourceManager.get(r,this.noRes,this,r,n,i);e?this.pngbmd=o:this.jpgbmd=o},e.prototype.noRes=function(e,i,n){var r=t.ConfigUtils.getSkinFile(this.key,i)+t.Global.webp,o=new t.SuiBmd(e,r);return o.textures=n,o},e.prototype.checkRefreshBmp=function(t,e){var i=e?this.jpgbmd:this.pngbmd;return i?(i.using++,2==i.bmdState?(t.refreshBMD&&t.refreshBMD(),!0):(i.loading.pushOnce(t),i.loadBmd(),!1)):void 0},e.prototype.getTexture=function(t){var e=t,i=this.pngbmd;0>t&&(e=-1-t,i=this.jpgbmd);var n=i.textures;return n?n[e]:void 0},e.prototype.loadBmd=function(t){function e(){var t=this.count;--t?this.count=t:this.callback.execute(!0)}var i={},n=0;this.jpgbmd&&!this.checkRefreshBmp(i,!0)&&n++,this.pngbmd&&!this.checkRefreshBmp(i)&&n++,n?(i.count=n,i.callback=t,i.refreshBMD=e):t.execute(!0)},e}();t.SuiData=e,__reflect(e.prototype,"junyou.SuiData")}(junyou||(junyou={}));var junyou;!function(t){var e=egret.Texture;t.DATA_FILE="s.json";var i=function(){function i(){this._suiDatas={},this._urlKey={},this.initInlineCreators()}return i.prototype.initInlineCreators=function(){this._creators=(e={},e[3]=t.ButtonCreator,e[6]=t.ArtTextCreator,e[5]=t.ScaleBitmapCreator,e[7]=t.NumericStepperCreator,e[8]=t.SliderCreator,e[9]=t.ScrollBarCreator,e[10]=t.ProgressBarCreator,e[11]=t.ScaleBitmapCreator,e[12]=t.ShareBitmapCreator,e[13]=t.SlotCreator,e[19]=t.MovieClipCreator,e[20]=t.MCButtonCreator,e[21]=t.MCProgressCreator,e),this.sharedTFCreator=new t.TextFieldCreator;var e},i.prototype.getData=function(t){return this._suiDatas[t]},i.prototype.loadData=function(e,i){var n=this._suiDatas[e];n||(n=new t.SuiData,n.key=e,this._suiDatas[e]=n);var r=n.state;if(-1==r)i.suiDataFailed(n);else if(2==r)i.suiDataComplete(n);else{var o=n.callbacks;if(0==r){n.state=1,n.callbacks=o=[];var a=t.ConfigUtils.getSkinFile(e,t.DATA_FILE);n.url=a,this._urlKey[a]=n,RES.getResByUrl(a,this.checkData,this)}o.pushOnce(i)}},i.prototype.setInlineData=function(e,i){var n=t.ConfigUtils.getSkinFile(e,t.DATA_FILE),r=this._urlKey[n];r||(r=new t.SuiData,r.key=e,r.url=n,this._suiDatas[e]=r),this._initSuiData(i,r)},i.prototype._initSuiData=function(t,e){var i=t[0];i&&this.parseTextureData(i,e,!0);var n=t[2];n&&this.parseTextureData(n,e),this.parseComponentData(t[1],e);var r,o=t[4];if(o){var a=t[3];r={};for(var s=0;s<a.length;s++){var u=a[s],h=o[u[0]];r[h]=u.slice(1)}e.panelNames=o}else r=t[3];r&&(e.panelsData=r),e.state=2;var c=e.callbacks;if(c){for(var s=0;s<c.length;s++){var l=c[s];l.suiDataComplete(e)}delete e.callbacks}},i.prototype.checkData=function(t,e){var i=this._urlKey[e];if(t)this._initSuiData(t,i);else{i.state=-1;var n=i.callbacks;if(n){for(var r=0;r<n.length;r++){var o=n[r];o.suiDataFailed(i)}delete i.callbacks}}},i.prototype.parseComponentData=function(e,i){i.sourceComponentData=e;for(var n in e){var r=e[n],o=r[0],a=r[1],s=r[2],u=o.length;if(15==n)for(var h=i.fonts,c=0;u>c;c++){var l=o[c],p=a[c],f=new t.ArtWord(l);f.parseData(p,i),h||(i.fonts=h={}),h[l]=f}else{var d=this._creators[n];if(d)for(var y=i.lib,c=0;u>c;c++){var v=o[c],p=a[c],g=new d;g.parseData(null,i),p&&(g.parseSelfData(p),g.parseSize(s[c])),y[v]=g}}}},i.prototype.parseTextureData=function(i,n,r){if(i){var o=[],a=n.bmplibs;a||(n.bmplibs=a={}),n.createBmpLoader(r,o);for(var s=0,u=i.length;u>s;s++){var h=i[s],c=new e,l=h[0],p=h[1],f=h[2],d=h[3];c.$initData(f,d,l,p,0,0,l,p,l,p),o[s]=c;var y=new t.BitmapCreator(n),v=r?s:-1-s;y.parseSelfData(v),a[v]=y}}},i.prototype.createDisplayObject=function(t,e,i){var n=this._suiDatas[t];if(n){var r=n.lib[e];if(r)return r.setBaseData(i),r.get()}},i.prototype.createElement=function(t,e){var i="string"==typeof t?this._suiDatas[t]:t;if(i){var n=this._creators[+e[0]];if(n){var r=new n;return r.parseData(e,i),r.get()}}},i.prototype.createBitmap=function(t,e,i){var n=this._suiDatas[t];if(n){var r=n.bmplibs,o=r[e];if(o)return o.setBaseData(i),o.get()}},i.prototype.getArtWord=function(t,e){var i=this._suiDatas[t];if(i){var n=i.fonts;if(n)return n[e]}},i.prototype.getArtWordTexture=function(t,e,i){var n=this.getArtWord(t,e);return n?n.getTexture(i):void 0},i.prototype.createBitmapByData=function(t,e){return this.createBitmap(t,e[2],e[1])},i.prototype.createTextField=function(t,e,i){var n=this.sharedTFCreator;return n.parseSelfData(e),n.setBaseData(i),n.get()},i.prototype.createTextFieldByData=function(t,e){return this.createTextField(t,e[2],e[1])},i.initBaseData=function(t,e){e[0]&&(t.name=e[0]);var i=e[1],n=e[2],r=e[3],o=e[4],a=e[5],s=e[6];if(t.suiRawRect=new egret.Rectangle(i,n,r,o),Array.isArray(a)){var u=a[0],h=a[1],c=a[2],l=a[3],p=t.matrix;p.setTo(u,h,c,l,i,n),t.$setMatrix(p,!0)}else t.width=r,t.height=o,t.x=i,t.y=n,a&&(t.rotation=a);void 0!=s&&(t.alpha=s)},i.prototype.createComponents=function(t,e,i){var n=this._suiDatas[t];if(n){var r=n.panelsData;if(r){var o=r[e];if(o){var a=o[0],s=o[1];i.suiRawRect=new egret.Rectangle(a[0],a[1],a[2],a[3]),this._createComponents(n,i,s)}}}},i.prototype._createComponents=function(t,e,i){if(i)for(var n=0;n<i.length;n++)this.createComponent(i[n],t,e)},i.prototype.createComponent=function(t,e,n){var r,o=t[1],a=t[0];14==a?r=new egret.Rectangle(o[1],o[2],o[3],o[4]):(2==a?(r=new egret.Sprite,i.initBaseData(r,o),this._createComponents(e,r,t[2])):r=this.getElement(e,t),r&&n.addChild(r));var s=o[0];return s&&(n[s]=r),r},i.prototype.getElement=function(e,n){var r=n[0],o=n[1],a=n[2],s=n[3];switch(r){case 1:var u=new t.TextFieldCreator;return u.setBaseData(o),u.parseSelfData(a),u.get();case 0:var h=new t.BitmapCreator(e);return h.parseData(n,e),h.get();case 16:var c=new egret.Sprite;return i.initBaseData(c,o),c;case 17:var l=new t.Image;return i.initBaseData(l,o),l;default:void 0==s&&(s=0);var p=void 0;switch(s){case 0:p=e.key;break;case 1:p="lib";break;default:p=s}if(18==r){var f=e.panelNames[~~a],d=new t.View(p,f);return i.initBaseData(d,o),d}var y=e.sourceComponentData;if(y){var v=y[r];if(v){var g=v[0];if(g){var _=a,m=g[_];if(m)return this.createDisplayObject(p,m,o)}}}return this.createElement(p,n)}},i.prototype.getSize=function(t,e,i){var n=this._suiDatas[t];if(n){var r=n.panelsData;if(r){var o=r[e];if(o){var a=o[0];return i=i||new egret.Rectangle,i.setTo(a[0],a[1],a[2],a[3]),i}}}},i}();t.SuiResManager=i,__reflect(i.prototype,"junyou.SuiResManager")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._align=4,t.artwidth=0,t._maxHeight=0,t}return __extends(i,e),i.prototype.refreshBMD=function(){for(var t=0,e=this.$children;t<e.length;t++){var i=e[t];i.refreshBMD()}},i.prototype.setVerticalAlign=function(t){this._align!=t&&(this._align=t)},i.prototype.$setValue=function(t){if(this._value!=t){void 0==t&&(t=""),this._value=t;for(var e,i,n=t+"",r=n.length,o=this.textures,a=this.$children,s=this.numChildren,u=0,h=this.hgap||0,c=0,l=0;r>l;l++){e=n.charAt(l),s>l?i=a[l]:(i=new egret.Bitmap,this.addChild(i));var p=o[e];p&&(p.textureHeight>c&&(c=p.textureHeight),i.x=u,i.texture=null,i.texture=p,u+=p.textureWidth+h)}for(this.artwidth=u-h,l=s-1;l>=r;l--)this.$doRemoveChild(l);this._maxHeight=c,this.checkAlign()}},Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){this.$setValue(t)},enumerable:!0,configurable:!0}),i.prototype.$getWidth=function(){return this.artwidth},i.prototype.checkAlign=function(){var t=this.$children,e=this._maxHeight;switch(this._align){case 4:t.forEach(function(t){t.y=0});break;case 12:t.forEach(function(t){t.y=e-t.height});break;case 8:t.forEach(function(t){t.y=e-t.height>>1})}},i.prototype.dispose=function(){e.prototype.dispose.call(this),t.removeDisplay(this)},i}(t.Component);t.ArtText=e,__reflect(e.prototype,"junyou.ArtText");var i=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return __extends(n,i),n.prototype.parseSelfData=function(i){for(var n=this,r=i[0],o=r.length,a=this._suiData,s={},u=0;o>u;u++){var h=a.getTexture(i[u+1]),c=r.charAt(u);s[c]=h}this._txs=s,t.refreshTexs(a,this),this._createT=function(){var t=new e;return n.bindEvent(t),t.textures=s,t}},n.prototype.bindEvent=function(t){t.on("addedToStage",this.onAddedToStage,this),t.on("removedFromStage",this.onRemoveFromStage,this)},n.prototype.onAddedToStage=function(t){var e=this._suiData;if(e){var i=t.currentTarget;e.checkRefreshBmp(i)}},n.prototype.onRemoveFromStage=function(){var e=this._suiData;if(e){var i=e.pngbmd;i.using--,i.lastUseTime=t.Global.now}},n}(t.BaseCreator);t.ArtTextCreator=i,__reflect(i.prototype,"junyou.ArtTextCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(){this.count=0}return t.prototype.toURLString=function(){return"pid="+encodeURIComponent(this.pid)+"&puid="+encodeURIComponent(this.puid)+"&sid="+this.sid+"&sign="+encodeURIComponent(this.sign)},t}();t.AuthData=e,__reflect(e.prototype,"junyou.AuthData")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(e){var i=t.call(this)||this;return e&&i.setSkin(e),i}return __extends(e,t),e.prototype.setSkin=function(t){this.txtLabel=t.tf,this.mc=t,this.addChild(t),this.refresh()},e.prototype.refresh=function(){var t=this.mc;t&&t.stop(this.$getBtnFrame())},e.prototype.dispose=function(){t.prototype.dispose.call(this);var e=this.mc;e&&e.dispose()},e}(t.Button);t.MCButton=e,__reflect(e.prototype,"junyou.MCButton"),e.prototype.addChild=t.Component.prototype.addChild;var i=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return __extends(n,i),n.prototype.parseSelfData=function(i){var n=this._suiData,r=t.MovieClipCreator.prototype.$getFramesData(i);this._createT=function(){return new e(new t.MovieClip(i,r,n))}},n}(t.BaseCreator);t.MCButtonCreator=i,__reflect(i.prototype,"junyou.MCButtonCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(i,n,r){var o=e.call(this)||this;o.loop=!0,o.timePerFrame=100,o.suiData=r;var a,s=i[0];if(s){var u=t.singleton(t.SuiResManager),h=0;a=[];for(var c=0;c<s.length;c++){var l=u.createComponent(s[c],r,o);l instanceof egret.DisplayObject&&(a[h++]=l)}}else a=t.Temp.EmptyArray;return o.compData=a,o.framesData=n,o.totalFrame=n.length,o.stop(0),o}return __extends(i,e),i.prototype.stop=function(t){var e=this.validateFrame(this.getFrame(t));this.playing=!1,this.render(e),this.currentFrame=e,this.off("enterFrame",this.doRender,this)},i.prototype.play=function(e){this.currentFrame=this.getFrame(e),this.playing=!0,this._nt=t.Global.now+this.timePerFrame,this.on("enterFrame",this.doRender,this)},i.prototype.doRender=function(){var e=t.Global.now,i=this._nt;if(e>i){var n=this.currentFrame,r=this.timePerFrame,o=(e-i)/r|0;n=this.validateFrame(n+1+o),this.render(n),this.currentFrame=n,this._nt=i+(o+1)*r}},i.prototype.validateFrame=function(t){var e=this.totalFrame;return t>=e&&(this.loop?t%=e:t=e-1),t},i.prototype.getFrame=function(t){return void 0==t?this.currentFrame:t},i.prototype.render=function(e){var i=this.framesData[e];if(i&&i.key!=this.currentFrame){var n=this.compData,r=t.singleton(t.SuiResManager),o=(r.sharedTFCreator,this.suiData);this.removeChildren();for(var a=0,s=i.data;a<s.length;a++){var u=s[a],h=void 0,c=void 0,l=void 0,p=void 0;Array.isArray(u)?(h=u[0],c=u[1],p=u[2]):h=u,-1==h?l=r.createComponent(c,o,this):(l=n[h],l instanceof egret.DisplayObject&&(this.addChild(l),c&&t.SuiResManager.initBaseData(l,c),l instanceof egret.TextField&&(p||(p=l.rawTextData),r.sharedTFCreator.initTextData(l,p))))}}},i}(t.Component);t.MovieClip=e,__reflect(e.prototype,"junyou.MovieClip");var i=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return __extends(i,t),i.prototype.parseSelfData=function(t){var i=this._suiData,n=this.$getFramesData(t);this._createT=function(){return new e(t,n,i)}},i.prototype.$getFramesData=function(t){for(var e=[],i=0,n=0,r=t[1];n<r.length;n++)for(var o=r[n],a=o[0],s=o[1],u=i,h=0;a>h;h++)e[i++]={key:u,data:s};return e},i}(t.BaseCreator);t.MovieClipCreator=i,__reflect(i.prototype,"junyou.MovieClipCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._minValue=1,t}return __extends(i,e),i.prototype.bindChildren=function(){var t=this,e=t.txtbg,i=t.subBtn,n=t.addBtn,r=t.txt;this.addChild(e),this.addChild(i),this.addChild(n),i.enabled=!0,n.enabled=!0,i.bindTouch(this.subValue,this),n.bindTouch(this.addValue,this),this.addChild(r),this.minBtn&&(this.addChild(this.minBtn),this.minBtn.enabled=!0,this.minBtn.bindTouch(this.setMinValue,this)),this.maxBtn?(this.addChild(this.maxBtn),this.maxBtn.enabled=!0,this.maxBtn.bindTouch(this.setMaxValue,this),this._width=this.maxBtn.width+this.maxBtn.x):this._width=this.addBtn.width+this.addBtn.x},Object.defineProperty(i.prototype,"width",{get:function(){return this._width},set:function(t){if(this._width!=t){var e=t-this._width;this.txt.width+=e,this.txtbg.width+=e,this.addBtn.x+=e,this.maxBtn&&(this.maxBtn.x+=e),this._width=t}},enumerable:!0,configurable:!0}),i.prototype.setMinValue=function(t){this._minValue&&(this.value=this._minValue)},i.prototype.addValue=function(t){this.value<this._maxValue&&(this.value+=1)},i.prototype.subValue=function(t){this.value>this._minValue&&(this.value-=1)},i.prototype.setMaxValue=function(t){this._maxValue&&(this.value=this._maxValue)},Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){this._value!=t&&(this._value=t,this.txt.text=t+"",this.dispatch(-1040))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minValue",{get:function(){return this._minValue},set:function(e){e?this._minValue=e:t.ThrowError("最小值需大于0")},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxValue",{get:function(){return this._maxValue},set:function(e){e?this._maxValue=e:t.ThrowError("最大值需大于0")},enumerable:!0,configurable:!0}),i}(t.Component);t.NumericStepper=e,__reflect(e.prototype,"junyou.NumericStepper");var i=function(i){function n(){return i.call(this)||this}return __extends(n,i),n.prototype.parseSelfData=function(e){this.uiData=e;var i=new t.TextFieldCreator;this.txtCreator=i;var n=e[0],r=e[1];i.setBaseData(n[1]),i.parseSelfData(n[2]);var o=new t.ScaleBitmapCreator;this.scale9Creator=o;var a=this._suiData,s=a.sourceComponentData;o.bindSuiData(a),o.parseSelfData(s[5][1][r[2]]),o.setBaseData(r[1]);var u=[];this.btnCreator=u;for(var h=s[3][1],c=2;c<e.length;c++){var l=e[c];if(l){var p=new t.ButtonCreator;p.bindSuiData(a),p.parseSelfData(h[l[2]]),p.setBaseData(l[1]),u.push(p)}}this._createT=this.createNumericStepper,this.suiManager=t.singleton(t.SuiResManager)},n.prototype.createNumericStepper=function(){var t=new e;t.txt=this.txtCreator.get(),t.txtbg=this.scale9Creator.get();var i=this.btnCreator,n=i.length;return n>=3?(t.minBtn=i[0].get(),t.subBtn=i[1].get(),t.addBtn=i[2].get(),t.maxBtn=i[3].get()):(t.subBtn=i[0].get(),t.addBtn=i[1].get()),t.bindChildren(),t},n}(t.BaseCreator);t.NumericStepperCreator=i,__reflect(i.prototype,"junyou.NumericStepperCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(){var i=t.call(this)||this;return i._labelFun=e.defaultLabelFunction,i._value=0,i._maxValue=1,i._delta=0,i}return __extends(e,t),Object.defineProperty(e.prototype,"labelFun",{get:function(){return this._labelFun},set:function(t){this._labelFun!=t&&(this._labelFun=t,this.refresh())},enumerable:!0,configurable:!0}),e.prototype.setWidth=function(t){var e=this,i=e.bg,n=e.bar;e.tf;i&&(i.width=t),n.width=t-this._delta},Object.defineProperty(e.prototype,"skin",{set:function(t){if(this._skin!=t){this._skin=t;var e=t.bg,i=t.bar,n=t.tf;this.bar=i,this._barWidth=i.width,e&&(this.bg=e,this._delta=e.width-i.width),this.tf=n}},enumerable:!0,configurable:!0}),e.prototype.progress=function(t,e){0>t&&(t=0),0>e&&(e=1e-5),t>e&&(t=e),this._value=t,this._maxValue=e,this.refresh()},e.prototype.updateLabel=function(){var t=this.tf,e=this._labelFun;t&&e&&(t.text=e(this._value,this._maxValue))},e.prototype.updateBar=function(){var t=this.bar,e=this._value*this._barWidth/this._maxValue;if(this.useMask){var i=t.scrollRect;i||(i=new egret.Rectangle(0,0,0,t.height)),i.width=e,t.scrollRect=i}else t.width=e},e.prototype.refresh=function(){this.updateLabel(),this.updateBar()},e.defaultLabelFunction=function(t,e){return t+" / "+e},e}(t.Component);t.ProgressBar=e,__reflect(e.prototype,"junyou.ProgressBar");var i=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return __extends(i,t),i.prototype.parseSelfData=function(t){var i=this;this._createT=function(){for(var n,r,o,a,s=new e,u=t.length,h=0;u>h;h++)if(n=t[h]){var c=i.createElement(n);0==h?r=c:1==h?o=c:2==h&&(a=c)}return a&&s.addChild(a),o&&s.addChild(o),r&&s.addChild(r),s.skin={bg:a,bar:o,tf:r},s}},i}(t.BaseCreator);t.ProgressBarCreator=i,__reflect(i.prototype,"junyou.ProgressBarCreator");var n=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return __extends(n,i),n.prototype.parseSelfData=function(i){var n=this._suiData,r=t.MovieClipCreator.prototype.$getFramesData(i);this._createT=function(){var o=new t.MovieClip(i,r,n),a=new e;return a.addChild(o),a.skin=o,a}},n}(t.BaseCreator);t.MCProgressCreator=n,__reflect(n.prototype,"junyou.MCProgressCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.$render=function(){var t=this.$Bitmap[0];if(t){var e=this.$Bitmap;egret.sys.BitmapNode.$updateTextureData(this.$renderNode,this.texture.bitmapData,e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],this.width,this.height,e[13],e[14],this.scale9Grid,this.$fillMode,e[10])}},e}(egret.Bitmap);t.ScaleBitmap=e,__reflect(e.prototype,"junyou.ScaleBitmap");var i=function(t){function i(){return t.call(this)||this}return __extends(i,t),i.prototype.parseSelfData=function(t){var i=this,n=t[0],r=n[2];0>r&&(this.isjpg=!0);var o=t[1],a=0!=t[0],s=n[1],u=s[3],h=s[4];if(o)var c=new egret.Rectangle(o[0],o[1],o[2],o[3]);this._createT=function(){var t=i._suiData,n=new e;return n.scale9Grid=c,a&&(n.texture=t.getTexture(r),n.width=u,n.height=h,i.bindEvent(n)),n}},i}(t.BitmapCreator);t.ScaleBitmapCreator=i,__reflect(i.prototype,"junyou.ScaleBitmapCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._scrollType=0,e._supportSize=15,e.initBaseContainer(),e}return __extends(e,t),e.prototype.initBaseContainer=function(){var t=new egret.Sprite,e=new egret.Sprite;this.addChild(e),this.addChild(t),e.visible=!1,this.bar=t,this.bg=e},Object.defineProperty(e.prototype,"scrollType",{get:function(){return this._scrollType},set:function(t){this._scrollType=t,this.checkBarSize(),this.checkBgSize(),this.$setSupportSize(this._supportSize)},enumerable:!0,configurable:!0}),e.prototype.setBg=function(t,e){this._bgBmp=t,t.y=0,e>0?this._bgSize=e:this.checkBgSize(),this.bg.addChild(t),this.$setSupportSize(this._supportSize)},e.prototype.setBar=function(t,e){this._barBmp=t,t.y=0,e>0?this._barSize=e:this.checkBarSize(),this.bar.addChild(t),this.$setSupportSize(this._supportSize)},Object.defineProperty(e.prototype,"bgSize",{get:function(){return this._bgSize},set:function(t){this._bgSize!=t&&this.$setBgSize(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"barSize",{get:function(){return this._barSize},set:function(t){this._barSize!=t&&this.$setBarSize(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"supportSize",{get:function(){return this._supportSize},set:function(t){this._supportSize!=t&&this.$setSupportSize(t)},enumerable:!0,configurable:!0}),e.prototype.$setSupportSize=function(t){this._supportSize=t;var e=this,i=e._bgBmp,n=e._barBmp;0==this._scrollType?(i&&(i.width=t),n&&(n.width=t)):(i&&(i.height=t),n&&(n.height=t))},e.prototype.$setBarSize=function(t){this._barSize=t;var e=this._barBmp;e&&(0==this._scrollType?e.height=t:e.width=t)},e.prototype.$setBgSize=function(t){this._bgSize=t;var e=this._bgBmp;e&&(0==this._scrollType?e.height=t:e.width=t)},e.prototype.checkBgSize=function(){var t=this._bgBmp;t&&(0==this._scrollType?this._bgSize=t.height:this._bgSize=t.width)},e.prototype.checkBarSize=function(){var t=this._bgBmp;t&&(0==this._scrollType?this._barSize=t.height:this._barSize=t.width)},e}(t.Component);t.ScrollBar=e,__reflect(e.prototype,"junyou.ScrollBar");var i=function(i){function n(){return i.call(this)||this}return __extends(n,i),n.prototype.parseSelfData=function(e){this.uiData=e,this.suiManager=t.singleton(t.SuiResManager),this._createT=this.createScrollBar},n.prototype.createScrollBar=function(){var t,i,n,r,o=new e,a=this.uiData,s=this._suiData.sourceComponentData;t=a[0],i=t[2],n=s[5],r=n[0][i];var u=this.suiManager.createDisplayObject(this._suiData.key,r,t[1]);return o.setBar(u),t=a[1],i=t[2],n=s[5],r=n[0][i],u=this.suiManager.createDisplayObject(this._suiData.key,r,t[1]),o.setBg(u),o},n}(t.BaseCreator);t.ScrollBarCreator=i,__reflect(i.prototype,"junyou.ScrollBarCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.parseSelfData=function(e){t.prototype.parseSelfData.call(this,e[0][2])},e}(t.BitmapCreator);t.ShareBitmapCreator=e,__reflect(e.prototype,"junyou.ShareBitmapCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.initBaseContainer(),e.touchChildren=e.touchEnabled=!0,e.thumb.touchEnabled=!0,e.bgline.touchEnabled=!0,e.addListener(),e}return __extends(e,t),e.prototype.addListener=function(){this.thumb.on("touchBegin",this.onThumbBegin,this),this.on("addedToStage",this.onAddToStage,this)},e.prototype.onAddToStage=function(t){this._barEnabled&&this.stage.on("touchEnd",this.bgOut,this)},Object.defineProperty(e.prototype,"barEnabled",{set:function(t){this._barEnabled=t,t?(this.bgline.on("touchBegin",this.bgClick,this),this.stage&&this.stage.on("touchEnd",this.bgOut,this)):(this.bgline.off("touchBegin",this.bgClick,this),this.stage&&this.bgline.off("touchEnd",this.bgOut,this))},enumerable:!0,configurable:!0}),e.prototype.bgClick=function(t){this._lastThumbX=this.thumb.localToGlobal().x;
var e=t.stageX;this.tipTxt.visible=!0,this.calculatevalue(e),this.tipTxt.text=this.value.toString()},e.prototype.bgOut=function(t){this.tipTxt.visible=!1},e.prototype.onThumbBegin=function(t){this._lastThumbX=this.thumb.localToGlobal().x,this.stage.on("touchMove",this.mouseMove,this),this.thumb.on("touchEnd",this.onThumbEnd,this),this.thumb.on("touchReleaseOutside",this.onThumbEnd,this),this.tipTxt.visible=!0},e.prototype.onThumbEnd=function(t){this.stage.off("touchMove",this.mouseMove,this),this.thumb.off("touchEnd",this.onThumbEnd,this),this.thumb.off("touchReleaseOutside",this.onThumbEnd,this)},e.prototype.mouseMove=function(t){var e=t.stageX;this.calculatevalue(e),this.tipTxt.text=this.value.toString()},e.prototype.calculatevalue=function(t){var e,i,n=t-this._lastThumbX;Math.abs(n)>=this._perStepPixel&&(e=n/this._perStepPixel,e=Math.round(e),i=this.value+e*this._step,i<=this._minValue&&(i=this._minValue),i>=this._maxVlaue&&(i=this._maxVlaue),this.value=i,this._lastThumbX=this.thumb.localToGlobal().x,this.tipTxt.x=this.thumb.x+this._halfThumbWidth-40)},e.prototype.initBaseContainer=function(){this.thumb=new egret.Sprite,this.bgline=new egret.Sprite,this.addChild(this.bgline),this.addChild(this.thumb),this.tipTxt=new egret.TextField,this.tipTxt.y=-12,this.tipTxt.textAlign=egret.HorizontalAlign.CENTER,this.tipTxt.width=80,this.tipTxt.size=12,this.tipTxt.bold=!1,this.addChild(this.tipTxt)},e.prototype.setBg=function(t){this._bgBmp=t,this.bgline.addChild(t),this._width=t.width},e.prototype.setThumb=function(t){this.thumb.x=t.x,this.thumb.y=t.y,t.x=t.y=0,this.thumb.addChild(t),this._halfThumbWidth=.5*t.width},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value!=t&&(this._value=t,this.dispatch(-1040),this.thumb.x=(t-this._minValue)/this._step*this._perStepPixel-this._halfThumbWidth)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!=t&&(this._width=t,this._bgBmp&&(this._bgBmp.width=t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!=t&&(this._height=t,this._bgBmp&&(this._bgBmp.height=t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxVlaue",{set:function(t){this._maxVlaue=t,this.checkStepPixel()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minValue",{set:function(t){this._minValue=t,this.checkStepPixel()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{set:function(t){this._step=t,this.checkStepPixel()},enumerable:!0,configurable:!0}),e.prototype.checkStepPixel=function(){this._perStepPixel=this.bgline.width/((this._maxVlaue-this._minValue)/this._step)},e}(t.Component);t.Slider=e,__reflect(e.prototype,"junyou.Slider");var i=function(i){function n(){return i.call(this)||this}return __extends(n,i),n.prototype.parseSelfData=function(e){this.uiData=e,this.txtCreator=new t.TextFieldCreator,this.scale9Creator=new t.ScaleBitmapCreator,this.bitmapCreator=new t.BitmapCreator(this._suiData),this.suiManager=t.singleton(t.SuiResManager),this._createT=this.createSlider},n.prototype.createSlider=function(){for(var t,i,n,r,o,a=new e,s=this.uiData,u=s.length,h=this._suiData.sourceComponentData,c=0;u>c;c++)if(t=s[c],i=t[0],n=t[2],0==i){this.bitmapCreator.parseSelfData(n);var l=this.bitmapCreator.get();a.setThumb(l)}else if(5==i){r=h[i],o=r[0][n];var p=this.suiManager.createDisplayObject(this._suiData.key,o,t[1]);a.setBg(p)}return a},n}(t.BaseCreator);t.SliderCreator=i,__reflect(i.prototype,"junyou.SliderCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._count=1,i._countShow=1,i.icon=new t.Image,i}return __extends(i,e),Object.defineProperty(i.prototype,"data",{get:function(){return this._data},set:function(t){this.$setData(t)},enumerable:!0,configurable:!0}),i.prototype.$setData=function(t){this._data=t},Object.defineProperty(i.prototype,"rect",{get:function(){return this._rect},set:function(t){if(t){this._rect=t;var e=this.icon;e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"countTxt",{get:function(){return this._countTxt},set:function(e){var i=this._countTxt;i!=e&&(t.removeDisplay(i),this._countTxt=e,this.refreshCount(),this.invalidateDisplay())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"iconSource",{set:function(t){this._uri!=t&&(this._uri=t,this.icon.source=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"count",{set:function(t){this._count!=t&&(this._count=t,this.refreshCount())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"countShow",{get:function(){return this._countShow},set:function(t){this._countShow!=t&&(this._countShow=t,this.refreshCount())},enumerable:!0,configurable:!0}),i.prototype.refreshCount=function(){this.stage&&this._countTxt&&(this._countTxt.text=this.getCount())},i.prototype.getCount=function(){var t="",e=this._count;switch(this.countShow){case 1:e>1&&(t=e+"");break;case 2:t=i.getCountString(e)}return t},i.prototype.invalidateDisplay=function(){this._changed=!0,this.stage&&t.Global.callLater(this.refreshDisplay,0,this)},i.prototype.refreshDisplay=function(){return this._changed?(this._changed=!1,this.bg&&this.addChild(this.bg),this.addChild(this.icon),this._countTxt&&this.addChild(this._countTxt),!0):!1},i.prototype.awake=function(){this.refreshDisplay(),this.refreshCount()},i.prototype.dispose=function(){this.icon.dispose(),e.prototype.dispose.call(this)},Object.defineProperty(i.prototype,"width",{get:function(){return this.suiRawRect.width},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.suiRawRect.height},enumerable:!0,configurable:!0}),i.getCountString=function(e){return 1>e?"":1e4>e?e+"":t.LangUtil.getMsg("$_wan",Math.floor(e/1e4))},i}(t.Component);t.Slot=e,__reflect(e.prototype,"junyou.Slot");var i=function(t){function i(){return t.call(this)||this}return __extends(i,t),i.prototype.parseSelfData=function(t){var i=this,n=t[0],r=n?new egret.Rectangle(n[0],n[1],n[2],n[3]):void 0;this._createT=function(){var n=new e;n.rect=r;var o=t[1];if(o){var a=i.createElement(o);n.countTxt=a}if(o=t[2]){var a=i.createElement(o);o.length>1?n.bg=a:n.bg=a}return n.invalidateDisplay(),n}},i}(t.BaseCreator);t.SlotCreator=i,__reflect(i.prototype,"junyou.SlotCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.parseSelfData=function(t){var e=this;this._createT=function(){var i=new egret.TextField;return i.rawTextData=t,e.initTextData(i,t),i}},i.prototype.initTextData=function(e,n){var r=["dynamic","dynamic","input"][+n[0]],o=n[1]||i.DefaultFonts,a=["left","center","right","justify"][+n[2]],s=t.ColorUtil.getColorValue(n[3]),u=n[4]||12,h=+n[5],c=!!n[6],l=!!n[7],p=0,f=0,d=n[8];Array.isArray(d)&&(f=d[0],"string"==typeof f&&(f=t.ColorUtil.getColorValue(f)),p=d[1]),e.type=r,e.fontFamily=o,e.textAlign=a,e.textColor=s,e.size=u,e.lineSpacing=h,e.bold=c,e.italic=l,e.stroke=p,e.strokeColor=f},i.DefaultFonts="",i}(t.BaseCreator);t.TextFieldCreator=e,__reflect(e.prototype,"junyou.TextFieldCreator")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(t,i,n){void 0===n&&(n=6);var r=e.call(this,t,i)||this;return r._layout=n,r}return __extends(i,e),i.prototype.onResize=function(){var e=this._host,i=e.stage||egret.sys.$TempStage,n=this._basis,r=i.stageWidth,o=i.stageHeight,a=n.width,s=n.height,u=r,h=o,c=r,l=o,p=1;if(r>a||o>s){var f=this.getFixedNarrow(r,o,a,s,!0);h=f.dh,u=f.dw,c=f.lw,l=f.lh,p=f.scale}else u=a,h=s;this._lw=c,this._lh=l,e.scaleY=e.scaleX=p;var d=t.Temp.SharedPoint1;t.Layout.getLayoutPos(u,h,r,o,this._layout,d),e.x=d.x,e.y=d.y,this.layoutAll()},i}(t.LayoutContainer);t.BGContainer=e,__reflect(e.prototype,"junyou.BGContainer")}(junyou||(junyou={}));var junyou;!function(t){function e(t,e,i,n,r,o,a,s){void 0===a&&(a=0),void 0===s&&(s=0);var u=r.x,h=r.y,c=u+a,l=h+s;return t+c+a>i&&(c=i-t-a,u>c&&(c=u-t-a),0>c&&(c=a)),e+h+s>n&&(l=n-e-s,0>l&&(l=s)),o.x=Math.round(c),o.y=Math.round(l),o}function i(t,e,i,n,r,o,a,s,u,h){void 0===a&&(a=0),void 0===s&&(s=0),o=o||{};var c=12&r,l=3&r,p=0,f=0;switch(c){case 4:u&&(p=-e);break;case 8:p=n-e>>1;break;case 12:p=u?n:n-e}switch(l){case 1:h&&(f=-t);break;case 2:f=i-t>>1;break;case 3:f=h?i:i-t}return o.x=Math.round(f+a),o.y=Math.round(p+s),o}function n(t,e){var i;if(i=t instanceof egret.DisplayObject?t:t.display){var n,o,a;e&&e instanceof egret.DisplayObjectContainer&&(a=e),a||(a=i.parent),a||(a=egret.sys.$TempStage),a instanceof egret.Stage?(n=a.stageWidth,o=a.stageHeight):(n=e.width,o=e.height);var s=t.$layoutSize;return s||(i.getTransformedBounds(a,r),s=r),[s.width,s.height,i,n,o,a]}}var r=new egret.Rectangle;t.Layout={layout:function(t,e,r,o,a,s,u){var h=n(t,u);if(h){var c=h[0],l=h[1],p=h[2],f=h[3],d=h[4];i(c,l,f,d,e,p,r,o,a,s)}},layoutPercent:function(t,e,i,r,o,a){void 0===e&&(e=0),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0);var s=n(t,r);if(s){var u=s[0],h=s[1],c=s[2],l=s[3],p=s[4];return c.x=Math.round((l-u)*i+o),c.y=Math.round((p-h)*e+a),c}},getLayoutPos:i,tipLayout:function(t,i,r,o,a){var s=n(t,a);if(s){var u=s[0],h=s[1],c=s[2],l=s[3],p=s[4];e(u,h,l,p,i,c,r,o)}},getTipLayoutPos:e}}(junyou||(junyou={}));var $useDPR=!0,dpr=1;if(window.$useDPR){dpr=window.devicePixelRatio||1;var origin=egret.sys.DefaultScreenAdapter.prototype.calculateStageSize;egret.sys.screenAdapter={calculateStageSize:function(t,e,i,n,r){var o=origin(t,e,i,n,r);return t==egret.StageScaleMode.NO_SCALE&&(o.stageHeight*=dpr,o.stageWidth*=dpr),o}}}var junyou;!function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.prototype.onResize=function(){var t=this._host,e=t.stage||egret.sys.$TempStage,i=this._basis,n=e.stageWidth,r=e.stageHeight,o=i.width,a=i.height,s=n,u=r,h=n,c=r,l=1;if(1!=dpr||o*dpr>n||a*dpr>r){var p=this.getFixedNarrow(n,r,o,a);u=p.dh,s=p.dw,h=p.lw,c=p.lh,l=p.scale}this._lw=h,this._lh=c,t.x=0,t.y=0,t.scaleY=t.scaleX=l,this.layoutAll()},i.prototype.add=function(e,i,n,r){var o=e.suiRawRect,a=t.Layout.getLayoutPos(o.width,o.height,n.width,n.height,i),s=o.x-n.x,u=o.y-n.y,h=s-a.x,c=u-a.y;this.addLayout(e,i,o,h,c,!1,!1,r)},i.prototype.binLayout=function(t){if(0==t.type){var i=t.dis,n=this._host,r=n.scaleX;i.x=t.hoffset*r,i.y=t.voffset*r;var o=n.stage||egret.sys.$TempStage;i.width=o.stageWidth/r,i.height=o.stageHeight/r}else e.prototype.binLayout.call(this,t)},i}(t.LayoutContainer);t.MainUIContainer=e,__reflect(e.prototype,"junyou.MainUIContainer")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this._list=[]}return e.prototype.init=function(t){this._stage=t||egret.sys.$TempStage,this._stage.on("resize",this.onResize,this)},e.prototype.add=function(t,e,i,n,r){var o=this._list;t.$_resize={layout:e,hoffset:i,voffset:n,container:r},o.pushOnce(t),t.stage?this.resize(t):t.once("addedToStage",this.onAdded,this)},e.prototype.remove=function(t){this._list.remove(t),t.off("addedToStage",this.onAdded,this),t.$_resize&&(t.$_resize=void 0)},e.prototype.onAdded=function(t){var e=t.target,i=this._list.indexOf(e);0>i||this.resize(e)},e.prototype.resize=function(e){var i=e.$_resize,n=i.container||egret.sys.$TempStage;t.Layout.layout(e,i.layout,i.hoffset,i.voffset,!1,!1,n)},e.prototype.onResize=function(){for(var t=this._list,e=t.length,i=0;e>i;i++)this.resize(t[i])},e.prototype.dispose=function(){this._stage.off("addedToStage",this.onAdded,this),this._list.length=0},e}();t.ResizeManager=e,__reflect(e.prototype,"junyou.ResizeManager")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(i,n){void 0===i&&(i="lib"),void 0===n&&(n="ui.btn.MenuBtn");var r=e.call(this)||this,o=t.singleton(t.SuiResManager).createDisplayObject(i,n);return r.skin=o,r.btn=o,r}return __extends(i,e),i.prototype.$setData=function(t){e.prototype.$setData.call(this,t),this.btn.label=t.label},i}(t.MenuBaseRender);t.ButtonMenuRender=e,__reflect(e.prototype,"junyou.ButtonMenuRender")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(i,n){var r=e.call(this)||this;return r.style=i,r.uiManager=t.singleton(t.SuiResManager),r.maxRenderCount=n,r.bindComponent(),r}return __extends(i,e),i.bind=function(t,e,n){var r=i.dic;r||(i.dic=r=new Map),r.has(t)||r.set(t,e),e.menuinitFunc=n,t.on(-1e3,i.onShowOrHideMenu,this)},i.unBind=function(e){var n=i.dic;if(n){if(n.has(e)){var r=n.get(e);r.menuinitFunc=void 0,t.removeDisplay(r),n["delete"](e)}e.off(-1e3,i.onShowOrHideMenu,this)}},i.onShowOrHideMenu=function(e){var n=e.target,r=n.selected,o=i.dic.get(n),a=n.view;if(r){if(a instanceof egret.DisplayObjectContainer){a.addChild(o);var s=o.menuinitFunc;s&&s.call(n,n,o)}this.currentShow=n}else t.removeDisplay(o),this.currentShow=void 0;n.dispatch(-1999)},i.prototype.bindComponent=function(){var t=this.uiManager,e=this.style.uikey,i=this.style.possize,n=this.style.renderClass,r=this.style.scalebg,o=t.createDisplayObject(e,r);this.addChild(o),o.width=i.width,o.height=i.height,this.renders=[];for(var a=0;a<this.maxRenderCount;a++){var s=new n;this.renders[a]=s,this.addChild(s.view)}},i.prototype.displayMenuDatas=function(e){for(var i=e.length,n=this.renders.length,r=this.style,o=[],a=0;i>a;a++){var s=this.renders[a];s.data=e[a],this.addChild(s.view),o[a]=s}if(n>i)for(var a=i;n>a;a++)t.removeDisplay(this.renders[a].view);var u,h=r.possize,c=o[0].getSize();if(r.align){u=(h.height-2*h.y-i*c.height)/(i-1);for(var a=0;i>a;a++){var s=o[a];c=s.getSize();var l=s.view;l.x=~~h.x,l.y=~~(h.y+(u+c.height)*a)}}else{u=(h.width-2*h.x-i*c.width)/(i-1);for(var a=0;i>a;a++){var s=o[a];c=s.getSize();var l=s.view;l.x=~~(h.x+(u+c.width)*a),l.y=~~h.y}}},i}(egret.Sprite);t.Menu=e,__reflect(e.prototype,"junyou.Menu")}(junyou||(junyou={}));var junyou;!function(t){function e(){return t.getXHR=window.XMLHttpRequest?function(){return new XMLHttpRequest}:function(){return new ActiveXObject("MSXML2.XMLHTTP")},t.getXHR()}t.getXHR=e}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(t){this._parent=t}return e.prototype.show=function(e,i,n,r){void 0===i&&(i=16777215),void 0===n&&(n=1e3),void 0===r&&(r=1e3);var o=new egret.TextField;o.textAlign=egret.HorizontalAlign.CENTER,/<[^>]+>/.test(e)?o.setHtmlText(e):o.text=e,o.alpha=1,t.Layout.layout(o,10),o.textColor=i,this._parent.addChild(o);var a=t.Global.getTween(o);a.to({y:o.y-100},n).to({alpha:0},r).call(this.txtComplete,this,[a,o])},e.prototype.txtComplete=function(e){var i=e[0],n=e[1];i&&(i.paused=!0,i.onRecycle()),n&&t.removeDisplay(n)},e}();t.ErrorTips=e,__reflect(e.prototype,"junyou.ErrorTips")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(t,i,n,r){void 0===t&&(t=480),void 0===i&&(i=800),void 0===n&&(n=5);var o=e.call(this)||this;return o._autoSize=r,o._corner=n,o.init(t,i,n),o}return __extends(i,e),i.prototype.init=function(t,e,i){var n;this.tf=n=new egret.TextField;var r=2*i;n.width=t-r,n.height=e-r,n.size=12,n.x=i,n.y=i,this.addChild(n),this.drawRect(0,0,t,e)},i.prototype.setTipData=function(t){var e=this.tf;if(t!=e.text&&(e.text=t,this._autoSize)){var i=2*this._corner,n=e.textWidth+2*i,r=e.textHeight+2*i;this.drawRect(0,0,n,r)}},i.prototype.drawRect=function(t,e,i,n){var r=this.graphics;r.clear(),r.lineStyle(1,13421772),r.beginFill(0,.7),r.drawRoundRect(t,e,i,n,this._corner),r.endFill()},i.prototype.show=function(t,e,i){void 0!=e&&void 0!=i&&(t.addChild(this),this.x=e,this.y=i)},i.prototype.hide=function(){t.removeDisplay(this)},i}(egret.Sprite);t.SimToolTip=e,__reflect(e.prototype,"junyou.SimToolTip",["junyou.IToolTip"])}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){}return e.prototype.register=function(e,i,n,r){this.data=i,this.con=r,this.tooltip!=n&&(this.tooltip=n),this.target!=e&&(this.clearDisListener(this.target),t.Global.clearCallLater(this.showTip,this),e.on("touchBegin",this.checkTouch,this))},e.prototype.clearDisListener=function(t){t.off("touchBegin",this.checkTouch,this),t.off("touchEnd",this.touchEnd,this)},e.prototype.onRecycle=function(){this.target&&(this.clearDisListener(this.target),this.target=void 0),t.Global.clearCallLater(this.showTip,this),this.data=void 0,this.tooltip=void 0},e.prototype.checkTouch=function(e){this.target.on("touchEnd",this.touchEnd,this),t.Global.callLater(this.showTip,t.ToolTipManager.touchTime,this)},e.prototype.showTip=function(){this.target.off("touchEnd",this.touchEnd,this),this.tooltip.show(this.con)},e.prototype.touchEnd=function(e){this.target.off("touchEnd",this.touchEnd,this),t.Global.clearCallLater(this.showTip,this)},e}();t.ToolTipData=e,__reflect(e.prototype,"junyou.ToolTipData",["junyou.IRecyclable"])}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){}return e.register=function(i,n,r,o){if(!r&&(r=e.defaultTip,!r))return!1;var a=e._map,s=a.get(i);return s||(s=t.recyclable(t.ToolTipData),a.set(i,s)),o||(o=t.GameEngine.instance.getLayer(9e3)),s.register(i,n,r,o),!0},e.show=function(t,i,n){var r=e._map.get(t);i&&(r.data=i);var o=r.tooltip;o||(o=e.defaultTip),o&&(o.setTipData(r.data),n||(n=r.con),o.show(n),this._currentSkin=o)},e.refresh=function(t,i){var n=e._map.get(t);n.data=i;var r=n.tooltip;r||(r=e.defaultTip),r&&r.setTipData(n.data)},e.remove=function(t){var i=e._map.get(t);i.recycle()},e.touchTime=500,e._map=new Map,e}();t.ToolTipManager=e,__reflect(e.prototype,"junyou.ToolTipManager")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(e){var i=t.call(this)||this;return i._selected=[],i.maxSelected=e,i}return __extends(e,t),e.prototype.removeItem=function(t){return t?(this._list.remove(t),this._selected.remove(t),t.off("touchTap",this.touchHandler,this),t):void 0},e.prototype.$setSelectedItem=function(t){if(t){var e,i=this._selected,n=-1;if(t.selected)t.selected=!1,i.remove(t),n=i.length-1,e=!0;else{var r=this.maxSelected||1/0;if(!(i.length<r))return this.dispatch(-1021);t.selected=!0,n=i.pushOnce(t),e=!0}return e?(this._selectedIndex=n,this._selectedItem=~n?void 0:i[n],this.dispatch(-1020)):void 0}},Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},enumerable:!0,configurable:!0}),e.prototype.clear=function(){t.prototype.clear.call(this),this._selected.length=0},e}(t.Group);t.CheckBoxGroup=e,__reflect(e.prototype,"junyou.CheckBoxGroup")}(junyou||(junyou={}));var junyou;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._state=0,i._success=0,i._cerror=0,i._error=0,t.NetService._ins=i,i._unsendRequest=[],i._sendingList=[],i._loader=t.getXHR(),i}return __extends(i,e),i.prototype.setUrl=function(e,i){void 0===i&&(i=5e3),this._actionUrl=e,i!=this._autoTimeDelay&&(this._autoTimeDelay=i),t.TimerUtil.addCallback(200,this.checkUnsend,this);var n=this._loader;n.onreadystatechange=this.onReadyStateChange.bind(this),n.ontimeout=this.errorHandler.bind(this)},i.prototype.onReadyStateChange=function(){var t=this._loader;if(4==t.readyState){var e=t.status>=400||0==t.status,i=this;setTimeout(function(){e?i.errorHandler():i.complete()},0)}},i.prototype.errorHandler=function(){if(this._error++,this._cerror++,this._state=-1,this._cerror>1)return void this.showReconnect();for(var t=this._sendingList,e=t.length,i=this._unsendRequest,n=0,r=i;n<r.length;n++){var o=r[n];t[e++]=o}i.length=0,this._unsendRequest=t,this._sendingList=i,this.checkUnsend()},i.prototype.complete=function(){this._state=2,this._reconCount=0;var t=this._readBuffer;t.replaceBuffer(this._loader.response),t.position=0,this._cerror=0,this._success++;for(var e=0,i=this._sendingList;e<i.length;e++){var n=i[e];n.recycle()}this._sendingList.length=0,this.onBeforeSolveData(),this.decodeBytes(t),this.checkUnsend()},i.prototype.checkUnsend=function(){(this._unsendRequest.length||t.Global.now>this._nextAutoTime)&&this.trySend()},i.prototype._send=function(e,i,n){var r=t.recyclable(t.NetData);r.cmd=e,r.data=i,r.msgType=n,this._unsendRequest.push(r),this.trySend()},i.prototype.onBeforeSend=function(){},i.prototype.onBeforeSolveData=function(){},i.prototype.trySend=function(){if(1!=this._state){this._state=1;var e=this._loader;e.open("POST",this._actionUrl,!0),e.responseType="arraybuffer",this.onBeforeSend();var i=this._sendBuffer;i.reset();for(var n=this._unsendRequest,r=this._sendingList,o=0,a=n.length;a>o;o++){var s=n[o];this.writeToBuffer(i,s),r[o]=s}for(var u=this._pcmdList,h=0,c=u;h<c.length;h++){var s=c[h];this.writeToBuffer(i,s),r[o++]=s}u.length=0,n.length=0,e.send(i.outBytes),this._nextAutoTime=t.Global.now+this._autoTimeDelay}},i}(t.NetService);t.HttpNetService=e,__reflect(e.prototype,"junyou.HttpNetService")}(junyou||(junyou={}));var junyou;!function(t){t.GroupItemButton=function(){function t(t){var e=t.currentTarget,n=e[i];n.dispatchEvent(t)}var e="touchTap",i="$gib$btn",n="$gib$txt";return{bind:function(r,o){o[i]||(o[i]=r),o.touchEnabled=!0,o.on(e,t);var a=r[n];a&&a[i]==r&&(delete a[i],a.off(e,t)),r[n]=o},loose:function(r){var o=r[n];o&&(delete r[n],o[i]==r&&(delete o[i],o.off(e,t)))}}}()}(junyou||(junyou={}));var junyou;!function(t){t.TouchDown=function(){function e(t){t.off("touchEnd",n),t.off("touchCancel",n),t.off("touchReleaseOutside",n),t.off("removedFromStage",n)}function i(e){var i=e.target;i.on("touchEnd",n),i.on("touchCancel",n),i.on("touchReleaseOutside",n),i.on("removedFromStage",n);var r=i.$_tdi;r?r.tween&&t.Global.removeTween(r.tween):(i.$_tdi=r={},r.x=i.x,r.y=i.y);var a=t.Global.getTween(i,o);r.tween=a;var s=r.x-.05*i.width,u=r.y-.05*i.height;a.to({scaleX:1.1,scaleY:1.1,x:s,y:u},100,t.Ease.quadOut)}function n(i){var n=i.target;e(n);var a=n.$_tdi;if(a){var s=t.Global.getTween(n,o,null,!0);a.tween=s,s.to({scaleX:1,scaleY:1,x:a.x,y:a.y},100,t.Ease.quadOut).call(r,null,n)}}function r(t){delete t.$_tdi}var o=Object.freeze({"int":{x:1,y:1}});return{bindItem:function(t){t&&t.on("touchBegin",i)},looseItem:function(t){t&&(t.off("touchBegin",i),e(t))}}}()}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function t(){}return t.getValue=function(t,e,i){return t==e||0==i||1==i||"number"!=typeof t?1==i?e:t:t+(e-t)*i},t.get=function(t){return-1>t&&(t=-1),t>1&&(t=1),function(e){return 0==t?e:0>t?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},t.getPowIn=function(t){return function(e){return Math.pow(e,t)}},t.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},t.getPowInOut=function(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},t.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},t.sineOut=function(t){return Math.sin(t*Math.PI/2)},t.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getBackIn=function(t){return function(e){return e*e*((t+1)*e-t)}},t.getBackOut=function(t){return function(e){return--e*e*((t+1)*e+t)+1}},t.getBackInOut=function(t){return t*=1.525,function(e){return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}},t.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},t.circOut=function(t){return Math.sqrt(1- --t*t)},t.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},t.bounceIn=function(e){return 1-t.bounceOut(1-e)},t.bounceOut=function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},t.bounceInOut=function(e){return.5>e?.5*t.bounceIn(2*e):.5*t.bounceOut(2*e-1)+.5},t.getElasticIn=function(t,e){return function(i){if(0==i||1==i)return i;var n=e/Math.PI2*Math.asin(1/t);return-(t*Math.pow(2,10*(i-=1))*Math.sin((i-n)*Math.PI2/e))}},t.getElasticOut=function(t,e){return function(i){if(0==i||1==i)return i;var n=e/Math.PI2*Math.asin(1/t);return t*Math.pow(2,-10*i)*Math.sin((i-n)*Math.PI2/e)+1}},t.getElasticInOut=function(t,e){return function(i){var n=e/Math.PI2*Math.asin(1/t);return(i*=2)<1?-.5*(t*Math.pow(2,10*(i-=1))*Math.sin((i-n)*Math.PI2/e)):t*Math.pow(2,-10*(i-=1))*Math.sin((i-n)*Math.PI2/e)*.5+1}},t.quadIn=t.getPowIn(2),t.quadOut=t.getPowOut(2),t.quadInOut=t.getPowInOut(2),t.cubicIn=t.getPowIn(3),t.cubicOut=t.getPowOut(3),t.cubicInOut=t.getPowInOut(3),t.quartIn=t.getPowIn(4),t.quartOut=t.getPowOut(4),t.quartInOut=t.getPowInOut(4),t.quintIn=t.getPowIn(5),t.quintOut=t.getPowOut(5),t.quintInOut=t.getPowInOut(5),t.backIn=t.getBackIn(1.7),t.backOut=t.getBackOut(1.7),t.backInOut=t.getBackInOut(1.7),t.elasticIn=t.getElasticIn(1,.3),t.elasticOut=t.getElasticOut(1,.3),t.elasticInOut=t.getElasticInOut(1,.3*1.5),t}();t.Ease=e,__reflect(e.prototype,"junyou.Ease")}(junyou||(junyou={}));var junyou;!function(t){var e=function(t){function e(e,i,n,r){var o=t.call(this)||this;return o.loop=!1,o.duration=0,o._prevPos=-1,o.position=null,o._prevPosition=0,o._stepPosition=0,o.passive=!1,o.initialize(e,i,n,r),o}return __extends(e,t),e.prototype.initialize=function(t,e,i,n){this.target=t;var r=this._manager;r&&r!=n&&r.removeTweens(t),e&&(this._useTicks=e.useTicks,this.ignoreGlobalPause=e.ignoreGlobalPause,this.loop=e.loop,e.onChange&&this.on(-1,e.onChange,e.onChangeObj),e.override&&n.removeTweens(t),this._int=e["int"]),this._manager=n,this.pluginData=i||{},this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],e&&e.paused?this.paused=!0:n._register(this,!0),e&&null!=e.position&&this.setPosition(e.position,0)},e.prototype.setPosition=function(t,e){void 0===e&&(e=1),0>t&&(t=0);var i=t,n=!1;if(i>=this.duration&&(this.loop?i%=this.duration:(i=this.duration,n=!0)),i==this._prevPos)return n;var r=this._prevPos;if(this.position=this._prevPos=i,this._prevPosition=t,this.target)if(n)this._updateTargetProps(null,1);else if(this._steps.length>0){for(var o=0,a=this._steps.length;a>o&&!(this._steps[o].t>i);o++);var s=this._steps[o-1];this._updateTargetProps(s,(this._stepPosition=i-s.t)/s.d)}return n&&this.setPaused(!0),0!=e&&this._actions.length>0&&(this._useTicks?this._runActions(i,i):1==e&&r>i?(r!=this.duration&&this._runActions(r,this.duration),this._runActions(0,i,!0)):this._runActions(r,i)),this.dispatch(-1),n},e.prototype._runActions=function(t,e,i){void 0===i&&(i=!1);var n=t,r=e,o=-1,a=this._actions.length,s=1;for(t>e&&(n=e,r=t,o=a,a=s=-1);(o+=s)!=a;){var u=this._actions[o],h=u.t;(h==r||h>n&&r>h||i&&h==t)&&u.f.apply(u.o,u.p)}},e.prototype._updateTargetProps=function(t,i){var n,r,o,a,s,u;if(t||1!=i){if(this.passive=!!t.v,this.passive)return;t.e&&(i=t.e(i,0,1,1)),n=t.p0,r=t.p1}else this.passive=!1,n=r=this._curQueueProps;for(var h in this._initQueueProps){null==(a=n[h])&&(n[h]=a=this._initQueueProps[h]),null==(s=r[h])&&(r[h]=s=a),o=a==s||0==i||1==i||"number"!=typeof a?1==i?s:a:a+(s-a)*i;var c=!1;if(u=this._manager._plugins[h])for(var l=0,p=u.length;p>l;l++){var f=u[l].tween(this,h,o,n,r,i,!!t&&n==r,!t);f==e.IGNORE?c=!0:o=f}c||(this._int&&this._int[h]&&(o=Math.round(o)),this.target[h]=o)}},e.prototype._addStep=function(t){return t.d>0&&(this._steps.push(t),t.t=this.duration,this.duration+=t.d),this},e.prototype._appendQueueProps=function(t){var e,i,n,r,o;for(var a in t)if(void 0===this._initQueueProps[a]){if(i=this.target[a],e=this._manager._plugins[a])for(n=0,r=e.length;r>n;n++)i=e[n].init(this,a,i);this._initQueueProps[a]=this._curQueueProps[a]=void 0===i?null:i}else i=this._curQueueProps[a];for(var a in t){if(i=this._curQueueProps[a],e=this._manager._plugins[a])for(o=o||{},n=0,r=e.length;r>n;n++)e[n].step&&e[n].step(this,a,i,t[a],o);this._curQueueProps[a]=t[a]}return o&&this._appendQueueProps(o),this._curQueueProps},e.prototype._addAction=function(t){return t.t=this.duration,this._actions.push(t),this},e.prototype._set=function(t,e){for(var i in t)e[i]=t[i]},e.prototype.setPaused=function(t){return this.paused=t,this._manager._register(this,!t),this},e.prototype.wait=function(t,e){if(null==t||0>=t)return this;var i=this._curQueueProps.clone();return this._addStep({d:t,p0:i,p1:i,v:e})},e.prototype.to=function(t,e,i){return(isNaN(e)||0>e)&&(e=0),this._addStep({d:e||0,p0:this._curQueueProps.clone(),e:i,p1:this._appendQueueProps(t).clone()})},e.prototype.call=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return this._addAction({f:t,p:i,o:e?e:this.target})},e.prototype.set=function(t,e){return this._addAction({f:this._set,o:this,p:[t,e||this.target]})},e.prototype.play=function(t){return t||(t=this),this.call(t.setPaused,t,!1)},e.prototype.pause=function(t){return t||(t=this),this.call(t.setPaused,t,!0)},e.prototype.tick=function(t){this.paused||this.setPosition(this._prevPosition+t)},e.prototype.onRecycle=function(){this._int=void 0},e.IGNORE={},e}(egret.EventDispatcher);t.Tween=e,__reflect(e.prototype,"junyou.Tween")}(junyou||(junyou={}));var junyou;!function(t){var e=function(){function e(){this._tweens=[],this._plugins={}}return e.prototype.get=function(e,i,n,r){return r&&this.removeTweens(e),new t.Tween(e,i,n,this)},e.prototype.removeTweens=function(t){if(t.tween_count){for(var e=this._tweens,i=0,n=0,r=e.length;r>n;n++){var o=e[n];o.target==t?(o.paused=!0,o.onRecycle()):e[i++]=o}e.length=i,t.tween_count=0}},e.prototype.removeTween=function(t){if(t)for(var e=this._tweens,i=e.length-1;i>=0;i--){var n=e[i];if(n==t){n.paused=!0,e.splice(i,1),n.onRecycle();break}}},e.prototype.pauseTweens=function(t){if(t.tween_count)for(var e=this._tweens,i=e.length-1;i>=0;i--)e[i].target==t&&(e[i].paused=!0)},e.prototype.resumeTweens=function(t){if(t.tween_count)for(var e=this._tweens,i=e.length-1;i>=0;i--)e[i].target==t&&(e[i].paused=!1)},e.prototype.tick=function(t,e){if(this._tweens.length)for(var i=this._tweens.concat(),n=i.length-1;n>=0;n--){var r=i[n];e&&!r.ignoreGlobalPause||r.paused||r.tick(r._useTicks?1:t)}},e.prototype._register=function(t,e){var i=t.target,n=this._tweens;if(e&&!t._registered)i&&(i.tween_count=i.tween_count>0?i.tween_count+1:1),n.push(t);else{i&&i.tween_count--;for(var r=n.length;r--;)if(n[r]==t)return n.splice(r,1),void t.onRecycle()}},e.prototype.removeAllTweens=function(){for(var t=this._tweens,e=0,i=t.length;i>e;e++){var n=t[e];n.paused=!0,n.onRecycle(),n.target.tweenjs_count=0}t.length=0},e.prototype.hasActiveTweens=function(t){return t?null!=t.tweenjs_count&&!!t.tweenjs_count:this._tweens&&!!this._tweens.length},e.prototype.installPlugin=function(t,e){var i=t.priority;null==i&&(t.priority=i=0);for(var n=0,r=e.length,o=this._plugins;r>n;n++){var a=e[n];if(o[a]){for(var s=o[a],u=0,h=s.length;h>u&&!(i<s[u].priority);u++);o[a].splice(u,0,t)}else o[a]=[t]}},e}();t.TweenManager=e,__reflect(e.prototype,"junyou.TweenManager")}(junyou||(junyou={}));var junyou;!function(t){t.Stats=function(){function e(t){return void 0===t?"":encodeURIComponent(t)}var i,n,r,o,a,s;return{setUrl:function(t){return"?"!=t.charAt(t.length-1)&&(t+="?"),i=t,this},setParams:function(t){return n=e(t.ip),o=e(t.pid),a=e(t.uid),s=e(t.sid),this},setSign:function(t){return r=e(t),this},postData:function(e){t.sendToUrl(i+this.getParamUrl(e))},getParamUrl:function(i){return"step="+e(i)+"&ip="+n+"&sign="+r+"&pid="+o+"&sid="+s+"&uid="+a+"&client_time="+t.Global.now}}}()}(junyou||(junyou={}));